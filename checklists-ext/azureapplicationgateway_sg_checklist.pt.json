{
    "$schema": "https://raw.githubusercontent.com/Azure/review-checklists/main/checklists/checklist.schema.json",
    "categories": [],
    "items": [
        {
            "description": "Quando você distribui várias instâncias entre zonas, sua carga de trabalho pode suportar falhas em uma única zona. Se você tiver uma zona indisponível, o tráfego mudará automaticamente para instâncias íntegras em outras zonas, o que mantém a confiabilidade do aplicativo.",
            "guid": "a36e2517-aa81-4e4b-9962-e78144b18ac7",
            "service": "Azure Application Gateway",
            "text": "Implante instâncias do Gateway de Aplicativo em uma configuração com reconhecimento de zona.  Verifique o suporte regional para redundância de zona porque nem todas as regiões oferecem esse recurso.",
            "type": "recommendation",
            "waf": "Fiabilidade"
        },
        {
            "description": "As investigações de integridade garantem que o tráfego seja roteado apenas para back-ends que possam lidar com o tráfego. O Gateway de Aplicativo monitora a integridade de todos os servidores em seu pool de back-end e interrompe automaticamente o envio de tráfego para qualquer servidor que considere não íntegro.",
            "guid": "9afcdcea-4d65-4d51-9008-297c2c363625",
            "service": "Azure Application Gateway",
            "text": "Use investigações de integridade do Gateway de Aplicativo para detectar a indisponibilidade de back-end.",
            "type": "recommendation",
            "waf": "Fiabilidade"
        },
        {
            "description": "Use a limitação de taxa para evitar problemas como tempestades de repetição.",
            "guid": "7bcec0ab-ea83-427d-ae8c-946bf662ece6",
            "service": "Azure Application Gateway",
            "text": "Configure regras de limitação de taxa para o WAF do Azure para que os clientes não possam enviar muito tráfego para seu aplicativo.",
            "type": "recommendation",
            "waf": "Fiabilidade"
        },
        {
            "description": "UDRs na sub-rede do Gateway de Aplicativo podem causar alguns problemas. Não use UDRs na sub-rede do Gateway de Aplicativo para que você possa exibir a integridade, os logs e as métricas de back-end.",
            "guid": "b2881b32-11c9-4bec-94d0-255ec577fdab",
            "service": "Azure Application Gateway",
            "text": "Não use UDRs no Gateway de Aplicativo para que o relatório de integridade de back-end funcione corretamente e gere os logs e as métricas corretos.  Se você precisar usar uma UDR na sub-rede do Gateway de Aplicativo, consulte UDRs com suporte.",
            "type": "recommendation",
            "waf": "Fiabilidade"
        },
        {
            "description": "Defina o IdleTimeout para corresponder ao back-end. Essa configuração garante que a conexão entre o Gateway de Aplicativo e o cliente permaneça aberta se o back-end levar mais de quatro minutos para responder à solicitação. Se você não definir essa configuração, a conexão será fechada e o cliente não verá a resposta de back-end.",
            "guid": "0719fb38-2436-415b-8db7-3d19a1e57bee",
            "service": "Azure Application Gateway",
            "text": "Defina as configurações de IdleTimeout para corresponder às características de ouvinte e tráfego do aplicativo de back-end. O valor padrão é quatro minutos. Você pode configurá-lo para um máximo de 30 minutos.  Para obter mais informações, consulte Redefinição do protocolo TCP (Protocolo de Controle de Transmissão) do balanceador de carga e tempo limite ocioso.",
            "type": "recommendation",
            "waf": "Fiabilidade"
        },
        {
            "description": "Use a política TLS mais recente para impor o uso do TLS 1.2 e cifras mais fortes. A política TLS inclui o controle da versão do protocolo TLS e dos conjuntos de criptografia, e também a ordem na qual um handshake TLS usa criptografias.",
            "guid": "8e0ffc7d-aecb-456f-8a8a-6cbd5743e076",
            "service": "Azure Application Gateway",
            "text": "Configure uma política TLS para segurança aprimorada. Certifique-se de usar a versão mais recente da política TLS.",
            "type": "recommendation",
            "waf": "Segurança"
        },
        {
            "description": "O desempenho melhora porque as solicitações que vão para back-ends diferentes não precisam ser autenticadas novamente em cada back-end. O gateway pode acessar o conteúdo da solicitação e tomar decisões de roteamento inteligentes. Você só precisa instalar o certificado no Gateway de Aplicativo, o que simplifica o gerenciamento de certificados.",
            "guid": "0534341b-03de-4eb4-9fbb-47806be1958d",
            "service": "Azure Application Gateway",
            "text": "Use o Gateway de Aplicativo para terminação TLS.",
            "type": "recommendation",
            "waf": "Segurança"
        },
        {
            "description": "Essa abordagem fornece segurança mais forte, separação mais fácil de funções e responsabilidades, suporte para certificados gerenciados e um processo mais fácil de renovação e rotação de certificados.",
            "guid": "14551ef6-ea58-410f-bb9b-08a0c10381a8",
            "service": "Azure Application Gateway",
            "text": "Integre o Gateway de Aplicativo ao Key Vault para armazenar certificados TLS.",
            "type": "recommendation",
            "waf": "Segurança"
        },
        {
            "description": "A sub-rede do Gateway de Aplicativo dá suporte a NSGs, mas há algumas restrições. Por exemplo, alguma comunicação com determinados intervalos de portas é proibida. Certifique-se de entender as implicações dessas restrições.",
            "guid": "6febf0db-32d2-4e89-a3fd-debec3a426dd",
            "service": "Azure Application Gateway",
            "text": "Cumpra todas as restrições de NSG para Gateway de Aplicativo.",
            "type": "recommendation",
            "waf": "Segurança"
        },
        {
            "description": "Uma instância do Gateway de Aplicativo interrompida não incorre em custos. As instâncias do Gateway de Aplicativo que são executadas continuamente podem incorrer em custos desnecessários. Avalie os padrões de uso e interrompa instâncias quando você não precisar deles. Por exemplo, espere baixo uso após o horário comercial em ambientes de desenvolvimento/teste.",
            "guid": "147308ab-aa3c-4724-b314-5820ebe6a0ee",
            "service": "Azure Application Gateway",
            "text": "Pare as instâncias do Gateway de Aplicativo quando elas não estiverem em uso. Para obter mais informações, consulte Stop-AzApplicationGateway e Start-AzApplicationGateway.",
            "type": "recommendation",
            "waf": "Custar"
        },
        {
            "description": "Use essas métricas para validar se a contagem de instâncias provisionadas corresponde à quantidade de tráfego de entrada e certifique-se de utilizar totalmente os recursos alocados.",
            "guid": "1946aefd-0576-40b2-a8ed-58265dc9dcf0",
            "service": "Azure Application Gateway",
            "text": "Monitore as principais métricas do Gateway de Aplicativo do direcionador de custo, como: - Unidades de capacidade faturadas estimadas.  - Unidades fixas de capacidade faturável. - Unidades de capacidade atual.  Certifique-se de contabilizar os custos de largura de banda.",
            "type": "recommendation",
            "waf": "Custar"
        },
        {
            "description": "Defina alertas quando as métricas ultrapassarem os limites para que você saiba quando seu uso aumenta. Essa abordagem garante que você tenha tempo suficiente para implementar as alterações necessárias em sua carga de trabalho e evita degradação ou interrupções.",
            "guid": "aa1eacb3-ef9f-4e69-bc98-784ec67d1192",
            "service": "Azure Application Gateway",
            "text": "Configure alertas para notificar sua equipe quando as métricas de capacidade, como uso da CPU e uso da unidade de computação, ultrapassarem os limites recomendados.  Para configurar um conjunto abrangente de alertas com base em métricas de capacidade, consulte Suporte de alto tráfego do Gateway de Aplicativo.",
            "type": "recommendation",
            "waf": "Operações"
        },
        {
            "description": "Use alertas para ajudar a garantir que sua equipe possa responder aos problemas em tempo hábil e facilitar a solução de problemas.",
            "guid": "91992f80-fca7-48ad-85bc-3bad00352475",
            "service": "Azure Application Gateway",
            "text": "Configure alertas para notificar sua equipe sobre métricas que indicam problemas no Gateway de Aplicativo ou no back-end. Recomendamos que você avalie os seguintes alertas:- Contagem de hosts não íntegros- Status de resposta, como erros 4xx e 5xx - Status de resposta de back-end, como erros 4xx e 5xx - Tempo de resposta do último byte de back-end- Tempo total do Gateway de AplicativoPara obter mais informações, consulte Métricas para o Gateway de Aplicativo.",
            "type": "recommendation",
            "waf": "Operações"
        },
        {
            "description": "Use logs para ajudar a detectar, investigar e solucionar problemas com instâncias do Gateway de Aplicativo e sua carga de trabalho.",
            "guid": "59ddc80c-f93b-488b-814d-270a4ad7786d",
            "service": "Azure Application Gateway",
            "text": "Habilite logs de diagnóstico no Gateway de Aplicativo e no WAF para coletar logs de firewall, logs de desempenho e logs de acesso.",
            "type": "recommendation",
            "waf": "Operações"
        },
        {
            "description": "Use os alertas do Assistente para se manter atualizado e corrigir problemas imediatamente. Evite problemas relacionados ao plano de controle ou ao plano de dados.  O Gateway de Aplicativo verifica a versão renovada do certificado na instância vinculada do Key Vault a cada 4 horas. Se a versão do certificado estiver inacessível devido a uma configuração incorreta do Key Vault, ele registrará esse erro e enviará uma recomendação do Assistente correspondente.",
            "guid": "88daf0df-5324-450c-ae59-e8d3f12f697a",
            "service": "Azure Application Gateway",
            "text": "Use o Assistente para monitorar problemas de configuração do Key Vault. Defina um alerta para notificar sua equipe quando você receber a recomendação que declara Resolver problema do Azure Key Vault para o Gateway de Aplicativo.",
            "type": "recommendation",
            "waf": "Operações"
        },
        {
            "description": "Para o Gateway de Aplicativo v2, o dimensionamento automático leva aproximadamente seis a sete minutos antes que o conjunto extra de instâncias esteja pronto para atender ao tráfego. Durante esse tempo, se o Gateway de Aplicativo tiver picos curtos no tráfego, espere latência transitória ou perda de tráfego.",
            "guid": "1c9a7b2a-0e95-4416-8af5-4d173c48870e",
            "service": "Azure Application Gateway",
            "text": "Defina a contagem mínima de instâncias para um nível ideal com base na contagem de instâncias estimada, nas tendências reais de dimensionamento automático do Gateway de Aplicativo e nos padrões de aplicativo.  Verifique as unidades de computação atuais do mês passado. Essa métrica representa o uso da CPU do gateway. Para definir a contagem mínima de instâncias, divida o pico de uso por 10. Por exemplo, se a média atual de unidades de computação no último mês for 50, defina a contagem mínima de instâncias como cinco.",
            "type": "recommendation",
            "waf": "Desempenho"
        },
        {
            "description": "O Gateway de Aplicativo pode escalar horizontalmente conforme necessário para lidar com o aumento do tráfego para seus aplicativos. Essa configuração não aumenta o custo porque você paga apenas pela capacidade consumida.",
            "guid": "2b1242f0-cf07-48fa-8567-63a11efd6d13",
            "service": "Azure Application Gateway",
            "text": "Defina a contagem máxima de instâncias de dimensionamento automático como o máximo possível, que é de 125 instâncias. Verifique se a sub-rede dedicada do Gateway de Aplicativo tem endereços IP disponíveis suficientes para dar suporte ao conjunto aumentado de instâncias.",
            "type": "recommendation",
            "waf": "Desempenho"
        },
        {
            "description": "Use uma sub-rede /24 para fornecer suporte a todos os endereços IP necessários para a implantação do Gateway de Aplicativo v2.  O Gateway de Aplicativo usará um endereço IP privado para cada instância e outro endereço IP privado se você configurar um IP de front-end privado. O SKU Standard_v2 ou WAF_v2 pode dar suporte a até 125 instâncias. O Azure reserva cinco endereços IP em cada sub-rede para uso interno.",
            "guid": "bd29ba93-56b6-43cc-9546-8aace18d45e5",
            "service": "Azure Application Gateway",
            "text": "Dimensione adequadamente a sub-rede dedicada do Gateway de Aplicativo. É altamente recomendável uma sub-rede /24 para uma implantação do Gateway de Aplicativo v2.  Se você quiser implantar outros recursos do Gateway de Aplicativo na mesma sub-rede, considere os endereços IP extras necessários para a contagem máxima de instâncias.  Para obter mais considerações sobre como dimensionar a sub-rede, consulte Configuração de infraestrutura do Gateway de Aplicativo.",
            "type": "recommendation",
            "waf": "Desempenho"
        }
    ],
    "metadata": {
        "name": "Azure Application Gateway Service Guide",
        "state": "preview",
        "timestamp": "October 21, 2024",
        "waf": "all"
    },
    "status": [
        {
            "description": "Esta verificação ainda não foi analisada",
            "name": "Não verificado"
        },
        {
            "description": "Há um item de ação associado a essa verificação",
            "name": "Abrir"
        },
        {
            "description": "Essa verificação foi verificada e não há mais itens de ação associados a ela",
            "name": "Cumprido"
        },
        {
            "description": "Não aplicável para o projeto atual",
            "name": "N/A"
        },
        {
            "description": "Não é necessário",
            "name": "Não é necessário"
        }
    ],
    "waf": [
        {
            "name": "fiabilidade"
        },
        {
            "name": "Custar"
        },
        {
            "name": "Operações"
        },
        {
            "name": "segurança"
        },
        {
            "name": "Desempenho"
        },
        {
            "name": "Fiabilidade"
        },
        {
            "name": "Operações"
        },
        {
            "name": "Segurança"
        },
        {
            "name": "desempenho"
        },
        {
            "name": "custar"
        }
    ],
    "yesno": [
        {
            "name": "Sim"
        },
        {
            "name": "Não"
        }
    ]
}