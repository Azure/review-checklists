{
    "categories": [
        {
            "name": "Cluster_Security"
        },
        {
            "name": "ウィンドウズ"
        },
        {
            "name": "同一性"
        },
        {
            "name": "オペレーションズ"
        },
        {
            "name": "ネットワーキング"
        },
        {
            "name": "Resource_Management"
        },
        {
            "name": "アプリケーション"
        },
        {
            "name": "コンテナ"
        },
        {
            "name": "貯蔵"
        },
        {
            "name": "Cluster_Multi"
        },
        {
            "name": "Bc_Dr"
        }
    ],
    "items": [
        {
            "category": "アプリケーション",
            "description": "長時間実行されている多くのアプリケーションは、最終的に壊れた状態に移行し、再起動しない限り回復できません。Kubernetes には、このような状況を検出して修正するための liveness probe が用意されています。プローブは、ポッドが応答しなくなったときにポッドを再起動するようにKubernetesに指示するためにここにあります",
            "documentation": [
                {
                    "title": "Configure Liveness, Readiness and Startup Probes",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/"
                }
            ],
            "guid": "2e9ed573-38b2-4856-a7f9-676d9ab604e1",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement a proper Liveness probe"
        },
        {
            "category": "アプリケーション",
            "description": "起動プローブで起動の遅いコンテナを保護します。起動プローブを使用すると、デッドロックや誤った結果を引き起こす可能性のある活性によって初期チェックを遅らせることができます",
            "documentation": [
                {
                    "title": "Configure Liveness, Readiness and Startup Probes",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/"
                }
            ],
            "guid": "a066989c-9dce-4712-bce3-4eef36f8c0c2",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement a proper Startup probe"
        },
        {
            "category": "アプリケーション",
            "description": "場合によっては、アプリケーションが一時的にトラフィックを処理できないことがあります。たとえば、アプリケーションは、起動時に大きなデータや構成ファイルを読み込んだり、起動後に外部サービスに依存したりする必要がある場合があります。このような場合、アプリケーションを強制終了したくはありませんが、要求も送信したくありません。Kubernetes には、これらの状況を検出して軽減するための準備プローブが用意されています。準備ができていないことを報告するコンテナを含むポッドは、Kubernetes Servicesを介してトラフィックを受信しません。",
            "documentation": [
                {
                    "title": "Configure Liveness, Readiness and Startup Probes",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/"
                }
            ],
            "guid": "de1b6b38-4fa9-4f6e-ab92-d824346dd20c",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement a proper Readiness probe"
        },
        {
            "category": "アプリケーション",
            "description": "このフックは、API 要求または管理イベント (liveness probe の失敗、プリエンプション、リソース競合など) によってコンテナーが終了する直前に呼び出されます。これは、何らかの理由でポッドが破壊されたときに完了または保存したい重要なプロセスがある場合に使用できます",
            "documentation": [
                {
                    "title": "Container Lifecycle Hooks",
                    "url": "https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/"
                }
            ],
            "guid": "dc4828a3-fc4f-4ac5-8844-122b8482dbb1",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement a proper prestop hook"
        },
        {
            "category": "アプリケーション",
            "description": "アプリケーションで常に適切なレプリカを構成して、ポッドがクラッシュまたは削除された場合の回復性を確保してください。",
            "documentation": [
                {
                    "title": "Pod replicas",
                    "url": "https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/"
                }
            ],
            "guid": "4f1f88f9-98a3-48f5-a37f-4d9c9aecbb11",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Run more than one replica for your Deployment"
        },
        {
            "category": "アプリケーション",
            "description": "コンポーネントにタグが付けられていることを確認すると、ビジネス、セキュリティ、または技術タグが付けられ、これらのタグは関連するポリシーの評価または適用に役立ちます。",
            "documentation": [
                {
                    "title": "Recommended Labels",
                    "url": "https://kubernetes.io/docs/concepts/overview/working-with-objects/common-labels/"
                }
            ],
            "guid": "7b613b26-df38-49a8-94bf-c5301a91d558",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Apply tags/labels to all resources"
        },
        {
            "category": "アプリケーション",
            "description": "現在の負荷を処理するために必要なポッドの数までアプリケーションを自動的にスケーリングします。これは、CPU とメモリに Horizontal Pod Autoscaler を使用するか、他のソースに基づくスケーリングに KEDA を使用することで実現できます",
            "documentation": [
                {
                    "title": "Horizontal Pod Autoscaler",
                    "url": "https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/"
                }
            ],
            "guid": "faa19bfe-9d55-4d04-a3c4-919ca1b2d121",
            "optionalFields": {
                "score": {
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "拡張性",
            "tags": [
                null,
                null
            ],
            "title": "Implement autoscaling of your applications (Horizontal pod autoscaler, KEDA)",
            "tools": [
                {
                    "title": "Kubernetes Event-driven Autoscaling (KEDA)",
                    "url": "https://keda.sh/"
                },
                {
                    "title": "KEDA as AKS addon",
                    "url": "https://docs.microsoft.com/azure/aks/keda-about"
                }
            ],
            "waf": "パフォーマンス"
        },
        {
            "category": "アプリケーション",
            "description": "シークレットは etcd では暗号化されないため、Azure Key Vault などの適切な HSM にシークレットを格納することをお勧めします。その後、CSI プロバイダーを使用してシークレットを挿入できます。",
            "documentation": [
                {
                    "title": "Azure Key Vault Provider for Secret Store CSI Driver",
                    "url": "https://github.com/Azure/secrets-store-csi-driver-provider-azure"
                },
                {
                    "title": "AKV2K8S",
                    "url": "https://akv2k8s.io/"
                }
            ],
            "guid": "5e3df584-eccc-4d97-a3b6-bcda3b50eb2e",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "秘密",
            "tags": [
                null,
                null
            ],
            "title": "Store your secrets in Azure Key Vault, don't inject passwords in Docker Images",
            "waf": "安全"
        },
        {
            "category": "アプリケーション",
            "description": "ポッドまたはコンテナー イメージ内で固定の資格情報は、公開や悪用のリスクがあるため、使用しないでください。代わりに、ワークロード ID フェデレーションを使用して、シークレットを管理する必要なく、Azure Active Directory (Azure AD) で保護されたリソースにアクセスします",
            "detail": "When pods need access to other Azure services, such as Cosmos DB, Key Vault, or Blob Storage, the pod needs access credentials. These access credentials could be defined with the container image or injected as a Kubernetes secret, but need to be manually created and assigned. Often, the credentials are reused across pods, and aren't regularly rotated. Managed identities for Azure resources (currently implemented as an associated AKS open source project) let you automatically request access to services through Azure AD. You don't manually define credentials for pods, instead they request an access token in real time, and can use it to access only their assigned services.",
            "documentation": [
                {
                    "title": "Use Azure Workload Identity",
                    "url": "https://learn.microsoft.com/azure/aks/workload-identity-overview"
                },
                {
                    "title": "Azure Active Directory Pod Identity (deprecated)",
                    "url": "https://docs.microsoft.com/azure/aks/use-azure-ad-pod-identity"
                }
            ],
            "guid": "d2e0d5d7-71d4-41e3-910c-c57b4a4b1410",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "同一性",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Implement Azure Workload Identity",
            "waf": "安全"
        },
        {
            "category": "アプリケーション",
            "description": "名前空間を使用すると、論理パーティションを作成し、リソースの分離を強制したり、ユーザー権限の範囲を制限したりできます。Default 名前空間を使用しないことを忘れないでください",
            "documentation": [
                {
                    "title": "Namespaces",
                    "url": "https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/"
                }
            ],
            "guid": "0b56d03c-5fc8-42b1-943b-9e4b4d0f3de8",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Use Kubernetes namespaces to properly isolate your Kubernetes resources"
        },
        {
            "category": "アプリケーション",
            "description": "コンテナにリソースリクエストが指定されている場合、スケジューラーはPodを配置するノードについてより適切な決定を下すことができます。また、コンテナーに制限が指定されている場合、ノード上のリソースの競合を指定された方法で処理できます。",
            "documentation": [
                {
                    "title": "Managing Compute Resources for Containers",
                    "url": "https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/"
                },
                {
                    "title": "Take benefit of the Quality of Service",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/quality-service-pod/"
                }
            ],
            "guid": "b54eb2eb-03dd-4aa3-9927-18e2edb11726",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "リソース",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Set up requests and limits on your containers",
            "waf": "オペレーションズ"
        },
        {
            "category": "アプリケーション",
            "description": "セキュリティコンテキストは、PodまたはContainerの権限とアクセス制御の設定を定義します。コンテナーが持つことができる機能と権限を制御します。セキュリティコンテキストを指定しない場合、ポッドは「デフォルト」のコンテキストを取得し、必要な権限よりも多くの権限を持つ可能性があります",
            "detail": "You should also disable mounting credentials by default (automountServiceAccountToken)",
            "documentation": [
                {
                    "title": "Configure a Security Context for a Pod or Container",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/security-context/"
                }
            ],
            "guid": "20861805-be15-48f5-b40b-5ae203ddbb67",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Specify the security context of your pod/container"
        },
        {
            "category": "アプリケーション",
            "description": "クラスター内のベスト プラクティスは、マニフェストの構成から始まります。グッドプラクティスを尊重するようにする",
            "documentation": [
                {
                    "title": "Kubernetes YAML: Enforcing best practices and security policies",
                    "url": "https://thechief.io/c/editorial/kubernetes-yaml-enforcing-best-practices-and-security-policies-cicd-and-gitops-pipelines/"
                },
                {
                    "title": "13 Best Practices for Using Helm",
                    "url": "https://betterprogramming.pub/13-best-practices-for-using-helm-f4fc68545a2c"
                }
            ],
            "guid": "5388e9de-d167-4dd1-a2b0-ac241b999a64",
            "optionalFields": {
                "score": {
                    "simple": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Ensure your manifests respect good practices",
            "tools": [
                {
                    "title": "kube-score",
                    "url": "https://kube-score.com/"
                },
                {
                    "title": "Checkov",
                    "url": "https://www.checkov.io/"
                },
                {
                    "title": "kubelinter",
                    "url": "https://github.com/stackrox/kube-linter"
                }
            ]
        },
        {
            "category": "アプリケーション",
            "description": "開発者が従うべきイメージ ビルドのセキュリティ ベースラインを定義します。また、スキャン ツールを使用して Dockerfile の問題を検出する必要があります",
            "documentation": [
                {
                    "title": "SNYK 10 Docker Image Security Best Practices",
                    "url": "https://snyk.io/blog/10-docker-image-security-best-practices/"
                },
                {
                    "title": "21 Best Practises in 2021 for Dockerfile",
                    "url": "https://dev.to/chrisedrego/21-best-practise-in-2021-for-dockerfile-1dji"
                }
            ],
            "guid": "b5222fdc-72b7-4b5f-baae-ab48a69b1d36",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Conduct Dockerfile scanning to ensure Docker Image Security Best Practices",
            "tools": [
                {
                    "title": "Dockle",
                    "url": "https://github.com/goodwithtech/dockle"
                },
                {
                    "title": "Hadolint",
                    "url": "https://github.com/hadolint/hadolint"
                }
            ]
        },
        {
            "category": "アプリケーション",
            "description": "DevSecOpsを環境に導入し、責任を左にシフトし始めるプロアクティブなセキュリティモデルを促進する",
            "documentation": [
                {
                    "title": "Introduction to Microsoft Defender for container registries",
                    "url": "https://docs.microsoft.com/azure/defender-for-cloud/defender-for-containers-introduction"
                },
                {
                    "title": "Palo Alto CI/CD Integration (twistcli)",
                    "url": "https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin-compute/tools/twistcli_scan_images"
                },
                {
                    "title": "Qualys CI/CD Integration",
                    "url": "https://qualysguard.qg2.apps.qualys.com/cs/help/vuln_scans/docker_images.htm"
                },
                {
                    "title": "Clair CI/CD Integration",
                    "url": "https://github.com/quay/clair"
                }
            ],
            "guid": "54cbc938-394e-480a-823a-51c2bcd3c66b",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Static Analysis of Docker Images on Build"
        },
        {
            "category": "アプリケーション",
            "description": "特定された問題のあるビルドを制限します。",
            "detail": "Use a tool that allows for the restriction of builds with enough granularity to not break development.  All Critical CVE's are not the same, so being able to restrict builds based on Critical or High vulnerabilities with a Vendor fix, but allowing builds to continue if that Critical vulnerability is 'Open'",
            "documentation": [
                {
                    "title": "Prisma Threshold enforcement",
                    "url": "https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin-compute/vulnerability_management/vuln_management_rules.html"
                }
            ],
            "guid": "1a67a172-c4ca-4383-8934-a71277cb927e",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Threshold enforcement of Docker Image Builds that contain vulnerabilities"
        },
        {
            "category": "アプリケーション",
            "description": "ビルド時にイメージのコンプライアンス状態を評価および制限できる。",
            "detail": "Identifying an image running as 'root' before it get deployed, or opening up port 80 or 22",
            "documentation": [
                {
                    "title": "Azure Built-In Policy",
                    "url": "https://docs.microsoft.com/azure/aks/policy-samples"
                },
                {
                    "title": "Prisma Managing Compliance",
                    "url": "https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin-compute/compliance/manage_compliance.html"
                }
            ],
            "guid": "01ede997-e0bf-454a-bd1f-114be06a9874",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Compliance enforcement of Docker Image Builds"
        },
        {
            "category": "アプリケーション",
            "description": "App Containerization ツールは、アプリケーションの実行状態を使用して、コードの変更を最小限またはまったく行わずに、アプリケーションをコンテナーとして再パッケージ化するポイント アンド コンテナー化アプローチを提供します。このツールは現在、Apache Tomcat で実行されている ASP.NET アプリケーションと Java Web アプリケーションのコンテナー化をサポートしています。",
            "documentation": [
                {
                    "title": "Accelerate application modernization with Azure Migrate: App Containerization",
                    "url": "https://aka.ms/AppContainerizationtoAKS"
                }
            ],
            "guid": "c1c05f94-4b74-4231-9d36-aa7a56fb775e",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Use Azure Migrate to quick containerize your applications"
        },
        {
            "category": "アプリケーション",
            "description": "新しいアプリケーションを本番環境にデプロイするにはさまざまな手法があるため、適切な戦略を選択することは、変更がコンシューマーに与える影響を活用するために行う必要がある重要な決定です。",
            "documentation": [
                {
                    "title": "Kubernetes Deployment Strategies",
                    "url": "https://blog.container-solutions.com/deployment-strategies"
                }
            ],
            "guid": "3abc7c0e-44c7-40fc-afce-aa4ddbf3dd81",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Apply the right deployment type to your application"
        },
        {
            "category": "アプリケーション",
            "description": "ネイキッドポッドは、レプリカセットまたはデプロイメントにリンクされていないポッドです。Naked Pod は、ノードに障害が発生した場合に再スケジュールされません。",
            "details": "If imagePullPolicy is omitted and either the image tag is :latest or it is omitted: imagePullPolicy is automatically set to Always. Prefer to set explicitly IfNotPresent",
            "guid": "980e9f76-e20a-426a-9c01-cbae1b63c5e8",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Don't use naked pods"
        },
        {
            "category": "アプリケーション",
            "description": "この属性が適切に定義されていない場合、kubernetesはコンテナの新しいインスタンスごとにコンテナイメージをダウンロードします。",
            "documentation": [
                {
                    "title": "Updating images",
                    "url": "https://kubernetes.io/docs/concepts/containers/images/#updating-images"
                }
            ],
            "guid": "d457598a-047b-4fd7-88e5-9c61dea67f6a",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Control the usage of imagePullPolicy"
        },
        {
            "category": "アプリケーション",
            "description": "この属性が適切に定義されていない場合、kubernetesはコンテナの新しいインスタンスごとにコンテナイメージをダウンロードします。",
            "documentation": [
                {
                    "title": "Create a Kubernetes cluster with Azure Kubernetes Service using Terraform",
                    "url": "https://docs.microsoft.com/azure/developer/terraform/create-k8s-cluster-with-tf-and-aks"
                }
            ],
            "guid": "3acbe04b-be20-49d3-afda-47778424d116",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "コードとしてのインフラストラクチャ",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use automation through ARM/TF to create your Azure resources",
            "waf": "オペレーションズ"
        },
        {
            "category": "アプリケーション",
            "description": "これにより、クラスターのアップグレード中にワークロードがオンラインのままになります。",
            "documentation": [
                {
                    "title": "Blue-green deployment for AKS",
                    "url": "https://learn.microsoft.com/en-us/azure/architecture/reference-architectures/containers/blue-green-deployment-for-aks/blue-green-deployment-for-aks"
                }
            ],
            "guid": "785c2fa5-5b56-4ad4-a408-fe72734c476b",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "発達",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use canary or blue/green deployments",
            "waf": "オペレーションズ"
        },
        {
            "category": "アプリケーション",
            "description": "これにより、クラスターのアップグレード中にワークロードがオンラインのままになります。",
            "documentation": [
                {
                    "title": "Dapr project page",
                    "url": "https://dapr.io/"
                }
            ],
            "guid": "26886d20-b66c-457b-a591-19bf8e8f5c58",
            "optionalFields": {
                "score": {
                    "simple": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "発達",
            "tags": [
                null,
                null
            ],
            "title": "Use Dapr to ease microservice development",
            "waf": "オペレーションズ"
        },
        {
            "category": "Bc_Dr",
            "description": "本番環境に移行する前に、探している可用性と復旧時間の目標を決定することが非常に重要です。これは、適切なバックアップ戦略を決定するだけでなく、ソリューションのアーキテクチャを決定する際にも役立ちます。",
            "documentation": [
                {
                    "title": "Define the BCDR strategy",
                    "url": "https://learn.microsoft.com/azure/cloud-adoption-framework/ready/enterprise-scale/business-continuity-and-disaster-recovery"
                }
            ],
            "guid": "bc14aea6-e65d-48d9-a3ad-c218e6436b06",
            "optionalFields": {
                "score": {
                    "ha": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "必要条件",
            "tags": [
                null,
                null
            ],
            "title": "Define non-functional requirements such as SLAs, RTO (Recovery Time Objective) and RPO (Recovery Point Objective)",
            "waf": "復元"
        },
        {
            "category": "Bc_Dr",
            "description": "ホワイトスペース (グリーンフィールド) デプロイは、すべてを削除し、プラットフォーム全体を自動化された方法で再デプロイする演習です。",
            "detail": "In case of an emergency, a security flaw or datacenter failure, it's mandatory for you to be able to restore/create a new environment properly configured in a fully automated way",
            "documentation": [
                {
                    "title": "Schedule and perform DR tests regularly",
                    "url": "https://docs.microsoft.com/azure/cloud-adoption-framework/ready/enterprise-scale/business-continuity-and-disaster-recovery"
                }
            ],
            "guid": "36cb45e5-7960-4332-9bdf-8cc23318da61",
            "optionalFields": {
                "score": {
                    "ha": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "災害復旧",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Schedule and perform DR tests regularly (whitespace deplyment)",
            "waf": "復元"
        },
        {
            "category": "Bc_Dr",
            "description": "Azure Kubernetes Service (AKS) クラスターは、ノードやストレージなどのリソースを、基になる Azure コンピューティング インフラストラクチャの論理セクションに分散します。このデプロイ モデルでは、ノードが 1 つの Azure データセンター内の個別の更新ドメインと障害ドメインで実行されるようになります。",
            "documentation": [
                {
                    "title": "Create an AKS cluster across availability zones",
                    "url": "https://docs.microsoft.com/azure/aks/availability-zones"
                }
            ],
            "graph": "resources | where type=='microsoft.containerservice/managedclusters' | extend compliant= isnotnull(properties.agentPoolProfiles[0].availabilityZones) | distinct id,compliant",
            "guid": "578a219a-46be-4b54-9350-24922634292b",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant= isnotnull(zones) | distinct id,compliant",
                    "ha": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "高可用性",
            "tags": [
                null,
                null
            ],
            "title": "Use Availability Zones if supported in your Azure region",
            "waf": "復元"
        },
        {
            "category": "Bc_Dr",
            "description": "複数の AKS クラスターをデプロイする場合は、AKS を使用できるリージョンを選択し、ペアのリージョンを使用します。",
            "documentation": [
                {
                    "title": "Plan for multiregion deployment",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-multi-region#plan-for-multiregion-deployment"
                }
            ],
            "guid": "4e907690-4780-492f-9632-03bcc80b7a80",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Plan for multiregion deployment",
            "waf": "復元"
        },
        {
            "category": "Bc_Dr",
            "description": "Azure Traffic Manager では、最も近い AKS クラスターとアプリケーション インスタンスに顧客を誘導できます。最適なパフォーマンスと冗長性を実現するには、すべてのアプリケーション トラフィックを Traffic Manager 経由で送信してから、AKS クラスターに送信します。",
            "documentation": [
                {
                    "title": "Traffic Manager and AKS",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-multi-region#use-azure-traffic-manager-to-route-traffic"
                },
                {
                    "title": "Cross-region load balancer",
                    "url": "https://learn.microsoft.com/en-us/azure/load-balancer/cross-region-overview"
                }
            ],
            "guid": "170265f4-bb46-4a39-9af7-f317284797b1",
            "optionalFields": {
                "score": {
                    "ha": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "高可用性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Azure Traffic Manager or Azure Front Door as a global load balancer for region failover",
            "waf": "復元"
        },
        {
            "category": "Bc_Dr",
            "description": "アプリケーションでは、データに Azure Storage を使用する場合があります。アプリケーションは異なるリージョンの複数の AKS クラスターに分散されているため、ストレージの同期を維持する必要があります",
            "documentation": [
                {
                    "title": "Create a storage migration plan",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-multi-region#create-a-storage-migration-plan"
                },
                {
                    "title": "Backup, restore and migrate Kubernetes resources including state to another AKS cluster with Velero",
                    "url": "https://pumpingco.de/blog/backup-and-restore-a-kubernetes-cluster-with-state-using-velero/"
                }
            ],
            "guid": "8c6703c5-42e9-46ef-93f1-7f6232af25fc",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Create a storage migration plan",
            "waf": "復元"
        },
        {
            "category": "Bc_Dr",
            "description": "Standard レベル (旧称アップタイム SLA) は、クラスターに対して金銭的な裏付けのあるより高い SLA を有効にするためのオプション機能です。これは、99.5% の SLO ではなく 99,95% の SLA を提供し、運用 (および大規模) クラスターに関連します",
            "detail": "Customers needing an SLA to meet compliance requirements or require extending an SLA to their end users should enable this feature. Customers with critical workloads that will benefit from a higher uptime SLA may also benefit. Using the Uptime SLA feature with Availability Zones enables a higher availability for the uptime of the Kubernetes API server.",
            "documentation": [
                {
                    "title": "Azure Kubernetes Service (AKS) Uptime SLA",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/free-standard-pricing-tiers"
                },
                {
                    "title": "Business continuity / disaster recovery to protect and recover AKS",
                    "url": "https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/scenarios/app-platform/aks/management#business-continuity--disaster-recovery-to-protect-and-recover-aks"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (sku.tier=='Paid') | distinct id,compliant",
            "guid": "71d41e36-10cc-457b-9a4b-1410d4395898",
            "optionalFields": {
                "score": {
                    "cost": -2,
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (sku.tier=='Paid') | distinct id,compliant",
                    "ha": 2
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "高可用性",
            "tags": [
                null,
                null
            ],
            "title": "Use the standard-tier AKS offering",
            "waf": "復元"
        },
        {
            "category": "Bc_Dr",
            "description": "Podのコピーを複数実行している場合でも、ノードを失ってもサービスがダウンしないという保証はありません。",
            "detail": "Customers needing an SLA to meet compliance requirements or require extending an SLA to their end users should enable this feature. Customers with critical workloads that will benefit from a higher uptime SLA may also benefit. Using the Uptime SLA feature with Availability Zones enables a higher availability for the uptime of the Kubernetes API server.",
            "documentation": [
                {
                    "title": "Inter-pod affinity and anti-affinity",
                    "url": "https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity"
                }
            ],
            "guid": "1eea4888-8c2a-40b2-a40b-cacdc5f55497",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Avoid Pods being placed into a single node",
            "waf": "復元"
        },
        {
            "category": "Bc_Dr",
            "description": "ローカル プレゼンスまたはホット バックアップを必要とする企業は、複数の Azure リージョンからサービスを実行することを選択します。",
            "detail": "As a best practice, placing a container registry in each region where images are run allows network-close operations, enabling fast, reliable image layer transfers. Geo-replication enables an Azure container registry to function as a single registry, serving multiple regions with multi-master regional registries.",
            "documentation": [
                {
                    "title": "Enable geo-replication for container images",
                    "url": "https://docs.microsoft.com/azure/container-registry/container-registry-geo-replication"
                }
            ],
            "guid": "b0803aed-1ca6-4330-816c-92677c6e9935",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "If using a private registry (ACR), configure region replication to store images in multiple regions",
            "waf": "復元"
        },
        {
            "category": "Bc_Dr",
            "description": "Azure 可用性ゾーンを使用して、回復性と可用性に優れた Azure コンテナー レジストリを Azure リージョン内に作成します。",
            "documentation": [
                {
                    "title": "Enable zone redundancy in Azure Container Registry for resiliency and high availability",
                    "url": "https://review.learn.microsoft.com/en-us/azure/container-registry/zone-redundancy"
                }
            ],
            "guid": "a4cefd60-f24f-4907-9723-b927300b4c42",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Configure your registry to use zone reduncancy",
            "waf": "復元"
        },
        {
            "category": "Bc_Dr",
            "description": "コンテナー レジストリは複数のコンテナー ホストで使用されるリソースであるため、レジストリは独自のリソース グループに存在する必要があります。",
            "detail": "Although you might experiment with a specific host type, such as Azure Container Instances, you’ll likely want to delete the container instance when you’re done. However, you might also want to keep the collection of images you pushed to Azure Container Registry. By placing your registry in its own resource group, you minimize the risk of accidentally deleting the collection of images in the registry when you delete the container instance resource group.",
            "documentation": [
                {
                    "title": "Registry best practices - Use dedicated resource group",
                    "url": "https://learn.microsoft.com/en-us/azure/container-registry/container-registry-best-practices#dedicated-resource-group"
                }
            ],
            "guid": "7b0bb400-deb6-4914-82da-2e914c9aaa72",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null
            ],
            "title": "Move Container Registry to a dedicated resource group ",
            "waf": "復元"
        },
        {
            "category": "Bc_Dr",
            "description": "論理的な削除ポリシーを有効にすると、ACR は、削除された成果物を、保持期間が設定された論理的に削除された成果物として管理します。これにより、論理的に削除された成果物を一覧表示、フィルター処理、および復元できます。保持期間が完了すると、論理的に削除されたすべての成果物が自動的に消去されます。",
            "documentation": [
                {
                    "title": "Enable soft delete policy",
                    "url": "https://learn.microsoft.com/en-us/azure/container-registry/container-registry-soft-delete-policy"
                }
            ],
            "guid": "49919955-fd6c-40f5-9c5c-5a7273c7a935",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null
            ],
            "title": "Enable soft delete policy",
            "waf": "復元"
        },
        {
            "category": "Cluster_Multi",
            "description": "論理的な分離を使用して、チームとプロジェクトを分離します。チームまたはアプリケーションを分離するためにデプロイする物理 AKS クラスターの数を最小限に抑えるようにしてください",
            "documentation": [
                {
                    "title": "Isolating cluster",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-cluster-isolation#logically-isolate-clusters"
                }
            ],
            "guid": "49be78dc-6ff0-4b2c-94ef-e74002e18866",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Logically isolate cluster"
        },
        {
            "category": "Cluster_Multi",
            "description": "個別のチームまたはアプリケーションの展開ごとに物理的な分離の使用を最小限に抑える",
            "documentation": [
                {
                    "title": "Isolating cluster",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-cluster-isolation#physically-isolate-clusters"
                }
            ],
            "guid": "3b77c0ee-3f84-4a86-bb46-c6dc3070168c",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null
            ],
            "title": "Physically isolate cluster"
        },
        {
            "category": "Cluster_Multi",
            "description": "Azure Kubernetes Service (AKS) では、Azure CLI から Azure Resource Manager を使用して、AKS クラスターとその関連リソースに Azure タグを設定できます。",
            "documentation": [
                {
                    "title": "Use Azure tags in Azure Kubernetes Service ",
                    "url": "https://learn.microsoft.com/en-us/Azure/aks/use-tags"
                },
                {
                    "title": "Use Azure tags in Azure Kubernetes Service (AKS)",
                    "url": "https://techcommunity.microsoft.com/t5/fasttrack-for-azure/use-azure-tags-in-azure-kubernetes-service-aks/ba-p/3611583"
                }
            ],
            "guid": "574bd2fe-f58b-4199-b334-f7eff3ef90c8",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Azure tags in Azure Kubernetes Service (AKS)"
        },
        {
            "category": "Cluster_Security",
            "description": "Mariner Container-Optimized OS は、Azure Kubernetes Service (AKS) 専用に開発されたファーストパーティのオペレーティング システムです。Kubernetesワークロードの実行を最適化するように設計されており、安全で軽量、かつパフォーマンスの高い環境を提供します。",
            "documentation": [
                {
                    "title": "Use the Mariner container host on Azure Kubernetes Service",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/use-mariner"
                }
            ],
            "guid": "d34f49c0-e964-4465-9211-520479338b13",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Mariner COS as host OS",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "一部の業界では、認定されたkubernetesが必要であったり、特定の構成を実装したりする必要があります。AKS には、この要件を満たすためのいくつかの機能が用意されています",
            "documentation": [
                {
                    "title": "Use FIPS-enabled node pool",
                    "url": "https://docs.microsoft.com/azure/aks/use-multiple-node-pools#add-a-fips-enabled-node-pool"
                },
                {
                    "title": "AKS CIS benchmark",
                    "url": "https://docs.microsoft.com/compliance/regulatory/offering-CIS-Benchmark"
                },
                {
                    "title": "AKS architecture reference for PCI-DSS 3.2.1",
                    "url": "https://docs.microsoft.com/azure/architecture/reference-architectures/containers/aks-pci/aks-pci-intro"
                }
            ],
            "guid": "42d4aefe-2383-470e-b019-c30df24996b2",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Configure your cluster for regulated industries",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "Kubernetes バージョン 1.19 以降、AKS ではセキュリティ上の理由からマネージド Kubernetes ダッシュボード アドオンのインストールが許可されなくなり、アドオンは非推奨になる予定です。Kubernetes ダッシュボードがクラスターにインストールされていないことを確認します。",
            "detail": "It can be done with the following CLI: az aks disable-addons --addons kube-dashboard --resource-group RG_NAME --name CLUSTER_NAME",
            "documentation": [],
            "guid": "aefbf509-a9e8-46cc-8ae9-80f07acffd7c",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Check if you need the Kubernetes dashboard",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "既定では、ETCD は Microsoft によって管理されるキーを使用して保存時に暗号化されます。KMS プラグインを使用して独自のキーを使用してデータベースを暗号化し、そのキーを Azure Key Vault に格納することができます。",
            "documentation": [
                {
                    "title": "Add KMS etcd encryption to an Azure Kubernetes Service (AKS) cluster",
                    "url": "https://docs.microsoft.com/azure/aks/use-kms-etcd-encryption"
                },
                {
                    "title": "Kubernetes KMS",
                    "url": "https://github.com/Azure/kubernetes-kms"
                }
            ],
            "guid": "e7ba73a3-0508-4f80-806f-527db30cee96",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "秘密",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Encrypt ETCD at rest with your own key",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "新機能とバグ修正を最新の状態に保つには、AKS クラスター内の Kubernetes バージョンに定期的にアップグレードします。kubernetes のサポートは、現在の N-2 バージョンのみです",
            "documentation": [
                {
                    "title": "Regularly update to the latest version of Kubernetes",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-cluster-security#regularly-update-to-the-latest-version-of-kubernetes"
                },
                {
                    "title": "Use the auto-upgrade feature",
                    "url": "https://docs.microsoft.com/azure/aks/upgrade-cluster#set-auto-upgrade-channel"
                }
            ],
            "guid": "e189c599-df0d-45a7-9dd4-ce32c1881370",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Maintain kubernetes version up to date",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "Kubernetesクラスタとコンテナワークロードを潜在的な脅威から保護するために、ソフトウェアコンポーネントに脆弱性があるコンテナイメージのデプロイを制限できるようになりました。",
            "guid": "1f95a465-c682-405b-84b4-966c3a619c12",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Policy blocking the deployment of vulnerable image",
            "tools": [
                {
                    "title": "Policy blocking the deployment of vulnerable images",
                    "url": "https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/BlockVulnerableImages.json"
                }
            ],
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "Azure Key Vault を使用してシークレットと証明書を格納する",
            "documentation": [
                {
                    "title": "Tutorial: Configure and run the Azure Key Vault provider for the Secrets Store CSI driver on Kubernetes",
                    "url": "https://docs.microsoft.com/azure/key-vault/general/key-vault-integrate-kubernetes"
                }
            ],
            "guid": "fc1e68dd-ac89-4851-8e53-8fbac3461d26",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Azure Key Vault",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "Security Center は、AKS マスター ノードによって既に収集されているデータを使用して、AKS クラスターにセキュリティ上の利点をもたらします。",
            "documentation": [
                {
                    "title": "Azure Kubernetes Services integration with Security Center",
                    "url": "https://docs.microsoft.com/azure/security-center/azure-kubernetes-service-integration"
                }
            ],
            "guid": "23fda718-b80b-44c8-b2e4-d46580ab6651",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Monitor the security of your cluster with Azure Security Center",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "イメージ クリーナーを使用すると、AKS ノードにキャッシュされているすべての未使用の脆弱なイメージを検出して自動的に削除し、ノードをよりクリーンで安全な状態に保つことができます。",
            "detail": "It's common to use pipelines to build and deploy images on Azure Kubernetes Service (AKS) clusters. While great for image creation, this process often doesn't account for the stale images left behind and can lead to image bloat on cluster nodes. These images can present security issues as they may contain vulnerabilities. By cleaning these unreferenced images, you can remove an area of risk in your clusters. When done manually, this process can be time intensive, which ImageCleaner can mitigate via automatic image identification and removal.",
            "documentation": [
                {
                    "title": "Use ImageCleaner to clean up stale images on your AKS cluster",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/image-cleaner"
                }
            ],
            "guid": "ca62d835-69cc-476d-bd8e-ea8fa58fab9c",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Remove vulnerable images from your cluster",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "Microsoft Defender for Containers は、Kubernetes クラスターが実行されている場所 (AKS とオンプレミス) の保護を提供します",
            "documentation": [
                {
                    "title": "Introduction to Microsoft Defender for Containers",
                    "url": "https://docs.microsoft.com/azure/defender-for-cloud/defender-for-containers-introduction"
                }
            ],
            "guid": "c9e95ffe-6dd1-4a17-8c5f-110389ca9b21",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "秘密",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Enable Microsoft Defender for Containers",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "Azure Policy は Azure Kubernetes Service (AKS) と統合され、クラスターに大規模な適用と保護を一元化された一貫した方法で適用します。",
            "documentation": [
                {
                    "title": "Azure Policies for AKS",
                    "url": "https://docs.microsoft.com/azure/governance/policy/concepts/rego-for-aks"
                },
                {
                    "title": "Azure Kubernetes Services Governance with Azure Policy",
                    "url": "https://learn.microsoft.com/training/modules/aks-governance-azure-policy"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.addonProfiles.azurepolicy) and properties.addonProfiles.azurepolicy.enabled==true) | distinct id,compliant",
            "guid": "9ca48e4a-85e2-4223-bce8-bb12307ca5f1",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.addonProfiles.azurepolicy) and properties.addonProfiles.azurepolicy.enabled==true) | distinct id,compliant",
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Use Azure Policy for Kubernetes to ensure cluster compliance",
            "tools": [
                {
                    "title": "Gatekeeper",
                    "url": "https://github.com/open-policy-agent/gatekeeper"
                }
            ],
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "Azure Kubernetes Service (AKS) でシステム ノード プールを管理し、システム ノードプールにテイントを追加して専用にします",
            "documentation": [
                {
                    "title": "AKS System Pools",
                    "url": "https://docs.microsoft.com/azure/aks/use-system-pools"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | project id,resourceGroup,name,pools=properties.agentPoolProfiles | project id,name,resourceGroup,poolcount=array_length(pools) | extend compliant = (poolcount > 1)",
            "guid": "6f158e3e-a3a9-42c2-be7e-2165c3a87af4",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "graph": "where type=='microsoft.containerservice/managedclusters' | project id,resourceGroup,name,pools=properties.agentPoolProfiles | project id,name,resourceGroup,poolcount=array_length(pools) | extend compliant = (poolcount > 1)",
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Separate applications from the control plane with user/system nodepools",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "定義されたセキュリティ ポリシーの一部として資格情報を更新またはローテーションできます",
            "documentation": [
                {
                    "title": "Update or rotate the credentials for AKS",
                    "url": "https://docs.microsoft.com/azure/aks/update-credentials"
                }
            ],
            "guid": "b03dda6d-58d7-4c89-8ddb-107d5769ae66",
            "optionalFields": {
                "score": {
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "秘密",
            "tags": [
                null,
                null
            ],
            "title": "If user Service Principals for the cluster, refresh credentials periodically (like quarterly)",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "Azure Container Registry を使用すると、プライベート レジストリでコンテナー イメージと成果物をビルド、格納、管理できます",
            "documentation": [
                {
                    "title": "Azure Container Registry documentation",
                    "url": "https://docs.microsoft.com/azure/container-registry/"
                }
            ],
            "guid": "55b46a94-8008-4ae7-b7e4-b475b6c8bdbf",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Use a private registry for your images, such as ACR",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "Microsoft Defender for Containers は、コンテナーをセキュリティで保護するために使用されるクラウドネイティブ ソリューションです",
            "documentation": [
                {
                    "title": "Overview of Microsoft Defender for Containers",
                    "url": "https://docs.microsoft.com/azure/security-center/container-security"
                }
            ],
            "guid": "cc639637-a652-42ac-89e8-06965388e9de",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Use Azure Security Center to detect security posture vulnerabiities",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "Trusted Execution Environment(TEE)内で実行されるコンテナは、他のコンテナ、つまりハードウェアで保護され、整合性が保護された証明可能な環境内のノードカーネルから分離されます。",
            "documentation": [
                {
                    "title": "Application enclave support on AKS",
                    "url": "https://learn.microsoft.com/en-us/azure/confidential-computing/confidential-nodes-aks-overview"
                }
            ],
            "guid": "ec8e4e42-0344-41b0-b865-9123e8956d31",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "秘密",
            "tags": [
                null,
                null
            ],
            "title": "If required consider using Confidential Compute for AKS",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "マルチテナント クラスターとリソースの分離を計画し、AKS クラスターで論理的または物理的な分離を使用する",
            "documentation": [
                {
                    "title": "Best practices for cluster isolation in AKS",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-cluster-isolation"
                }
            ],
            "guid": "d167dd18-2b0a-4c24-8b99-9a646f8389a7",
            "optionalFields": {
                "score": {
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Define app separation requirements (namespace/nodepool/cluster)",
            "waf": "安全"
        },
        {
            "category": "Cluster_Security",
            "description": "マルチテナント クラスターとリソースの分離を計画し、AKS クラスターで論理的または物理的な分離を使用する",
            "documentation": [
                {
                    "title": "Add Azure Dedicated Host to an AKS cluster",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/use-azure-dedicated-hosts"
                }
            ],
            "guid": "5ae124ba-34df-4585-bcdc-e9bd3bb0cdb3",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "拡張性",
            "tags": [
                null,
                null
            ],
            "title": "If required consider using Azure Dedicated Hosts for AKS nodes",
            "waf": "安全"
        },
        {
            "category": "コンテナ",
            "description": "コンテナイメージをスキャンして、脆弱性がないことを確認します",
            "documentation": [
                {
                    "title": "Azure Security Center : scanning feature (Qualys)",
                    "url": "https://docs.microsoft.com/azure/security-center/azure-container-registry-integration"
                },
                {
                    "title": "Identify vulnerable container images in your CI/CD workflows",
                    "url": "https://docs.microsoft.com/azure/defender-for-cloud/defender-for-containers-cicd"
                }
            ],
            "guid": "59bce65d-e8a0-43f9-9879-468d66a786d6",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Scan the container image against vulnerabilities",
            "tools": [
                {
                    "title": "Prisma (ex Twistlock)",
                    "url": "https://www.twistlock.com/"
                },
                {
                    "title": "Anchore",
                    "url": "https://anchore.com/"
                },
                {
                    "title": "Clair",
                    "url": "https://github.com/quay/clair"
                }
            ],
            "waf": "安全"
        },
        {
            "category": "コンテナ",
            "description": "考慮すべき最も一般的なカスタム ポリシーの 1 つは、クラスターにデプロイできるイメージを制限することです。しかし、適切なエグレスロックダウンやアドミッションコントローラーを使用して対処することもできます",
            "documentation": [
                {
                    "title": "Use the Azure Policy : Ensure only allowed container images in AKS",
                    "url": "https://docs.microsoft.com/azure/governance/policy/concepts/rego-for-aks#built-in-policies"
                },
                {
                    "title": "Using ImagePolicyWebhook",
                    "url": "https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#imagepolicywebhook"
                },
                {
                    "title": "Using egress lockdown and authorizing only the URL of your registry",
                    "url": "https://docs.microsoft.com/azure/aks/limit-egress-traffic"
                }
            ],
            "guid": "8dcb9d27-a601-48e6-aeb8-e0469aaf8921",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Allow deploying containers only from known registries"
        },
        {
            "category": "コンテナ",
            "description": "ポッドのランタイムセキュリティを統合します。 多層防御構造を完成させるには、プロセス、ネットワーク、ストレージ、およびシステムコールの攻撃から保護するためのランタイム保護が実施されていることを確認します。",
            "guid": "a71e024f-ac46-4d0e-86d8-fad9a86c99af",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Runtime Security of Applications",
            "tools": [
                {
                    "title": "Prisma Runtime defense",
                    "url": "https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin-compute/runtime_defense.html"
                },
                {
                    "title": "Falco",
                    "url": "https://falco.org"
                }
            ]
        },
        {
            "category": "コンテナ",
            "description": "ポリシーを使用して、プッシュとプルの両方で、レジストリ内のイメージをドリフトから保護します。",
            "detail": "On build, the image is secured based on the threshold set, but now while in the registry a new issue is discovered.  You need to ensure that the image can not be deployed until the issue is remediated.",
            "documentation": [
                {
                    "title": "ACR Quarantine",
                    "url": "https://github.com/Azure/acr/tree/master/docs/preview/quarantine"
                }
            ],
            "guid": "c970cb26-a707-4bf2-9e40-5401fea3d55b",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Quarantine of Docker Images in Docker Registries that have discovered issues"
        },
        {
            "category": "コンテナ",
            "description": "Azure Container Registry サービスでは、Azure コンテナー レジストリにさまざまなレベルのアクセス許可を提供する一連の組み込みの Azure ロールがサポートされています。Azure ロールベースのアクセス制御 (RBAC) を使用して、レジストリと対話する必要があるユーザー、サービス プリンシパル、またはその他の ID に特定のアクセス許可を割り当てます。",
            "documentation": [
                {
                    "title": "Azure Container Registry roles and permissions",
                    "url": "https://docs.microsoft.com/azure/container-registry/container-registry-roles"
                }
            ],
            "guid": "3f703579-9f4a-43c4-8c40-5a9e78015379",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Role-Based Access Contol (RBAC) to Docker Registries"
        },
        {
            "category": "コンテナ",
            "description": "レジストリ エンドポイントに仮想ネットワークのプライベート IP アドレスを割り当て、Azure Private Link を使用して、レジストリへのアクセスを制限します。仮想ネットワーク上のクライアントとレジストリのプライベート エンドポイント間のネットワーク トラフィックは、仮想ネットワークと Microsoft バックボーン ネットワーク上のプライベート リンクを通過し、パブリック インターネットからの露出を排除します。Private Link では、Azure ExpressRoute プライベート ピアリングまたは VPN ゲートウェイを介してオンプレミスからプライベート レジストリにアクセスすることもできます。",
            "documentation": [
                {
                    "title": "Azure Container Registry Private Link",
                    "url": "https://docs.microsoft.com/azure/container-registry/container-registry-private-link"
                }
            ],
            "guid": "6ae51d09-8142-4979-95ed-7ec3451de81c",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Network Segmentation of Docker Registries"
        },
        {
            "category": "コンテナ",
            "description": "Docker イメージをビルドするときは、基本 OS イメージのディストリビューションレス バージョンを使用して、プリインストールされているが未使用のツールによる脆弱性のリスクを軽減してください。例から、debian10 の代わりに base-debian10 を使用します",
            "detail": "'Distroless' images are bare-bones versions of common base images. They have the bare-minimum needed to execute a binary.The shell and other developer utilities have been removed so that if/when an attacker gains control of your container, they can't do much of anything",
            "documentation": [
                {
                    "title": "Google distroless images",
                    "url": "https://github.com/GoogleContainerTools/distroless"
                }
            ],
            "guid": "f57ba3a5-93ae-435f-9468-80ccd6a841b9",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Prefer distroless images"
        },
        {
            "category": "コンテナ",
            "description": "アプリケーション イメージに基本イメージを使用する場合は、基本イメージの更新時に自動化を使用して新しいイメージを構築します。通常、これらの基本イメージにはセキュリティ修正プログラムが含まれているため、ダウンストリーム アプリケーション コンテナー イメージを更新します。",
            "documentation": [
                {
                    "title": "Automatically build new images on base image update",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-container-image-management#automatically-build-new-images-on-base-image-update"
                },
                {
                    "title": "Azure DevOps - Trigger pipeline from Docker image update",
                    "url": "https://dev.to/larryclaman/trigger-azure-devops-build-pipeline-from-docker-image-update-5d3i"
                }
            ],
            "guid": "22882284-a9c2-4e16-b3e3-2d4947cc24b8",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Refresh container when base image is updated"
        },
        {
            "category": "同一性",
            "description": "Azure Kubernetes Service (AKS) は、ユーザー認証に Azure Active Directory (Azure AD) を使用するように構成できます。この構成では、Azure AD 認証トークンを使用して AKS クラスターにサインインできます。",
            "documentation": [
                {
                    "title": "AKS-managed Azure Active Directory integration",
                    "url": "https://docs.microsoft.com/azure/aks/managed-aad"
                },
                {
                    "title": "Disable local accounts",
                    "url": "https://docs.microsoft.com/azure/aks/managed-aad#disable-local-accounts"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = isnotnull(properties.aadProfile) | distinct id,compliant",
            "guid": "7e42c78e-78c0-46a6-8a21-94956e698dc4",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = isnotnull(properties.aadProfile) | distinct id,compliant",
                    "simple": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "severity": "中程度",
            "subcategory": "同一性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Integrate authentication with AAD (using the managed integration)",
            "waf": "安全"
        },
        {
            "category": "同一性",
            "description": "Azure Kubernetes Service で Kubernetes のロールベースのアクセス制御と Azure Active Directory ID を使用してクラスター リソースへのアクセスを制御する",
            "documentation": [
                {
                    "title": "Limit cluster access via K8S RBAC for users & workloads",
                    "url": "https://docs.microsoft.com/azure/aks/azure-ad-rbac"
                }
            ],
            "guid": "eec4962c-c3bd-421b-b77f-26e5e6b3bec3",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "同一性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Integrate authorization with AAD RBAC",
            "waf": "安全"
        },
        {
            "category": "同一性",
            "description": "AKS は、パスワードを使用せずに、サービス プリンシパルまたはマネージド ID を使用して ACR に対して認証できます。",
            "detail": "For AKS to download/pull images from Azure Container Registry (ACR), it needs the ACR credentials including the password. To avoid saving the password in the cluster, you can simply activate the ACR integration on new or existing AKS cluster using SPN or Managed Identity",
            "documentation": [
                {
                    "title": "Authenticate with Azure Container Registry from AKS",
                    "url": "https://docs.microsoft.com/azure/aks/cluster-container-registry-integration"
                }
            ],
            "guid": "100f8f70-3ec6-44bb-ab07-95eef965e80d",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use AKS and ACR integration without password",
            "waf": "安全"
        },
        {
            "category": "同一性",
            "description": "各 AKS クラスターには、マネージド ID またはサービス プリンシパルが必要です。 AKS でマネージド ID を使用することをお勧めします",
            "documentation": [
                {
                    "title": "Use managed identities in Azure Kubernetes Service",
                    "url": "https://docs.microsoft.com/azure/aks/use-managed-identity"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.servicePrincipalProfile.clientId=='msi') | distinct id,compliant",
            "guid": "ed127dd1-42b0-46b2-8c69-99a646f3389a",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.servicePrincipalProfile.clientId=='msi') | distinct id,compliant",
                    "simple": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "同一性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use managed identities instead of Service Principals",
            "waf": "安全"
        },
        {
            "category": "同一性",
            "description": "その Kubernetes 構成 (kubeconfig) 情報を取得できるユーザーを制限し、そのユーザーが持つアクセス許可を制限するには、Azure ロールベースのアクセス制御 (Azure RBAC) を使用できます。",
            "documentation": [
                {
                    "title": "Use Azure RBAC to define access to the Kubernetes configuration file",
                    "url": "https://docs.microsoft.com/azure/aks/control-kubeconfig-access"
                }
            ],
            "guid": "a2fe27b2-e287-401a-8352-beedf79b488d",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "同一性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Limit access to admin kubeconfig (get-credentials --admin)",
            "waf": "安全"
        },
        {
            "category": "同一性",
            "description": "kubelogin を使用すると、非対話型のサービス プリンシパル サインインでクラスターにアクセスできます。",
            "documentation": [
                {
                    "title": "Non-interactive sign in with kubelogin",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/managed-aad#non-interactive-sign-in-with-kubelogin"
                }
            ],
            "guid": "f4dcf690-1b30-407d-abab-6f8aa780d3a3",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "同一性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "For AKS non-interactive logins use kubelogin",
            "waf": "安全"
        },
        {
            "category": "同一性",
            "description": "AKS では、フラグ disable-local-accounts を使用してローカル アカウントを無効にする機能がユーザーに提供されます",
            "documentation": [
                {
                    "title": "Disable local accounts",
                    "url": "https://learn.microsoft.com/azure/aks/managed-aad#disable-local-accounts"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.disableLocalAccounts==true) | distinct id,compliant",
            "guid": "b085b1f2-3119-4771-8c9a-bbf4411810ec",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "同一性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Disable AKS local accounts",
            "waf": "安全"
        },
        {
            "category": "同一性",
            "description": "AKS では、限られた時間だけアクセスを有効にする機能がユーザーに提供します",
            "documentation": [
                {
                    "title": "Configure just-in-time cluster access with Azure AD and AKS",
                    "url": "https://learn.microsoft.com/azure/aks/managed-aad#configure-just-in-time-cluster-access-with-azure-ad-and-aks"
                }
            ],
            "guid": "36abb0db-c118-4f4c-9880-3f30f9a2deb6",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "同一性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Configure if required Just-in-time cluster access",
            "waf": "安全"
        },
        {
            "category": "同一性",
            "description": "Kubelet ID を使用すると、クラスターの作成前に既存の ID に付与されたアクセスが可能になります。",
            "documentation": [
                {
                    "title": "Use a pre-created kubelet managed identity",
                    "url": "https://learn.microsoft.com/azure/aks/use-managed-identity#use-a-pre-created-kubelet-managed-identity"
                }
            ],
            "guid": "1f711a74-3672-470b-b8b8-a2148d640d79",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "同一性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "For finer control consider using a managed Kubelet Identity",
            "waf": "安全"
        },
        {
            "category": "同一性",
            "description": "Azure AD を AKS クラスターと統合する場合は、条件付きアクセスを使用してクラスターへのアクセスを制御することもできます。",
            "documentation": [
                {
                    "title": "Use Conditional Access with Azure AD and AKS",
                    "url": "https://learn.microsoft.com/azure/aks/managed-aad#use-conditional-access-with-azure-ad-and-aks"
                }
            ],
            "guid": "c4d7f4c6-79bf-45d0-aa05-ce8fc717e150",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "同一性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Configure if required AAD conditional access for AKS",
            "waf": "安全"
        },
        {
            "category": "ネットワーキング",
            "description": "既存の仮想ネットワークまたはオンプレミス ネットワークと統合するには、AKS で Azure CNI ネットワークを使用します。また、このネットワーク モデルでは、エンタープライズ環境でのリソースと制御の分離を強化できますが、ネットワーク トポロジ/IP 範囲への影響に注意してください。CNI オーバーレイ モデルを使用すると、より詳細に制御でき、両方のアプローチの利点を享受できます。",
            "detail": "While Kubenet is the default Kubernetes network plugin, the Container Networking Interface (CNI) is a vendor-neutral protocol that lets the container runtime make requests to a network provider. The Azure CNI assigns IP addresses to pods and nodes, and provides IP address management (IPAM) features as you connect to existing Azure virtual networks. Each node and pod resource receives an IP address in the Azure virtual network, and no additional routing is needed to communicate with other resources or services.",
            "documentation": [
                {
                    "title": "Kubenet vs CNI",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-network#choose-the-appropriate-network-model"
                },
                {
                    "title": "Dynamic IP allocation",
                    "url": "https://docs.microsoft.com/azure/aks/configure-azure-cni#dynamic-allocation-of-ips-and-enhanced-subnet-support"
                },
                {
                    "title": "Azure CNI Overlay",
                    "url": "https://learn.microsoft.com/azure/aks/azure-cni-overlay"
                },
                {
                    "title": "Bring your own CNI",
                    "url": "https://docs.microsoft.com/azure/aks/use-byo-cni"
                },
                {
                    "title": "Add a node pool with a unique subnet",
                    "url": "https://docs.microsoft.com/azure/aks/use-multiple-node-pools#add-a-node-pool-with-a-unique-subnet"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.networkProfile.networkPlugin=='azure') | distinct id,compliant",
            "guid": "a0f61565-9de5-458f-a372-49c831112dbd",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.networkProfile.networkPlugin=='azure') | distinct id,compliant",
                    "simple": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "IPAM (アドレス管理)",
            "tags": [
                null,
                null
            ],
            "title": "Choose the best CNI network plugin for your requirements (Azure CNI recommended)",
            "waf": "確実"
        },
        {
            "category": "ネットワーキング",
            "description": "仮想ネットワークとそのサブネットのサイズは、実行する予定のポッドの数とクラスターのノードの数に対応する必要があります。",
            "detail": "As an example, using CNI, you need one IP for each node + one spare for a new node in case of cluster upgrade, and you need an IP for each pod which can represent hundred of IP addresses",
            "documentation": [
                {
                    "title": "Plan IP addressing for your cluster",
                    "url": "https://docs.microsoft.com/azure/aks/configure-azure-cni#plan-ip-addressing-for-your-cluster"
                }
            ],
            "guid": "7faf12e7-0943-4f63-8472-2da29c2b1cd6",
            "optionalFields": {
                "score": {
                    "scale": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "IPAM (アドレス管理)",
            "tags": [
                null,
                null
            ],
            "title": "If using Azure CNI, size your subnet accordingly considering the maximum number of pods per node",
            "waf": "パフォーマンス"
        },
        {
            "category": "ネットワーキング",
            "description": "HTTPまたはHTTPSトラフィックをアプリケーションに分散するには、イングレスリソースとコントローラーを使用します。イングレス コントローラーは、通常の Azure ロード バランサーよりも追加機能を提供し、ネイティブの Kubernetes リソースとして管理できます。",
            "documentation": [
                {
                    "title": "Application routing add-on for Azure Kubernetes Service (AKS)",
                    "url": "https://aka.ms/aks/docs/app-routing"
                },
                {
                    "title": "Distribute ingress traffic",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-network#distribute-ingress-traffic"
                },
                {
                    "title": "Network concepts: Ingress controllers",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/concepts-network#ingress-controllers"
                }
            ],
            "guid": "b3808b9f-a1cf-4204-ad01-3a923ce474db",
            "optionalFields": {
                "score": {
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "拡張性",
            "tags": [
                null,
                null
            ],
            "title": "Use an ingress controller to expose web-based apps instead of exposing them with LoadBalancer-type services",
            "waf": "確実"
        },
        {
            "category": "ネットワーキング",
            "description": "公開されているアプリケーションをホストする予定で、受信トラフィックをスキャンして潜在的な攻撃を検出する場合は、Barracuda WAF for Azure や Azure Application Gateway などの Web アプリケーション ファイアウォール (WAF) を使用します。これらのより高度なネットワークリソースは、HTTPおよびHTTPS接続または基本的なSSLターミネーションを超えてトラフィックをルーティングすることもできます。",
            "documentation": [
                {
                    "title": "Secure traffic with a web application firewall (WAF)",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-network#secure-traffic-with-a-web-application-firewall-waf"
                }
            ],
            "guid": "a3a92c2d-e7e2-4165-a3a8-7af4a7a1f893",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 2,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "安全",
            "tags": [
                null,
                null
            ],
            "title": "Secure your exposed applications with a web application firewall (WAF)",
            "waf": "安全"
        },
        {
            "category": "ネットワーキング",
            "description": "ユーザーが Ingress マニフェストを作成するとき、その中の任意のホスト名を使用できます。会社のホスト名など、使用できるホスト名を制御したい場合があります。",
            "documentation": [
                {
                    "title": "Tutorial: only allow approved domain names as ingress hostnames",
                    "url": "https://www.openpolicyagent.org/docs/latest/kubernetes-tutorial/#4-define-a-policy-and-load-it-into-opa-via-kubernetes"
                }
            ],
            "guid": "e5684a8b-f072-43d2-83b2-234ad48f57c7",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Apply control on ingress hostnames"
        },
        {
            "category": "ネットワーキング",
            "description": "イングレス エントリ ポイントをインターネットに直接公開する理由はほとんどありませんが、既定では AKS によってパブリック エントリ ポイントが作成されます。内部的なものだけを作成するように彼に伝えます。",
            "documentation": [
                {
                    "title": "Create an ingress controller to an internal virtual network",
                    "url": "https://docs.microsoft.com/azure/aks/ingress-internal-ip"
                }
            ],
            "guid": "c0179fd4-470b-43c8-b7bb-80307051bc96",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Don't expose your load-balancer on Internet if not necessary"
        },
        {
            "category": "ネットワーキング",
            "description": "ネットワーク ポリシーを使用して、ポッドへのトラフィックを許可または拒否します。既定では、クラスター内のポッド間のすべてのトラフィックが許可されます。セキュリティを強化するには、ポッドの通信を制限するルールを定義します。",
            "detail": "Network policy is a Kubernetes feature that lets you control the traffic flow between pods. You can choose to allow or deny traffic based on settings such as assigned labels, namespace, or traffic port. The use of network policies gives a cloud-native way to control the flow of traffic. As pods are dynamically created in an AKS cluster, the required network policies can be automatically applied. Don't use Azure network security groups to control pod-to-pod traffic, use network policies.",
            "documentation": [
                {
                    "title": "Enable a Kubernetes Network Policy option (Calico/Azure)",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-network#control-traffic-flow-with-network-policies"
                },
                {
                    "title": "Secure traffic between pods using network policies",
                    "url": "https://docs.microsoft.com/azure/aks/use-network-policies"
                }
            ],
            "guid": "0751f099-e6f4-4250-b405-d2b26c707432",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = isnotnull(properties.networkProfile.networkPolicy) | distinct id,compliant",
                    "security": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "severity": "高い",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Control traffic flow with network policies",
            "tools": [
                {
                    "title": "Calico",
                    "url": "https://docs.projectcalico.org/reference/resources/networkpolicy"
                },
                {
                    "title": "Cillium",
                    "url": "https://cilium.io/"
                }
            ]
        },
        {
            "category": "ネットワーキング",
            "description": "まず、各名前空間ですべて拒否ポリシーを作成してから、特定のポリシーを追加します。",
            "documentation": [
                {
                    "title": "Recipes of best default network policies",
                    "url": "https://github.com/ahmetb/kubernetes-network-policy-recipes"
                },
                {
                    "title": "Callico global network policy",
                    "url": "https://projectcalico.docs.tigera.io/reference/resources/globalnetworkpolicy"
                }
            ],
            "guid": "0bc4e0c6-97fd-411a-9eb4-1a1f85f9cdf0",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Configure default network policies in each namespace"
        },
        {
            "category": "ネットワーキング",
            "description": "Azure Firewall を使用して、クラスターの外部に送信されるすべてのエグレス トラフィックをセキュリティで保護し、制御します。",
            "documentation": [
                {
                    "title": "Egress traffic requirements",
                    "url": "https://docs.microsoft.com/azure/aks/limit-egress-traffic"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.networkProfile.outboundType=='userDefinedRouting') | distinct id,compliant",
            "guid": "3b365a91-7ecb-4e48-bbe5-4cd7df2e8bba",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.networkProfile.outboundType=='userDefinedRouting') | distinct id,compliant",
                    "security": 2,
                    "simple": -2
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "severity": "高い",
            "subcategory": "安全",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Filter egress traffic with AzFW/NVA if your security requirements mandate it (egress lockdown)",
            "waf": "安全"
        },
        {
            "category": "ネットワーキング",
            "description": "可能な場合は、プライベート リンクを使用して、プライベート ネットワークのみがレジストリに到達できるようにします。",
            "documentation": [
                {
                    "title": "Azure Container Registry Private Link",
                    "url": "https://docs.microsoft.com/azure/container-registry/container-registry-private-link"
                }
            ],
            "guid": "e38f1680-8ddc-4c93-bf09-6b932a4935ca",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Don't expose your container registry on Internet"
        },
        {
            "category": "ネットワーキング",
            "description": "既定では、ポッドは VMSS IMDS にアクセスでき、アタッチされたマネージド ID からアクセス トークンを要求できます。このアクセスは、ネットワーク ポリシーを使用して制限する必要があります。",
            "documentation": [
                {
                    "title": "Pods requesting access to get a token",
                    "url": "https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/how-to-use-vm-token#get-a-token-using-curl"
                }
            ],
            "guid": "4fb072a7-0303-46d8-9ecf-d8aa4d69ff83",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Block Pod access to VMSS IMDS"
        },
        {
            "category": "ネットワーキング",
            "description": "プライベート クラスターでは、コントロール プレーンまたは API サーバーには内部 IP アドレスがあり、インターネットに公開されません",
            "detail": "By using a private cluster, you can ensure that network traffic between your API server and your node pools remains on the private network only. Because the API server has a private address, it means that to access it for administration or for deployment, you need to set up private connection, like using a 'jumpbox' (i.e.: Azure Bastion)",
            "documentation": [
                {
                    "title": "Create a private cluster (using private link)",
                    "url": "https://docs.microsoft.com/azure/aks/private-clusters"
                },
                {
                    "title": "Create an Azure Kubernetes Service cluster with API Server VNet Integration (preview)",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/api-server-vnet-integration"
                },
                {
                    "title": "Use azure CLI to run command on a private cluster",
                    "url": "https://docs.microsoft.com/azure/aks/private-clusters#options-for-connecting-to-the-private-cluster"
                },
                {
                    "title": "Use public DNS with a private cluster",
                    "url": "https://docs.microsoft.com/azure/aks/private-clusters#create-a-private-aks-cluster-with-a-public-dns-address"
                }
            ],
            "guid": "29fb411c-20a8-4c39-84df-aaa4227eaeb2",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use private clusters if your requirements mandate it"
        },
        {
            "category": "ネットワーキング",
            "description": "Azure Traffic Manager では、最も近い AKS クラスターとアプリケーション インスタンスに顧客を誘導できます。最適なパフォーマンスと冗長性を実現するには、すべてのアプリケーション トラフィックを Traffic Manager 経由で送信してから、AKS クラスターに送信します。",
            "detail": "If you have multiple AKS clusters in different regions, use Traffic Manager to control how traffic flows to the applications that run in each cluster. Azure Traffic Manager is a DNS-based traffic load balancer that can distribute network traffic across regions. Use Traffic Manager to route users based on cluster response time or based on geography. It can be used to improve app availability with automatic failover",
            "documentation": [
                {
                    "title": "Use Azure Traffic Manager to route traffic",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-multi-region#use-azure-traffic-manager-to-route-traffic"
                }
            ],
            "guid": "5d0bb60d-b8e0-4031-9c5b-1f0a735f771f",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Enable traffic management"
        },
        {
            "category": "ネットワーキング",
            "description": "Azure Container Networking Interface (CNI) を使用すると、すべてのポッドがサブネットから IP アドレスを取得し、直接アクセスできます。",
            "detail": "These IP addresses must be unique across your network space, and must be planned in advance. Each node has a configuration parameter for the maximum number of pods that it supports. ",
            "documentation": [
                {
                    "title": "Configure Azure CNI networking on AKS",
                    "url": "https://docs.microsoft.com/azure/aks/configure-azure-cni"
                }
            ],
            "guid": "22f54b29-bade-43aa-b1e8-c38ec9366673",
            "optionalFields": {
                "score": {
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "IPAM (アドレス管理)",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If using Azure CNI, check the maximum pods/node (default 30)",
            "waf": "パフォーマンス"
        },
        {
            "category": "ネットワーキング",
            "description": "クラスターのセキュリティを向上させ、攻撃のリスクを最小限に抑えるために、API サーバーにアクセスできる IP アドレスの範囲を制限することをお勧めします。",
            "documentation": [
                {
                    "title": "Secure access to the API server using authorized IP address ranges",
                    "url": "https://docs.microsoft.com/azure/aks/api-server-authorized-ip-ranges"
                }
            ],
            "guid": "d783a3e8-264f-4dac-870f-569791d1837e",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If using a public API endpoint, restrict the IP addresses that can access it"
        },
        {
            "category": "ネットワーキング",
            "description": "AKS のお客様は Azure Load Balancer を介してエグレス トラフィックをルーティングできますが、可能なトラフィックの送信フローの量には制限があります。",
            "documentation": [
                {
                    "title": "Managed NAT Gateway",
                    "url": "https://learn.microsoft.com/azure/aks/nat-gateway"
                }
            ],
            "guid": "ccb534e7-416e-4a1d-8e93-533b53199085",
            "optionalFields": {
                "score": {
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "拡張性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Azue NAT Gateway as outboundType for scaling egress traffic",
            "waf": "確実"
        },
        {
            "category": "ネットワーキング",
            "description": "従来の CNI の欠点は、AKS クラスターが大きくなるとポッドの IP アドレスが枯渇し、より大きなサブネットでクラスター全体を再構築する必要があることです。",
            "detail": "The new dynamic IP allocation capability in Azure CNI solves this problem by allocating pod IPs from a subnet separate from the subnet hosting the AKS cluster.",
            "documentation": [
                {
                    "title": "Dynamic allocation of IPs and enhanced subnet support",
                    "url": "https://learn.microsoft.com/azure/aks/configure-azure-cni#dynamic-allocation-of-ips-and-enhanced-subnet-support"
                }
            ],
            "guid": "8ee9a69a-1b58-4b1e-9c61-476e110a160b",
            "optionalFields": {
                "score": {
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "拡張性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Dynamic allocations of IPs in order to avoid Azure CNI IP exhaustion",
            "waf": "確実"
        },
        {
            "category": "ネットワーキング",
            "description": "App Gateway イングレス コントローラー (AGIC) は、Kubernetes クラスター内のポッドです。AGIC は Kubernetes イングレス リソースを監視し、これらに基づいて App Gateway 構成を作成して適用します。",
            "documentation": [
                {
                    "title": "Application gateway ingress controller",
                    "url": "https://azure.github.io/application-gateway-kubernetes-ingress/setup/install-existing/"
                }
            ],
            "guid": "cbd8ac2a-aebc-4a2a-94da-1dbf3dc99248",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "おすすめの方法",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "If using AGIC, do not share an AppGW across clusters",
            "waf": "確実"
        },
        {
            "category": "ネットワーキング",
            "description": "これにより、仮想ネットワークの外部から Azure PaaS サービスへのアクセスを制限することで、クラスターをセキュリティで保護できます",
            "documentation": [
                {
                    "title": "What is Azure Private Link?",
                    "url": "https://docs.microsoft.com/azure/private-link/private-link-overview"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | where isnotnull(properties.apiServerAccessProfile.enablePrivateCluster) | extend compliant = (properties.apiServerAccessProfile.enablePrivateCluster==true) | distinct id, compliant",
            "guid": "ecccd979-3b6b-4cda-9b50-eb2eb03dda6d",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | where isnotnull(properties.apiServerAccessProfile.enablePrivateCluster) | extend compliant = (properties.apiServerAccessProfile.enablePrivateCluster==true) | distinct id, compliant",
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "安全",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Private Endpoints (preferred) or Virtual Network Service Endpoints to access PaaS services from the cluster",
            "waf": "安全"
        },
        {
            "category": "ネットワーキング",
            "description": "サービスメッシュは、トラフィック管理、回復性、ポリシー、セキュリティ、強力なID、可観測性などの機能をワークロードに提供します。",
            "documentation": [
                {
                    "title": "About service meshes",
                    "url": "https://learn.microsoft.com/azure/aks/servicemesh-about"
                }
            ],
            "guid": "e9855d04-c3c3-49c9-a6bb-2c12159a114b",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -2
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "安全",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Consider using a service mesh for advanced microservice communication management",
            "waf": "安全"
        },
        {
            "category": "ネットワーキング",
            "description": "サービスメッシュは、トラフィック管理、回復性、ポリシー、セキュリティ、強力なID、可観測性などの機能をワークロードに提供します。",
            "documentation": [
                {
                    "title": "Bring your own Container Network Interface (CNI) plugin for AKS",
                    "url": "https://learn.microsoft.com/azure/aks/servicemesh-about"
                }
            ],
            "guid": "57bf217f-6dc8-481c-81e2-785773e9c00f",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -2
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "オペレーションズ",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "If required add your own CNI plugin",
            "waf": "安全"
        },
        {
            "category": "ネットワーキング",
            "description": "これにより、ノード プール間で分割する非連続の仮想ネットワーク アドレス空間やその他のセキュリティ上の理由などの要件に対処できます。",
            "documentation": [
                {
                    "title": "Add a node pool with a unique subnet",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/use-multiple-node-pools#add-a-node-pool-with-a-unique-subnet"
                }
            ],
            "guid": "22fbe8d6-9b40-47ef-9011-25bb1a555a6b",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -2
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "おすすめの方法",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If using Azure CNI, consider using different Subnets for NodePools",
            "waf": "安全"
        },
        {
            "category": "ネットワーキング",
            "description": "サービス CIDR は、ポッド CIDR またはサブネット CIDR、またはピアリングされた VNET CIDR と重複しないようにする必要があります。正しく構成されていないと、クラスターの動作がおかしくなる可能性があります。",
            "documentation": [
                {
                    "title": "Pod CIDR, Service CIDR and Subnet CIDR",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/configure-azure-cni#plan-ip-addressing-for-your-cluster"
                },
                {
                    "title": "Use the right CIDR ranges for networking parameters",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/configure-azure-cni#deployment-parameters"
                }
            ],
            "guid": "22fbe8d6-9b40-47ef-9011-25bb1a555a6c",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -2
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Verify non overlapping CIDR ranges for Service-CIDR and Pod-CIDR or Subnet-CIDR"
        },
        {
            "category": "オペレーションズ",
            "description": "AKS では、ノード上のイメージのアップグレードがサポートされているため、最新の OS とランタイムの更新プログラムで最新の状態に保たれます。AKS では、最新の更新プログラムを含む新しいイメージが 1 週間に 1 つ提供されるため、Linux や Windows のパッチなど、最新の機能を得るためにノードのイメージを定期的にアップグレードすることをお勧めします",
            "detail": "Using automation and this method will ensure that all your nodes are consistently up to date with last features/fixes/patchs, without having to upgrade the kubernetes version. An alternative could be to use Kured to reboot nodes with pending reboots but it will only patch the Operating System, not the AKS layer",
            "documentation": [
                {
                    "title": "Azure Kubernetes Service (AKS) node image upgrades",
                    "url": "https://docs.microsoft.com/azure/aks/node-image-upgrade"
                },
                {
                    "title": "Process Linux node updates and reboots using Kured (not recommended because it can behave incorrectly in some cluster configurations like autoscaling)",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-cluster-security#process-linux-node-updates-and-reboots-using-kured"
                },
                {
                    "title": "Use Event Grid to know when an upgrade is available",
                    "url": "https://docs.microsoft.com/azure/aks/quickstart-event-grid"
                }
            ],
            "guid": "945889a8-a9e9-4059-b1aa-0a0df2b8a82c",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Have a regular process to upgrade the cluster node images periodically (weekly, for example), or use the AKS autoupgrade feature",
            "tools": [
                {
                    "title": "Kured (KUbernetes REboot Daemon)",
                    "url": "https://github.com/weaveworks/kured"
                }
            ],
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "アプリケーションを Azure にデプロイする場合、仮想マシン (VM) インスタンスをリージョンまたは可用性ゾーンに分散すると、ネットワーク待機時間が発生し、アプリケーションの全体的なパフォーマンスに影響を与える可能性があります。近接通信配置グループは、Azure コンピューティング リソースが物理的に互いに近接して配置されるようにするために使用される論理的なグループです",
            "detail": "Be careful, by using PPG on a nodepool, you reduce the average SLA of your application since they don't rely on availability zones anymore",
            "documentation": [
                {
                    "title": "Reduce latency with proximity placement groups",
                    "url": "https://docs.microsoft.com/azure/aks/reduce-latency-ppg"
                }
            ],
            "guid": "17bd8ae4-8ee7-472d-bca5-c7e3cc9b6d82",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Use placement proximity group to improve performance",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "クラスター拡張機能は、AKS クラスター上の Azure Machine Learning (ML) などのサービスのインストールとライフサイクル管理のための Azure Resource Manager 主導のエクスペリエンスを提供します。",
            "detail": "This feature enables:Azure Resource Manager-based deployment of extensions, including at-scale deployments across AKS clusters but also lifecycle management of the extension (Update, Delete) from Azure Resource Manager.",
            "documentation": [
                {
                    "title": "Customize node configuration for Azure Kubernetes Service (AKS) node pools",
                    "url": "https://docs.microsoft.com/en-gb/azure/aks/cluster-extensions"
                }
            ],
            "guid": "4cd9bd7a-fe6f-427b-b5dd-9ab2f50aa663",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.austoscalerProfile)) | distinct id,compliant",
                    "ha": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Customize your clusters with extensions",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "新しい AKS クラスターを作成すると、既定でMC_ リソース グループが作成されます。MC_リソース・グループの名前をカスタマイズできます。",
            "documentation": [
                {
                    "title": "Custom resource group name",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/cluster-configuration#custom-resource-group-name"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.nodeResourceGroup !startswith 'MC_') | distinct id,compliant",
            "guid": "73b32a5a-67f7-4a9e-b5b3-1f38c3f39812",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.nodeResourceGroup !startswith 'MC_') | distinct id,compliant",
                    "simple": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Customize the name of the MC_ resource group",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "AKS ノードへのリモート接続を公開しないでください。管理仮想ネットワークに要塞ホスト (ジャンプ ボックス) を作成します。要塞ホストを使用して、AKS クラスターへのトラフィックをリモート管理タスクに安全にルーティングします。",
            "documentation": [
                {
                    "title": "Securely connect to nodes through a bastion host",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-network#securely-connect-to-nodes-through-a-bastion-host"
                }
            ],
            "guid": "28538587-2c1f-4390-b571-384649732c16",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Securely connect to nodes through a bastion host",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "最新バージョンのクラスター スキャン オープン ソース ツールを定期的に実行して、クラスターの問題を検出します。たとえば、既存の AKS クラスターにリソース クォータを適用する場合は、最初に kubestriker を実行して、リソース要求と制限が定義されていないポッドを見つけます。",
            "guid": "4dd8b544-5b8b-443d-8e76-cea80d9dec30",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Regularly check for cluster issues ",
            "tools": [
                {
                    "title": "AKS Periscope",
                    "url": "https://github.com/Azure/aks-periscope"
                },
                {
                    "title": "kubestriker",
                    "url": "https://www.kubestriker.io/"
                },
                {
                    "title": "kubebench",
                    "url": "https://github.com/aquasecurity/kube-bench"
                }
            ],
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "クラスターで何が起こるかを常に把握しておくようにしてください。クラスター (ノード、サーバー) だけでなく、ポッドの正常性も監視します",
            "documentation": [
                {
                    "title": "Azure Monitor for AKS",
                    "url": "https://docs.microsoft.com/azure/azure-monitor/insights/container-insights-analyze"
                },
                {
                    "title": "Azure Managed Grafana",
                    "url": "https://azure.microsoft.com/services/managed-grafana/"
                }
            ],
            "guid": "90640e42-ce36-4c2a-b20a-bee9c572df6c",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Provision a log aggregation tool",
            "tools": [
                {
                    "title": "Elastic Cloud",
                    "url": "https://www.elastic.co/elastic-cloud-kubernetes"
                },
                {
                    "title": "Datadog",
                    "url": "https://www.datadoghq.com/"
                }
            ],
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "デフォルトの統合でテレメトリデータと基本的なメトリック(CPU/メモリ)を収集できる場合、カスタムメトリックとより詳細な情報は収集されません。多くの場合、サードパーティのソフトウェア(Kubernetes内ではプロメテウスが推奨されます)をインストールする必要があり、これらのメトリックを保存して悪用します。",
            "detail": "Typically, to use Prometheus, you need to set up and manage a Prometheus server with a store. By integrating with Azure Monitor, a Prometheus server is not required. You just need to expose the Prometheus metrics endpoint through your exporters or pods (application), and the containerized agent for Azure Monitor for containers can scrape the metrics for you.",
            "documentation": [
                {
                    "title": "Configure scraping of Prometheus metrics",
                    "url": "https://docs.microsoft.com/azure/azure-monitor/insights/container-insights-prometheus-integration"
                },
                {
                    "title": "Deploying ELK",
                    "url": "https://www.elastic.co/guide/en/cloud-on-k8s/current/k8s-quickstart.html"
                }
            ],
            "guid": "6f8389a7-f82c-4b8e-a8c0-aa63a25a4956",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "モニタリング",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Monitor your cluster metrics with Container Insights (or other tools like Prometheus)",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "ディストリビューティッド(分散)トレーシングは、分散リクエストトレーシングとも呼ばれ、アプリケーション、特にマイクロサービスアーキテクチャを使用して構築されたアプリケーションのプロファイリングと監視に使用される方法です。ディストリビューティッド(分散)トレーシングは、障害が発生する場所とパフォーマンス低下の原因を特定するのに役立ちます。",
            "documentation": [
                {
                    "title": "Solution for onboarding Kubernetes/AKS workloads onto Application Insights monitoring.",
                    "url": "https://github.com/microsoft/Application-Insights-K8s-Codeless-Attach"
                },
                {
                    "title": "Zero instrumentation application monitoring for Kubernetes hosted applications (deprecated)",
                    "url": "https://docs.microsoft.com/azure/azure-monitor/app/kubernetes"
                }
            ],
            "guid": "8d33b2b2-e043-4c61-aa5d-319a8eb6c382",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Configure distributed tracing",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "クラスターを手動でアップグレードするだけでなく、クラスターに自動アップグレード チャネルを設定できます",
            "documentation": [
                {
                    "title": "Set AKS auto-upgrade channel",
                    "url": "https://docs.microsoft.com/azure/aks/upgrade-cluster#set-auto-upgrade-channel"
                }
            ],
            "guid": "01deb8ed-b6f5-40bb-8d0b-d0ee2d933f51",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Set Upgrade Channel",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "Azure Kubernetes Service (AKS) のアプリケーションの需要に対応するために、ワークロードを実行するノードの数を調整する必要がある場合があります。クラスター オートスケーラー コンポーネントは、リソースの制約のためにスケジュールできないクラスター内のポッドを監視できます。",
            "detail": "You can enable autoscaling module per node pool but only create one mutual autoscale profile",
            "documentation": [
                {
                    "title": "AKS Autoscaler",
                    "url": "https://docs.microsoft.com/azure/aks/cluster-autoscaler"
                },
                {
                    "title": "Node autoprovisioning (karpenter)",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/node-autoprovision"
                },
                {
                    "title": "Cluster autoscaler",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/concepts-scale#cluster-autoscaler"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.autoScalerProfile)) | distinct id,compliant",
            "guid": "90ce65de-8e13-4f9c-abd4-69266abca264",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "ha": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "拡張性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Enable cluster autoscaling",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "GitOps は、宣言型インフラストラクチャとアプリケーションの信頼できる唯一の情報源として Git を使用することで機能します",
            "detail": "On Azure you can for instance use Azure Arc for Kubernetes but also directly GitOps addon for AKS",
            "documentation": [
                {
                    "title": "Use Flux v2 addon for AKS",
                    "url": "https://learn.microsoft.com/en-us/azure/azure-arc/kubernetes/tutorial-use-gitops-flux2"
                },
                {
                    "title": "What is Azure Arc enabled Kubernetes?",
                    "url": "https://docs.microsoft.com/azure/azure-arc/kubernetes/overview"
                },
                {
                    "title": "Guide To GitOps",
                    "url": "https://www.weave.works/technologies/gitops"
                }
            ],
            "guid": "0102ce16-ee30-41e6-b882-e52e4621dd68",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Use GitOps to deploy workloads in your cluster",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "GitOps (またはそれ以上) の代わりに、CI/CD を使用して、クラスターにワークロード/ツールをデプロイできます",
            "documentation": [
                {
                    "title": "Automated Deployments for Azure Kubernetes Service (Preview)",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/automated-deployments"
                },
                {
                    "title": "Build and deploy to Azure Kubernetes Service with Azure Pipelines",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/devops-pipeline?pivots=pipelines-yaml"
                },
                {
                    "title": "Tutorial: Deploy from GitHub to Azure Kubernetes Service using Jenkins",
                    "url": "https://learn.microsoft.com/en-gb/azure/developer/jenkins/deploy-from-github-to-aks"
                }
            ],
            "guid": "cd943950-e336-4906-a719-d2128c8d78e4",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement CI/CD to deploy workloads in your cluster",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "Kubernetesエコシステムは、運用を容易にする多くのツールによって強化されています。 ここでは、そのいくつかをご紹介します",
            "guid": "fd926057-60e1-4d6c-afc2-0f03b5ab3763",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Improve efficiency with K8S Tools",
            "tools": [
                {
                    "title": "OpenLens",
                    "url": "https://github.com/MuhammedKalkan/OpenLens"
                },
                {
                    "title": "Helm",
                    "url": "https://helm.sh"
                },
                {
                    "title": "kubectl aliases",
                    "url": "https://github.com/ahmetb/kubectl-aliases"
                },
                {
                    "title": "kubectx",
                    "url": "https://github.com/ahmetb/kubectx"
                },
                {
                    "title": "k9s",
                    "url": "https://k9scli.io/"
                }
            ],
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "すべてのアプリケーションをデフォルト以外の名前空間に保持することをお勧めします",
            "documentation": [
                {
                    "title": "Using multiple namespaces",
                    "url": "https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/?ref=www.the-aks-checklist.com#when-to-use-multiple-namespaces"
                }
            ],
            "guid": "13bb9e32-6f48-4747-9531-0147f20f4b03",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Don't use the default namespace",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "共通のラベル セットを使用すると、ツールは相互運用可能になり、すべてのツールが理解できる共通の方法でオブジェクトを記述できます。たとえば、リソースには、技術ラベル、ビジネスラベル、セキュリティラベルが必要です。",
            "documentation": [
                {
                    "title": "Recommended labels",
                    "url": "https://kubernetes.io/docs/concepts/overview/working-with-objects/common-labels/"
                }
            ],
            "guid": "13bb9e32-6f48-4747-9531-0147f20f4b04",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Apply different types of labels to all resources",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "ノード構成をカスタマイズすると、ワークロードのニーズに合わせて、オペレーティング システム (OS) 設定、ノード プール、または kubelet パラメーターを構成または調整できます。",
            "detail": "When you create an AKS cluster or add a node pool to your cluster, you can customize a subset of commonly used OS and kubelet settings.",
            "documentation": [
                {
                    "title": "Customize node configuration for Azure Kubernetes Service (AKS) node pools",
                    "url": "https://learn.microsoft.com/azure/aks/custom-node-configuration"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.austoscalerProfile)) | distinct id,compliant",
            "guid": "831c2872-c693-4b39-a887-a561bada49bc",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.austoscalerProfile)) | distinct id,compliant",
                    "ha": 1,
                    "severity": "Low"
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "拡張性",
            "tags": [
                null
            ],
            "title": "Fine tune your node configuration",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "コマンド invoke を使用すると、VPN や Express Route を構成しなくてもプライベート クラスターにアクセスできます",
            "detail": "Using command invoke allows you to remotely invoke commands like kubectl and helm on your private cluster through the Azure API without directly connecting to the cluster.",
            "documentation": [
                {
                    "title": "Use command invoke to access a private AKS",
                    "url": "https://learn.microsoft.com/azure/aks/command-invoke"
                }
            ],
            "guid": "d7672c26-7602-4482-85a4-14527fbe855c",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Consider using AKS command invoke on private clusters",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "Container insights を使用すると、パフォーマンス グラフと正常性状態を使用して、AKS でホストされている Kubernetes クラスターのワークロードを監視できます",
            "documentation": [
                {
                    "title": "Monitor your Kubernetes cluster performance",
                    "url": "https://learn.microsoft.com/azure/azure-monitor/containers/container-insights-analyze"
                }
            ],
            "guid": "4621dd68-c5a5-4be2-bdb1-1726769ef669",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "モニタリング",
            "tags": [
                null,
                null
            ],
            "title": "Monitor CPU and memory utilization of the nodes",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "アプリケーションとサービスのトラブルシューティングに役立てるために、マスターコンポーネントによって生成されたログを表示する必要がある場合があります。これらのログを有効にしない場合、Microsoft がログを取得する方法がないことに注意してください",
            "documentation": [
                {
                    "title": "Enable and review Kubernetes master node logs",
                    "url": "https://docs.microsoft.com/azure/aks/view-control-plane-logs"
                },
                {
                    "title": "Monitoring Azure Kubernetes Service (AKS) with Azure Monitor",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/monitor-aks"
                }
            ],
            "guid": "5b56ad48-408f-4e72-934c-476ba280dcf5",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "ha": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Send master logs (aka API logs) to Azure Monitor or your preferred log management solution",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "ノードサイズを最適化すると、コストの最適化、パフォーマンスの最適化、適切なリソース割り当てなど、多くのメリットが得られます",
            "documentation": [
                {
                    "title": "Which VM size should I choose as AKS node?",
                    "url": "https://blog.cloudtrooper.net/2020/10/23/which-vm-size-should-i-choose-as-aks-node/"
                }
            ],
            "guid": "5ae124ba-34df-4585-bcdc-e9bd3bb0cdb3",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "拡張性",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Consider an appropriate node size, not too large or too small",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "Azure Advisor は、環境の監視を強化し、コストの削減などによってクラスターの運用を改善するのに役立ちます",
            "documentation": [
                {
                    "title": "Azure advisor get started",
                    "url": "https://docs.microsoft.com/azure/advisor/advisor-get-started"
                }
            ],
            "guid": "337453a3-cc63-4963-9a65-22ac19e80696",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null,
                null,
                null,
                null,
                null
            ],
            "title": "Regularly check Azure Advisor for recommendations on your cluster",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "k8sマニフェストファイルの作成をはるかに簡単にし、運用効率に役立つさまざまなツールがあります",
            "documentation": [
                {
                    "title": "what is prettier",
                    "url": "https://prettier.io/"
                }
            ],
            "guid": "b78f2dec-d75e-44c3-937a-7509fd7a54f1",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Write manifests following good practices using dedicated tools",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "セキュリティまたはポリシー上の理由から、これらの証明書を定期的にローテーションする必要がある場合があります。たとえば、すべての証明書を 90 日ごとにローテーションするポリシーがあるとします。",
            "documentation": [
                {
                    "title": "Certificate rotation in Azure Kubernetes Service (AKS)",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/certificate-rotation"
                }
            ],
            "guid": "3aa70560-e7e7-4968-be3d-628af35b2ced",
            "optionalFields": {
                "score": {
                    "simple": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Enable AKS auto-certificate rotation",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "クラスターのログを監視すると、問題を防ぎ、改善の余地がある領域を特定するのに役立ちます",
            "documentation": [
                {
                    "title": "Container insights overview",
                    "url": "https://learn.microsoft.com/en-us/azure/azure-monitor/containers/container-insights-overview"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.addonProfiles.omsagent) and properties.addonProfiles.omsagent.enabled==true) | distinct id,compliant",
            "guid": "eaa8dc4a-2436-47b3-9697-15b1752beee0",
            "priority": "High",
            "service": "AKS",
            "subcategory": "モニタリング",
            "tags": [
                null,
                null
            ],
            "title": "Store and analyze your cluster logs with Container Insights (or other tools like Telegraf/ElasticSearch)",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "ContainerLogV2 スキーマでは、コンテナー ログに関連するデータ (名前空間、ポッド名、コンテナー名など) が改善され、これらのフィールドを使用してログをクエリできます",
            "documentation": [
                {
                    "title": "Enable the ContainerLogV2 schema",
                    "url": "https://learn.microsoft.com/en-gb/azure/azure-monitor/containers/container-insights-logging-v2"
                }
            ],
            "guid": "62f89719-db42-4cd0-824f-82ac7d62d9ac",
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Enable ContainerLogV2 schema for logging",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "ACI を使用した仮想ノードは、スケーリングの高速化に役立ちます",
            "documentation": [
                {
                    "title": "Create and configure an AKS cluster to use virtual nodes",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/virtual-nodes"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.addonProfiles.aciConnectorLinux) and properties.addonProfiles.aciConnectorLinux.enabled==true) | distinct id,compliant",
            "guid": "c755562f-2b4e-4456-9b4d-874a748b662e",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.addonProfiles.aciConnectorLinux) and properties.addonProfiles.aciConnectorLinux.enabled==true) | distinct id,compliant",
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "費用",
            "tags": [
                null,
                null
            ],
            "title": "Consider AKS virtual node for quick bursting",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "スポット ノードプールはコスト管理に役立ちます",
            "documentation": [
                {
                    "title": "Add an Azure Spot node pool to an AKS cluster",
                    "url": "https://docs.microsoft.com/azure/aks/spot-node-pool"
                }
            ],
            "guid": "c5a5b252-1e44-4a59-a9d2-399c4d7b68d0",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "費用",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Consider spot node pools for non time-sensitive workloads",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "アラートは、クラスター内の問題などを早期に警告できます",
            "documentation": [
                {
                    "title": "Metric alert rules in Container insights",
                    "url": "https://docs.microsoft.com/azure/azure-monitor/insights/container-insights-metric-alerts"
                }
            ],
            "guid": "67f7a9ed-5b31-4f38-a3f3-9812b2463cff",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "警告",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Configure alerts on the most critical metrics (see Container Insights for recommendations)",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "これらのポートの監視は、セキュリティ上の理由から重要です",
            "documentation": [
                {
                    "title": "Use a public standard load balancer in Azure Kubernetes Service",
                    "url": "https://docs.microsoft.com/azure/aks/load-balancer-standard"
                }
            ],
            "guid": "95951d87-1a2f-4a45-833c-2fc62d23c44d",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If not using egress filtering with AzFW/NVA, monitor standard ALB allocated SNAT ports",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "リソースの正常性の問題のトラブルシューティング方法を確認する",
            "documentation": [
                {
                    "title": "Azure Kubernetes Services troubleshooting documentation",
                    "url": "https://learn.microsoft.com/en-us/troubleshoot/azure/azure-kubernetes/welcome-azure-kubernetes"
                }
            ],
            "guid": "74c2ee76-569b-4a79-a57e-dedf91b022c9",
            "optionalFields": {
                "score": {
                    "ha": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "モニタリング",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Subscribe to resource health notifications for your AKS cluster",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "AKS は、自動化に使用できる EventGrid をサブスクライブできるようにする特定のイベントを出力します",
            "documentation": [
                {
                    "title": "AKS as an Event Grid source",
                    "url": "https://learn.microsoft.com/azure/event-grid/event-schema-aks"
                }
            ],
            "guid": "9583c0f6-6083-43f6-aa6b-df7102c901bb",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "拡張性",
            "tags": [
                null,
                null
            ],
            "title": "Consider subscribing to EventGrid Events for AKS automation",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "独自のガバナンスプラクティスを開発して、ノードRG(別名「インフラRG」)のオペレーターによって変更が実行されないようにします",
            "documentation": [
                {
                    "title": "AKS FAQ",
                    "url": "https://docs.microsoft.com/azure/aks/faq"
                }
            ],
            "guid": "ed0fda7f-211b-47c7-8b6e-c18873fb473c",
            "optionalFields": {
                "score": {
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Develop own governance practices to make sure no changes are performed by operators in the node RG (aka 'infra RG')",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "オペレーションズ",
            "description": "何か悪いことが起こったときに準備ができておらず、kubernetesクラスターのデバッグは難しい場合があります。一部のツールボックスは、最も一般的な問題を見つけて修正するのに役立つように展開できます",
            "documentation": [
                {
                    "title": "Inspektor Gadget",
                    "url": "https://www.inspektor-gadget.io/"
                }
            ],
            "guid": "f1d2d2f4-53a2-5f1b-9d1a-3a907b6844a5",
            "optionalFields": {
                "score": {
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Install debuging tools on your cluster",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "AKS クラスターを迅速にスケーリングするには、Azure Container Instances (ACI) と統合します",
            "detail": "Kubernetes has built-in components to scale the replica and node count. However, if your application needs to rapidly scale, the horizontal pod autoscaler may schedule more pods than can be provided by the existing compute resources in the node pool.",
            "documentation": [
                {
                    "title": "Burst to Azure Container Instances",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/concepts-scale#burst-to-azure-container-instances"
                }
            ],
            "guid": "c88681ab-bb2b-46d1-9ea6-72564b75429a",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Burst serverless with Azure Container Instances and Virtual Nodes",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "どのタイプのワーカーノードを使用し、そのうちのいくつを使用するかは、クラスターにデプロイされたワークロードの分析が必要な重要な質問であり、最適な値を取得します",
            "detail": "Choosing on one hand between easy management and big blast radius, and on the other end to focus on high replication, low impact but worse resources optimization ",
            "documentation": [
                {
                    "title": "Choosing a worker node size",
                    "url": "https://learnk8s.io/kubernetes-node-size"
                },
                {
                    "title": "Choose the right storage type",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-storage#choose-the-appropriate-storage-type"
                }
            ],
            "guid": "7f8b07c5-882b-45ba-9ec9-bcc29b4721ff",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Sizing of the nodes",
            "tools": [
                {
                    "title": "Kubernetes instance calculator",
                    "url": "https://learnk8s.io/kubernetes-instance-calculator"
                }
            ],
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "ARM64 の優れた価格、コンピューティング パフォーマンス、AKS ノード プールでの低電力使用率のメリットを享受できます。",
            "documentation": [
                {
                    "title": "Add an ARM64 node pool",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/use-multiple-node-pools#add-an-arm64-node-pool"
                }
            ],
            "guid": "2a5f0cab-92b2-46dc-81a6-d358f7fd062a",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Use ARM64 nodes when possible",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "名前空間レベルでリソース クォータを計画して適用します。ポッドでリソース要求と制限が定義されていない場合は、デプロイを拒否します。リソースの使用状況を監視し、必要に応じてクォータを調整します。",
            "detail": "Resource requests and limits are placed in the pod specification. These limits are used by the Kubernetes scheduler at deployment time to find an available node in the cluster. But developers can forget them and thus impact other applications by over-consuming resources of the cluster",
            "documentation": [
                {
                    "title": "Enforce resource quotas",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-scheduler#enforce-resource-quotas"
                },
                {
                    "title": "Resources quotas",
                    "url": "https://kubernetes.io/docs/concepts/policy/resource-quotas/"
                }
            ],
            "guid": "769ef669-1a48-435a-a942-223ece80b123",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "リソース",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Enforce resource quotas for namespaces",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "LimitRangeは、名前空間内のリソース割り当て(Podまたはコンテナ)を制限するポリシーです。ポッドが要求制限を宣言するのを忘れないようにすると便利です",
            "documentation": [
                {
                    "title": "LimitRange",
                    "url": "https://kubernetes.io/docs/concepts/policy/limit-range/"
                }
            ],
            "guid": "b74ea93b-598d-48e0-bb26-762b015602e1",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Namespaces should have LimitRange",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "CPU とメモリの制限と要求をすべてのコンテナーに設定します。メモリリークやCPUの過剰使用を防ぎ、プラットフォーム全体を保護します",
            "detail": " When you specify limits for CPU and memory, each takes a different action when it reaches the specified limit. With CPU limits, the container is throttled from using more than its specified limit. With memory limits, the pod is restarted if it reaches its limit. The pod might be restarted on the same host or a different host within the cluster.",
            "documentation": [
                {
                    "title": "Define pod resource requests and limits",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/developer-best-practices-resource-management#define-pod-resource-requests-and-limits"
                },
                {
                    "title": "Assign Memory Resources to container",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/assign-memory-resource/"
                }
            ],
            "guid": "4868aa30-95a9-49fd-867e-57e70cb0d1d5",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Set memory limits and requests for all containers",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "アプリケーションの可用性を維持するには、Pod Disruption Budgets (PDB)を定義して、クラスタで使用可能なポッドの最小数を確保します。",
            "detail": "At some point in time, Kubernetes might need to evict pods from a host. There are two types of evictions: voluntary and involuntary disruptions. Involuntary disruptions can be caused by hardware failure, network partitions, kernel panics, or a node being out of resources. Voluntary evictions can be caused by performing maintenance on the cluster, the Cluster Autoscaler deallocating nodes, or updating pod templates. To minimize the impact to your application, you can set a PodDisruptionBudget to ensure uptime of the application when pods need to be evicted. A PodDisruptionBudget allows you to set a policy on the minimum available and maximum unavailable pods during voluntary eviction events. An example of a voluntary eviction would be when draining a node to perform maintenance on the node.",
            "documentation": [
                {
                    "title": "Plan for availability using pod disruption budgets",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-scheduler#plan-for-availability-using-pod-disruption-budgets"
                },
                {
                    "title": "Specifying a Disruption Budget for your Application",
                    "url": "https://kubernetes.io/docs/tasks/run-application/configure-pdb/"
                }
            ],
            "guid": "3c763963-7a55-42d5-a15e-401955387e5c",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "ha": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "高可用性",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Disruption Budgets in your pod and deployment definitions",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "これらのツールは、特にマルチテナントの場合に、コスト配分に非常に役立ちます",
            "documentation": [
                {
                    "title": "cost governance with kubecost",
                    "url": "https://docs.microsoft.com/azure/cloud-adoption-framework/scenarios/aks/eslz-cost-governance-with-kubecost"
                }
            ],
            "guid": "f82cb8eb-8c0a-4a63-a25a-4956eaa8dc4a",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "費用",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Use an external application such as kubecost to allocate costs to different users",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "Nvidia の A100 GPU は、最大 7 つの独立したインスタンスに分割できます。各インスタンスには、独自のメモリとストリーム マルチプロセッサ (SM) があります。",
            "documentation": [
                {
                    "title": "Multi-instance GPU Node pool",
                    "url": "https://learn.microsoft.com/azure/aks/gpu-multi-instance"
                }
            ],
            "guid": "87e651ea-bc4a-4a87-a6df-c06a4b570ebc",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "費用",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "When required use multi-instance partioning GPU on AKS Clusters",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "AKS ワークロードは、特定のワークロードを実行するノード プールを持つ開発クラスターなど、継続的に実行する必要がない場合があります。",
            "documentation": [
                {
                    "title": "Start and stop an Azure Kubernetes Service (AKS) node pool",
                    "url": "https://learn.microsoft.com/azure/aks/start-stop-nodepools"
                }
            ],
            "guid": "2b72a08b-0410-4cd6-9093-e068a5cf27e8",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "費用",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "If running a Dev/Test cluster use NodePool Start/Stop",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "ノード プール スナップショットを使用すると、ノード プールの構成スナップショットを取得し、その構成と kubernetes バージョンがサポートされている限り、そのスナップショットに基づいて新しいノード プールまたは新しいクラスターを作成できます。",
            "documentation": [
                {
                    "title": "AKS node pool snapshot",
                    "url": "https://learn.microsoft.com/azure/aks/node-pool-snapshot"
                }
            ],
            "guid": "64d1a846-e28a-4b6b-9a33-22a635c15a21",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "If required scale NodePool snapshots",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "Azure VM/ノードには、サブスクリプションごとにクォータがあります。これらのクォータを計画し、必要に応じて追加要求できるように事前に準備してください",
            "documentation": [
                {
                    "title": "Azure subscription and service limits, quotas, and constraints",
                    "url": "https://learn.microsoft.com/azure/azure-resource-manager/management/azure-subscription-service-limits"
                }
            ],
            "guid": "081a5417-4158-433e-a3ad-3c2de733165c",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "リソース",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Ensure your subscription has enough quota to scale out your nodepools",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "Resource_Management",
            "description": "スケールダウン モードでは、スケールダウン時に Azure Kubernetes Service (AKS) クラスター内のノードを削除するか、割り当てを解除するかを決定できます。",
            "documentation": [
                {
                    "title": "Use Scale-down Mode to delete/deallocate nodes",
                    "url": "https://learn.microsoft.com/azure/aks/scale-down-mode"
                }
            ],
            "guid": "4d3dfbab-9924-4831-a68d-fdf0d72f462c",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "費用",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use scale down mode to delete/delallocate nodes",
            "waf": "オペレーショナル・エクセレンス"
        },
        {
            "category": "貯蔵",
            "description": "アプリケーションのニーズを理解して、適切なストレージを選択します。運用ワークロードには、高パフォーマンスの SSD ベースのストレージを使用します。複数の同時接続が必要な場合は、ネットワークベースのストレージを計画します。",
            "documentation": [
                {
                    "title": "Storage considerations for Azure Kubernetes Service",
                    "url": "https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/scenarios/app-platform/aks/storage"
                },
                {
                    "title": "Choose the right storage type",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-storage#choose-the-appropriate-storage-type"
                }
            ],
            "guid": "4c20c4bd-a7e3-449f-9597-4939a3aeafe7",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Choose the right storage type"
        },
        {
            "category": "貯蔵",
            "description": "各ノード サイズは、最大数のディスクをサポートします。ノードサイズが異なれば、ローカルストレージとネットワーク帯域幅の量も異なります。適切なサイズのノードをデプロイするためのアプリケーションの要求を計画します。",
            "detail": "Different types and sizes of nodes are available. Each node (underlying VM) size provides a different amount of core resources such as CPU and memory. These VM sizes have a maximum number of disks that can be attached. Storage performance also varies between VM sizes for the maximum local and attached disk IOPS (input/output operations per second). If your applications require Azure Disks as their storage solution, plan for and choose an appropriate node VM size. The amount of CPU and memory isn't the only factor when you choose a VM size. The storage capabilities are also important.",
            "documentation": [
                {
                    "title": "Size the nodes for storage needs",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-storage#size-the-nodes-for-storage-needs"
                }
            ],
            "guid": "18707174-fa23-4935-b463-8f9982629b35",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Size the nodes for storage needs"
        },
        {
            "category": "貯蔵",
            "description": "管理オーバーヘッドを削減し、スケーリングできるようにするには、永続ボリュームを静的に作成して割り当てないでください。動的プロビジョニングを使用します。ストレージクラスで、適切な再利用ポリシーを定義して、ポッドが削除された後の不要なストレージコストを最小限に抑えます。",
            "documentation": [
                {
                    "title": "Dynamically provision volumes",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-storage#dynamically-provision-volumes"
                }
            ],
            "guid": "77bda7ce-1fcf-4735-bd3d-1b3a83a9e484",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Dynamically provision volumes"
        },
        {
            "category": "貯蔵",
            "description": "ストレージの種類に適したツール (Velero や Azure Site Recovery など) を使用してデータをバックアップします",
            "detail": "Understand the limitations of the different approaches to data backups and if you need to quiesce your data prior to snapshot. Data backups don't necessarily let you restore your application environment of cluster deployment.",
            "documentation": [
                {
                    "title": "Secure and back up your data",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-storage#secure-and-back-up-your-data"
                }
            ],
            "guid": "13d493b9-2cdc-4632-b188-6882b81da0ed",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Secure and back up your data"
        },
        {
            "category": "貯蔵",
            "description": "可能であれば、コンテナー内にサービスの状態を格納しないでください。代わりに、複数リージョンのレプリケーションをサポートする Azure のサービスとしてのプラットフォーム (PaaS) を使用します。",
            "detail": "Service state refers to the in-memory or on-disk data that a service requires to function. State includes the data structures and member variables that the service reads and writes. Depending on how the service is architected, the state might also include files or other resources that are stored on the disk. For example, the state might include the files a database uses to store data and transaction logs.",
            "documentation": [
                {
                    "title": "Remove service state from inside containers",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-multi-region#remove-service-state-from-inside-containers"
                }
            ],
            "guid": "9f7547c1-747d-4c56-868a-714435bd19dd",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "貯蔵",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Avoid keeping state in the cluster, and store data outside (AzStorage, AzSQL, Cosmos, etc)",
            "waf": "パフォーマンス"
        },
        {
            "category": "貯蔵",
            "description": "エフェメラル OS ディスクでは、ディスクがローカルに接続されているため、AKS エージェント ノードの OS ディスクでの読み取り/書き込み待機時間が短くなります。",
            "detail": "You will also get faster cluster operations like scale or upgrade thanks to faster re-imaging and boot times",
            "documentation": [
                {
                    "title": "Everything you want to know about ephemeral OS disks and AKS",
                    "url": "https://learn.microsoft.com/en-us/samples/azure-samples/aks-ephemeral-os-disk/aks-ephemeral-os-disk/"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | project id,resourceGroup,name,pools=properties.agentPoolProfiles | mvexpand pools | extend compliant = (pools.osDiskType=='Ephemeral') | project id,name=strcat(name,'-',pools.name), resourceGroup, compliant",
            "guid": "24367b33-6971-45b1-952b-eee0b9b588de",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "graph": "where type=='microsoft.containerservice/managedclusters' | project id,resourceGroup,name,pools=properties.agentPoolProfiles | mvexpand pools | extend compliant = (pools.osDiskType=='Ephemeral') | project id,name=strcat(name,'-',pools.name), resourceGroup, compliant",
                    "scale": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "貯蔵",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use ephemeral OS disks",
            "waf": "パフォーマンス"
        },
        {
            "category": "貯蔵",
            "description": "Azure Ultra Disk は、ステートフル アプリケーション向けに、高スループット、高 IOPS、一貫性のある低遅延のディスク ストレージを提供します。",
            "detail": "One major benefit of ultra disks is the ability to dynamically change the performance of the SSD along with your workloads without the need to restart your agent nodes. Ultra disks are suited for data-intensive workloads.",
            "documentation": [
                {
                    "title": "Use Azure ultra disks on AKS",
                    "url": "https://learn.microsoft.com/azure/aks/use-ultra-disks"
                }
            ],
            "guid": "39c486ce-d5af-4062-89d5-18bb5fd795db",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "scale": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "貯蔵",
            "tags": [
                null,
                null,
                null
            ],
            "title": "For hyper performance storage option use Ultra Disks on AKS",
            "waf": "パフォーマンス"
        },
        {
            "category": "貯蔵",
            "description": "可能であれば、コンテナー内にサービスの状態を格納しないでください。代わりに、複数リージョンのレプリケーションをサポートする Azure のサービスとしてのプラットフォーム (PaaS) を使用します。",
            "detail": "Service state refers to the in-memory or on-disk data that a service requires to function. State includes the data structures and member variables that the service reads and writes. Depending on how the service is architected, the state might also include files or other resources that are stored on the disk. For example, the state might include the files a database uses to store data and transaction logs.",
            "documentation": [
                {
                    "title": "Remove service state from inside containers",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/operator-best-practices-multi-region#remove-service-state-from-inside-containers"
                }
            ],
            "guid": "b5f3808d-3a6a-42a5-adde-7bb34e047169",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Avoid keeping state in the cluster, and store data outside (AzStorage, AzSQL, Cosmos, etc)"
        },
        {
            "category": "貯蔵",
            "description": "Azure ディスクと AZ を使用する場合は、適切なゾーンにストレージをプロビジョニングするために VolumeBindingMode:WaitForFirstConsumer を使用して LRS ディスクのゾーン内にノードプールを配置するか、複数のゾーンにまたがるノードプールに ZRS ディスクを使用することを検討してください",
            "documentation": [
                {
                    "title": "Azure disk availability zone support",
                    "url": "https://docs.microsoft.com/azure/aks/availability-zones#azure-disk-availability-zone-support"
                }
            ],
            "guid": "83958a8c-2689-4b32-ab57-cfc64546135a",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "貯蔵",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If using Azure Disks and AZs, consider having nodepools within a zone for LRS disk",
            "waf": "パフォーマンス"
        },
        {
            "category": "貯蔵",
            "description": "非エフェメラル ディスクの場合、複数のポッドを実行するには高いパフォーマンスが必要であり、既定の AKS ログ ローテーションしきい値で巨大なログが生成されるため、多くのポッド/ノードを実行する場合は、ノードに高い IOPS とより大きな OS ディスクを使用します",
            "documentation": [
                {
                    "title": "Azure disk availability zone support",
                    "url": "Azure managed disk types"
                }
            ],
            "guid": "fc4972cc-3cd2-45bf-a707-6e9eab4bed32",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "scale": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "For non-ephemeral disks, use high IOPS and larger OS disks for the nodes when running many pods/node"
        },
        {
            "category": "ウィンドウズ",
            "description": "Windows には厳密な互換性規則があり、ホスト OS のバージョンはコンテナーの基本イメージの OS バージョンと一致する必要があります。Windows Server 2019 のコンテナー オペレーティング システムを持つ Windows コンテナーのみがサポートされます。",
            "documentation": [
                {
                    "title": "Windows container version compatibility",
                    "url": "https://docs.microsoft.com/virtualization/windowscontainers/deploy-containers/version-compatibility"
                },
                {
                    "title": "Limitations of Windows containers",
                    "url": "https://kubernetes.io/docs/setup/production-environment/windows/intro-windows-in-kubernetes/#supported-functionality-and-limitations"
                }
            ],
            "guid": "4d3e8a06-b724-43a3-b9b9-328a08325c61",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Map the base image to node OS"
        },
        {
            "category": "ウィンドウズ",
            "description": "TerminationGracePeriod は Windows コンテナーには実装されていません",
            "documentation": [
                {
                    "title": "Understand pod lifecycle",
                    "url": "https://cloud.google.com/blog/products/gcp/kubernetes-best-practices-terminating-with-grace"
                },
                {
                    "title": "Limitations of Windows containers",
                    "url": "https://kubernetes.io/docs/setup/production-environment/windows/intro-windows-in-kubernetes/#supported-functionality-and-limitations"
                }
            ],
            "guid": "fce3ccf3-5f62-4ad6-b945-845362777529",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Prepare your application for an abrupt kill"
        },
        {
            "category": "ウィンドウズ",
            "description": "Windows コンテナーでは、特権の昇格はサポートされていません",
            "documentation": [
                {
                    "title": "Limitations of Windows containers",
                    "url": "https://kubernetes.io/docs/setup/production-environment/windows/intro-windows-in-kubernetes/#supported-functionality-and-limitations"
                }
            ],
            "guid": "bd773172-40dc-4502-b284-137c70d77bc9",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Don't use privileged containers"
        },
        {
            "category": "ウィンドウズ",
            "description": "kubeletによって実行されるOOM削除アクションはありません。Windows では、すべてのユーザー モードのメモリ割り当ては常に仮想として扱われ、ページファイルは必須です。メモリが過剰にプロビジョニングされ、すべての物理メモリが使い果たされると、ページングによってパフォーマンスが低下する可能性があります。",
            "documentation": [
                {
                    "title": "Limitations of Windows containers",
                    "url": "https://kubernetes.io/docs/setup/production-environment/windows/intro-windows-in-kubernetes/#supported-functionality-and-limitations"
                }
            ],
            "guid": "dea429d5-2c10-480c-85a1-9d9d0c4afc3d",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Watch for memory usage"
        },
        {
            "category": "ウィンドウズ",
            "description": "Windows ノード プールを含む AKS クラスターでは、Azure CNI (詳細) ネットワーク モデルを使用する必要があります。Kubenet (基本) ネットワークはサポートされていません。",
            "documentation": [
                {
                    "title": "What network plug-ins are supported?",
                    "url": "https://docs.microsoft.com/azure/aks/windows-node-limitations#what-network-plug-ins-are-supported"
                }
            ],
            "guid": "3922e5b0-fa6b-4020-a92e-2e0d76338e95",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement CNI network mode"
        },
        {
            "category": "ウィンドウズ",
            "description": "AKS の Windows Server ノードをアップグレードして、最新の修正プログラムと更新プログラムを取得する必要があります。Windows Update は、AKS のノードでは有効になっていません。AKS は、パッチが利用可能になるとすぐに新しいノード プール イメージをリリースしますが、ノード プールをアップグレードしてパッチと修正プログラムを最新の状態に保つのはお客様の責任です。",
            "documentation": [
                {
                    "title": "Windows container version compatibility",
                    "url": "https://docs.microsoft.com/virtualization/windowscontainers/deploy-containers/version-compatibility?tabs=windows-server-20H2%2Cwindows-10-20H2"
                },
                {
                    "title": "How do patch my Windows nodes? ",
                    "url": "https://docs.microsoft.com/azure/aks/windows-node-limitations#how-do-patch-my-windows-nodes"
                }
            ],
            "guid": "67138b82-0102-4ce1-9ee3-01e6e882e52e",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null
            ],
            "title": "Keep windows containers patch level in sync with host patch level",
            "waf": "オペレーションズ"
        },
        {
            "category": "ウィンドウズ",
            "description": "ネットワーク ポリシーは現在サポートされていないため、コンテナー化されたアプリケーションに認証などの保護レイヤーがあることを確認してください",
            "documentation": [
                {
                    "title": "Limitations of Windows containers",
                    "url": "https://kubernetes.io/docs/setup/production-environment/windows/intro-windows-in-kubernetes/#supported-functionality-and-limitations"
                }
            ],
            "guid": "74e42965-8bbd-46fb-b027-ccad9c3933a4",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Secure the traffic of your containers"
        },
        {
            "category": "ウィンドウズ",
            "description": "グループ管理サービス アカウント (GMSA) は、自動パスワード管理、簡略化されたサービス プリンシパル名 (SPN) 管理、および他の管理者に管理を委任する機能を提供する、複数のサーバー用のマネージド ドメイン アカウントです。",
            "documentation": [
                {
                    "title": "Enable Group Managed Service Accounts (GMSA) for your Windows Server nodes",
                    "url": "https://docs.microsoft.com/en-gb/azure/aks/use-group-managed-service-accounts"
                }
            ],
            "guid": "e1123a7c-a333-4eb4-a120-4ee3f293c9f3",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "同一性",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Enable Group Managed Service Accounts (GMSA) for your Windows Server nodes",
            "waf": "安全"
        },
        {
            "category": "ウィンドウズ",
            "description": "HostProcess / 特権コンテナーは、Windows コンテナー モデルを拡張して、より広範な Kubernetes クラスター管理シナリオを可能にします。",
            "documentation": [
                {
                    "title": "Use Windows HostProcess containers",
                    "url": "https://learn.microsoft.com/azure/aks/use-windows-hpc"
                }
            ],
            "guid": "ab5351f6-383a-45ed-9c5e-b143b16db40a",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "発達",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If required for AKS Windows workloads, HostProcess containers can be used",
            "waf": "確実"
        },
        {
            "category": "ウィンドウズ",
            "description": "テイント、容認、ノード セレクターを追加すると、ポッドが間違った OS ノード プールにスケジュールされるのを回避できます",
            "documentation": [
                {
                    "title": "Adapt apps for mixed-OS Kubernetes clusters using node selectors or taints and tolerations",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/hybrid/adapt-apps-mixed-os-clusters"
                }
            ],
            "guid": "c1881370-6f7c-44c0-b4e5-14648d2457ed",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "low",
            "service": "AKS",
            "subcategory": "コンプライアンス",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Taint Windows nodes",
            "waf": "オペレーションズ"
        },
        {
            "category": "ウィンドウズ",
            "description": "Windows 2019 および 2022 AKS ノードの場合、Calico ネットワーク ポリシーを使用できます",
            "documentation": [
                {
                    "title": "Secure traffic between pods using network policies",
                    "url": "https://learn.microsoft.com/azure/aks/use-network-policies"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | where isnotnull(properties.apiServerAccessProfile.enablePrivateCluster) | extend compliant = (properties.apiServerAccessProfile.enablePrivateCluster==true) | distinct id, compliant",
            "guid": "ce7f2a7c-297c-47c6-adea-a6ff838db665",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | where isnotnull(properties.apiServerAccessProfile.enablePrivateCluster) | extend compliant = (properties.apiServerAccessProfile.enablePrivateCluster==true) | distinct id, compliant",
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "安全",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "For Windows 2019 and 2022 AKS nodes Calico Network Policies can be us",
            "waf": "安全"
        },
        {
            "category": "ウィンドウズ",
            "description": "Windows ワークロードの場合は、高速ネットワークを使用します",
            "documentation": [
                {
                    "title": "What is Accelerated Networking?",
                    "url": "https://learn.microsoft.com/azure/virtual-network/accelerated-networking-overview"
                }
            ],
            "guid": "7bacd7b9-c025-4a9d-a5d2-25d6bc5439d9",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnull(properties.addonProfiles.httpApplicationRouting) or properties.addonProfiles.httpApplicationRouting.enabled==false) | distinct id,compliant",
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "おすすめの方法",
            "tags": [
                null,
                null,
                null
            ],
            "title": "For Windows workloads use Accelerated Networking",
            "waf": "パフォーマンス"
        }
    ],
    "metadata": {
        "name": "The AKS Checklist",
        "state": "preview",
        "timestamp": "June 30, 2024",
        "waf": "none"
    },
    "severities": [
        {
            "name": "高い"
        },
        {
            "name": "中程度"
        },
        {
            "name": "低い"
        }
    ],
    "status": [
        {
            "description": "このチェックはまだ検討されていません",
            "name": "未確認"
        },
        {
            "description": "このチェックにはアクションアイテムが関連付けられています",
            "name": "開ける"
        },
        {
            "description": "このチェックは検証済みで、これ以上のアクションアイテムは関連付けられていません",
            "name": "達成"
        },
        {
            "description": "推奨事項は理解されているが、現在の要件では不要",
            "name": "必要なし"
        },
        {
            "description": "現在のデザインには適用されません",
            "name": "該当なし"
        }
    ],
    "waf": [
        {
            "name": "確実"
        },
        {
            "name": "安全"
        },
        {
            "name": "費用"
        },
        {
            "name": "オペレーションズ"
        },
        {
            "name": "パフォーマンス"
        }
    ],
    "yesno": [
        {
            "name": "はい"
        },
        {
            "name": "いいえ"
        }
    ]
}