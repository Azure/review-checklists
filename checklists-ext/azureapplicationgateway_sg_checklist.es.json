{
    "$schema": "https://raw.githubusercontent.com/Azure/review-checklists/main/checklists/checklist.schema.json",
    "categories": [],
    "items": [
        {
            "description": "Cuando se distribuyen varias instancias entre zonas, la carga de trabajo puede soportar errores en una sola zona. Si tiene una zona no disponible, el tráfico se desplaza automáticamente a instancias en buen estado en otras zonas, lo que mantiene la fiabilidad de la aplicación.",
            "guid": "a36e2517-aa81-4e4b-9962-e78144b18ac7",
            "service": "Azure Application Gateway",
            "text": "Implemente instancias de Application Gateway en una configuración que tenga en cuenta las zonas.  Compruebe la compatibilidad regional con la redundancia de zona, ya que no todas las regiones ofrecen esta característica.",
            "type": "recommendation",
            "waf": "Fiabilidad"
        },
        {
            "description": "Los sondeos de estado garantizan que el tráfico solo se dirija a los back-end que pueden controlar el tráfico. Application Gateway supervisa el estado de todos los servidores de su grupo de back-end y detiene automáticamente el envío de tráfico a cualquier servidor que considere incorrecto.",
            "guid": "9afcdcea-4d65-4d51-9008-297c2c363625",
            "service": "Azure Application Gateway",
            "text": "Use sondeos de estado de Application Gateway para detectar la falta de disponibilidad del back-end.",
            "type": "recommendation",
            "waf": "Fiabilidad"
        },
        {
            "description": "Use la limitación de velocidad para evitar problemas como tormentas de reintentos.",
            "guid": "7bcec0ab-ea83-427d-ae8c-946bf662ece6",
            "service": "Azure Application Gateway",
            "text": "Configure reglas de limitación de velocidad para Azure WAF de modo que los clientes no puedan enviar demasiado tráfico a la aplicación.",
            "type": "recommendation",
            "waf": "Fiabilidad"
        },
        {
            "description": "Las unidades definidas por el usuario de la subred de Application Gateway pueden causar algunos problemas. No use UDR en la subred de Application Gateway para poder ver el estado del back-end, los registros y las métricas.",
            "guid": "b2881b32-11c9-4bec-94d0-255ec577fdab",
            "service": "Azure Application Gateway",
            "text": "No use UDR en Application Gateway para que el informe de estado de back-end funcione correctamente y genere los registros y las métricas correctos.  Si debe usar una UDR en la subred de Application Gateway, consulte UDR admitidas.",
            "type": "recommendation",
            "waf": "Fiabilidad"
        },
        {
            "description": "Establezca IdleTimeout para que coincida con el back-end. Esta configuración garantiza que la conexión entre Application Gateway y el cliente permanezca abierta si el back-end tarda más de cuatro minutos en responder a la solicitud. Si no configura esta opción, la conexión se cierra y el cliente no ve la respuesta de back-end.",
            "guid": "0719fb38-2436-415b-8db7-3d19a1e57bee",
            "service": "Azure Application Gateway",
            "text": "Configure las opciones de IdleTimeout para que coincidan con las características del agente de escucha y el tráfico de la aplicación back-end. El valor predeterminado es cuatro minutos. Puede configurarlo hasta un máximo de 30 minutos.  Para obtener más información, consulte Restablecimiento del protocolo de control de transmisión (TCP) del equilibrador de carga y tiempo de espera de inactividad.",
            "type": "recommendation",
            "waf": "Fiabilidad"
        },
        {
            "description": "Utilice la política de TLS más reciente para exigir el uso de TLS 1.2 y cifrados más seguros. La política TLS incluye el control de la versión del protocolo TLS y los conjuntos de cifrado, así como el orden en el que un protocolo de enlace TLS utiliza cifrados.",
            "guid": "8e0ffc7d-aecb-456f-8a8a-6cbd5743e076",
            "service": "Azure Application Gateway",
            "text": "Configure una política TLS para mejorar la seguridad. Asegúrese de utilizar la versión más reciente de la política TLS.",
            "type": "recommendation",
            "waf": "Seguridad"
        },
        {
            "description": "El rendimiento mejora porque las solicitudes que van a diferentes back-end no tienen que volver a autenticarse en cada back-end. La puerta de enlace puede acceder al contenido de la solicitud y tomar decisiones de enrutamiento inteligentes. Solo tiene que instalar el certificado en Application Gateway, lo que simplifica la administración de certificados.",
            "guid": "0534341b-03de-4eb4-9fbb-47806be1958d",
            "service": "Azure Application Gateway",
            "text": "Use Application Gateway para la terminación de TLS.",
            "type": "recommendation",
            "waf": "Seguridad"
        },
        {
            "description": "Este enfoque proporciona una seguridad más sólida, una separación más sencilla de roles y responsabilidades, compatibilidad con certificados administrados y un proceso de renovación y rotación de certificados más sencillo.",
            "guid": "14551ef6-ea58-410f-bb9b-08a0c10381a8",
            "service": "Azure Application Gateway",
            "text": "Integre Application Gateway con Key Vault para almacenar certificados TLS.",
            "type": "recommendation",
            "waf": "Seguridad"
        },
        {
            "description": "La subred de Application Gateway admite grupos de seguridad de red, pero existen algunas restricciones. Por ejemplo, está prohibida cierta comunicación con ciertos rangos de puertos. Asegúrese de comprender las implicaciones de esas restricciones.",
            "guid": "6febf0db-32d2-4e89-a3fd-debec3a426dd",
            "service": "Azure Application Gateway",
            "text": "Cumpla con todas las restricciones de NSG para Application Gateway.",
            "type": "recommendation",
            "waf": "Seguridad"
        },
        {
            "description": "Una instancia de Application Gateway detenida no genera costos. Las instancias de Application Gateway que se ejecutan continuamente pueden incurrir en costos innecesarios. Evalúe los patrones de uso y detenga las instancias cuando no las necesite. Por ejemplo, espere un uso bajo después del horario comercial en entornos de desarrollo y pruebas.",
            "guid": "147308ab-aa3c-4724-b314-5820ebe6a0ee",
            "service": "Azure Application Gateway",
            "text": "Detenga las instancias de Application Gateway cuando no estén en uso. Para obtener más información, vea Stop-AzApplicationGateway y Start-AzApplicationGateway.",
            "type": "recommendation",
            "waf": "Costar"
        },
        {
            "description": "Utilice estas métricas para validar si el recuento de instancias aprovisionadas coincide con la cantidad de tráfico entrante y asegúrese de utilizar plenamente los recursos asignados.",
            "guid": "1946aefd-0576-40b2-a8ed-58265dc9dcf0",
            "service": "Azure Application Gateway",
            "text": "Supervise las métricas clave de Application Gateway que impulsan el costo, como: - Unidades de capacidad facturada estimadas.  - Unidades fijas de capacidad facturable. - Unidades de capacidad actual.  Asegúrese de tener en cuenta los costos de ancho de banda.",
            "type": "recommendation",
            "waf": "Costar"
        },
        {
            "description": "Establezca alertas cuando las métricas crucen los umbrales para saber cuándo aumenta su uso. Este enfoque garantiza que tenga tiempo suficiente para implementar los cambios necesarios en la carga de trabajo y evita la degradación o las interrupciones.",
            "guid": "aa1eacb3-ef9f-4e69-bc98-784ec67d1192",
            "service": "Azure Application Gateway",
            "text": "Configure alertas para notificar a su equipo cuando las métricas de capacidad, como el uso de CPU y el uso de unidades de proceso, superen los umbrales recomendados.  Para configurar un conjunto completo de alertas basadas en métricas de capacidad, consulte Compatibilidad con el tráfico elevado de Application Gateway.",
            "type": "recommendation",
            "waf": "Operaciones"
        },
        {
            "description": "Use alertas para ayudar a garantizar que su equipo pueda responder a los problemas de manera oportuna y facilitar la solución de problemas.",
            "guid": "91992f80-fca7-48ad-85bc-3bad00352475",
            "service": "Azure Application Gateway",
            "text": "Configure alertas para notificar a su equipo sobre las métricas que indican problemas en Application Gateway o en el back-end. Se recomienda evaluar las siguientes alertas:- Recuento de hosts incorrectos- Estado de respuesta, como errores 4xx y 5xx - Estado de respuesta de back-end, como errores 4xx y 5xx - Tiempo de respuesta del último byte de back-end- Tiempo total de Application GatewayPara obtener más información, consulte Métricas para Application Gateway.",
            "type": "recommendation",
            "waf": "Operaciones"
        },
        {
            "description": "Use los registros para ayudar a detectar, investigar y solucionar problemas con las instancias de Application Gateway y la carga de trabajo.",
            "guid": "59ddc80c-f93b-488b-814d-270a4ad7786d",
            "service": "Azure Application Gateway",
            "text": "Habilite los registros de diagnóstico en Application Gateway y WAF para recopilar registros de firewall, registros de rendimiento y registros de acceso.",
            "type": "recommendation",
            "waf": "Operaciones"
        },
        {
            "description": "Utilice las alertas de Advisor para mantenerse al día y solucionar problemas de inmediato. Evite cualquier problema relacionado con el plano de control o el plano de datos.  Application Gateway comprueba la versión de certificado renovada en la instancia de Key Vault vinculada cada 4 horas. Si no se puede acceder a la versión del certificado debido a una configuración incorrecta de Key Vault, registra ese error e inserta una recomendación de Advisor correspondiente.",
            "guid": "88daf0df-5324-450c-ae59-e8d3f12f697a",
            "service": "Azure Application Gateway",
            "text": "Use Advisor para supervisar los problemas de configuración de Key Vault. Establezca una alerta para notificar a su equipo cuando reciba la recomendación que indica Resolver el problema de Azure Key Vault para Application Gateway.",
            "type": "recommendation",
            "waf": "Operaciones"
        },
        {
            "description": "En el caso de Application Gateway v2, el escalado automático tarda aproximadamente de seis a siete minutos antes de que el conjunto adicional de instancias esté listo para atender el tráfico. Durante ese tiempo, si Application Gateway tiene picos cortos en el tráfico, espere latencia transitoria o pérdida de tráfico.",
            "guid": "1c9a7b2a-0e95-4416-8af5-4d173c48870e",
            "service": "Azure Application Gateway",
            "text": "Establezca el número mínimo de instancias en un nivel óptimo en función del recuento de instancias estimado, las tendencias reales de escalado automático de Application Gateway y los patrones de la aplicación.  Compruebe las unidades de proceso actuales del mes pasado. Esta métrica representa el uso de CPU de la puerta de enlace. Para definir el número mínimo de instancias, divida el uso máximo por 10. Por ejemplo, si el promedio de unidades de proceso actuales en el último mes es de 50, establezca el recuento mínimo de instancias en cinco.",
            "type": "recommendation",
            "waf": "Rendimiento"
        },
        {
            "description": "Application Gateway se puede escalar horizontalmente según sea necesario para controlar el aumento del tráfico a las aplicaciones. Esta configuración no aumenta el costo, ya que solo paga por la capacidad consumida.",
            "guid": "2b1242f0-cf07-48fa-8567-63a11efd6d13",
            "service": "Azure Application Gateway",
            "text": "Establezca el número máximo de instancias de escalado automático en el máximo posible, que es de 125 instancias. Asegúrese de que la subred dedicada de Application Gateway tenga suficientes direcciones IP disponibles para admitir el mayor conjunto de instancias.",
            "type": "recommendation",
            "waf": "Rendimiento"
        },
        {
            "description": "Use una subred /24 para proporcionar compatibilidad con todas las direcciones IP que necesite la implementación de Application Gateway v2.  Application Gateway usa una dirección IP privada para cada instancia y otra dirección IP privada si configura una dirección IP de front-end privada. La SKU Standard_v2 o WAF_v2 puede admitir hasta 125 instancias. Azure reserva cinco direcciones IP en cada subred para uso interno.",
            "guid": "bd29ba93-56b6-43cc-9546-8aace18d45e5",
            "service": "Azure Application Gateway",
            "text": "Dimensione correctamente la subred dedicada de Application Gateway. Se recomienda encarecidamente una subred /24 para una implementación de Application Gateway v2.  Si desea implementar otros recursos de Application Gateway en la misma subred, tenga en cuenta las direcciones IP adicionales que necesita para el recuento máximo de instancias.  Para obtener más consideraciones sobre el tamaño de la subred, consulte Configuración de la infraestructura de Application Gateway.",
            "type": "recommendation",
            "waf": "Rendimiento"
        }
    ],
    "metadata": {
        "name": "Azure Application Gateway Service Guide",
        "state": "preview",
        "timestamp": "October 21, 2024",
        "waf": "all"
    },
    "status": [
        {
            "description": "Esta comprobación aún no se ha examinado",
            "name": "No verificado"
        },
        {
            "description": "Hay un elemento de acción asociado a esta comprobación",
            "name": "Abrir"
        },
        {
            "description": "Esta comprobación se ha verificado y no hay más elementos de acción asociados a ella",
            "name": "Cumplido"
        },
        {
            "description": "No aplicable para el diseño actual",
            "name": "N/A"
        },
        {
            "description": "No es necesario",
            "name": "No es necesario"
        }
    ],
    "waf": [
        {
            "name": "fiabilidad"
        },
        {
            "name": "Costar"
        },
        {
            "name": "Operaciones"
        },
        {
            "name": "seguridad"
        },
        {
            "name": "Rendimiento"
        },
        {
            "name": "Fiabilidad"
        },
        {
            "name": "Operaciones"
        },
        {
            "name": "Seguridad"
        },
        {
            "name": "rendimiento"
        },
        {
            "name": "costar"
        }
    ],
    "yesno": [
        {
            "name": "Sí"
        },
        {
            "name": "No"
        }
    ]
}