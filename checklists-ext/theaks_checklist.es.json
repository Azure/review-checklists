{
    "categories": [
        {
            "name": "Operaciones"
        },
        {
            "name": "Almacenamiento"
        },
        {
            "name": "Gestión de redes"
        },
        {
            "name": "Windows"
        },
        {
            "name": "Aplicación"
        },
        {
            "name": "Cluster_Security"
        },
        {
            "name": "Contenedor"
        },
        {
            "name": "Resource_Management"
        },
        {
            "name": "Identidad"
        },
        {
            "name": "Bc_Dr"
        },
        {
            "name": "Cluster_Multi"
        }
    ],
    "items": [
        {
            "category": "Aplicación",
            "description": "Muchas aplicaciones que se ejecutan durante largos períodos de tiempo finalmente pasan a estados rotos y no pueden recuperarse excepto reiniciando. Kubernetes proporciona sondeos de ejecución para detectar y remediar estas situaciones. El sondeo está aquí para decirle a Kubernetes que reinicie su pod cuando ya no responde",
            "documentation": [
                {
                    "title": "Configure Liveness, Readiness and Startup Probes",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/"
                }
            ],
            "guid": "2e9ed573-38b2-4856-a7f9-676d9ab604e1",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement a proper Liveness probe"
        },
        {
            "category": "Aplicación",
            "description": "Proteja los contenedores de inicio lento con sondas de inicio. La sonda de inicio permite retrasar la verificación inicial por ejecución, lo que podría causar un bloqueo o un resultado incorrecto",
            "documentation": [
                {
                    "title": "Configure Liveness, Readiness and Startup Probes",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/"
                }
            ],
            "guid": "a066989c-9dce-4712-bce3-4eef36f8c0c2",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement a proper Startup probe"
        },
        {
            "category": "Aplicación",
            "description": "A veces, las aplicaciones no pueden atender temporalmente el tráfico. Por ejemplo, es posible que una aplicación necesite cargar archivos de configuración o datos de gran tamaño durante el inicio, o depender de servicios externos después del inicio. En tales casos, no desea matar la aplicación, pero tampoco desea enviarle solicitudes. Kubernetes proporciona sondeos de preparación para detectar y mitigar estas situaciones. Un pod con contenedores que informan de que no están listos no recibe tráfico a través de los servicios de Kubernetes.",
            "documentation": [
                {
                    "title": "Configure Liveness, Readiness and Startup Probes",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/"
                }
            ],
            "guid": "de1b6b38-4fa9-4f6e-ab92-d824346dd20c",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement a proper Readiness probe"
        },
        {
            "category": "Aplicación",
            "description": "Este enlace se llama inmediatamente antes de que se termine un contenedor debido a una solicitud de API o un evento de administración, como un error de sondeo de ejecución, adelantamiento, contención de recursos y otros. Se puede usar cuando tiene un proceso crítico que desea finalizar o guardar cuando su pod se destruye por cualquier motivo",
            "documentation": [
                {
                    "title": "Container Lifecycle Hooks",
                    "url": "https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/"
                }
            ],
            "guid": "dc4828a3-fc4f-4ac5-8844-122b8482dbb1",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement a proper prestop hook"
        },
        {
            "category": "Aplicación",
            "description": "Asegúrese de que la aplicación siempre configure las réplicas adecuadas para garantizar la resistencia en caso de que un pod se bloquee o se expulse.",
            "documentation": [
                {
                    "title": "Pod replicas",
                    "url": "https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/"
                }
            ],
            "guid": "4f1f88f9-98a3-48f5-a37f-4d9c9aecbb11",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Run more than one replica for your Deployment"
        },
        {
            "category": "Aplicación",
            "description": "Asegúrese de que sus componentes estén etiquetados, ya sean etiquetas comerciales, de seguridad o técnicas, y estas etiquetas ayudarán a evaluar o aplicar las políticas pertinentes.",
            "documentation": [
                {
                    "title": "Recommended Labels",
                    "url": "https://kubernetes.io/docs/concepts/overview/working-with-objects/common-labels/"
                }
            ],
            "guid": "7b613b26-df38-49a8-94bf-c5301a91d558",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Apply tags/labels to all resources"
        },
        {
            "category": "Aplicación",
            "description": "Escale automáticamente la aplicación al número de pods necesarios para controlar la carga actual. Esto se puede lograr mediante el uso de Horizontal Pod Autoscaler para CPU y memoria o mediante el uso de KEDA para escalar en función de otras fuentes",
            "documentation": [
                {
                    "title": "Horizontal Pod Autoscaler",
                    "url": "https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/"
                }
            ],
            "guid": "faa19bfe-9d55-4d04-a3c4-919ca1b2d121",
            "optionalFields": {
                "score": {
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Escalabilidad",
            "tags": [
                null,
                null
            ],
            "title": "Implement autoscaling of your applications (Horizontal pod autoscaler, KEDA)",
            "tools": [
                {
                    "title": "Kubernetes Event-driven Autoscaling (KEDA)",
                    "url": "https://keda.sh/"
                },
                {
                    "title": "KEDA as AKS addon",
                    "url": "https://docs.microsoft.com/azure/aks/keda-about"
                }
            ],
            "waf": "Rendimiento"
        },
        {
            "category": "Aplicación",
            "description": "Los secretos no se cifran en etcd, prefiera almacenar sus secretos en un HSM adecuado como Azure Key Vault. A continuación, puede inyectar secretos mediante el proveedor CSI.",
            "documentation": [
                {
                    "title": "Azure Key Vault Provider for Secret Store CSI Driver",
                    "url": "https://github.com/Azure/secrets-store-csi-driver-provider-azure"
                },
                {
                    "title": "AKV2K8S",
                    "url": "https://akv2k8s.io/"
                }
            ],
            "guid": "5e3df584-eccc-4d97-a3b6-bcda3b50eb2e",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Secretos",
            "tags": [
                null,
                null
            ],
            "title": "Store your secrets in Azure Key Vault, don't inject passwords in Docker Images",
            "waf": "Seguridad"
        },
        {
            "category": "Aplicación",
            "description": "No use credenciales fijas dentro de pods o imágenes de contenedores, ya que corren el riesgo de exposición o abuso. En su lugar, use la federación de identidades de carga de trabajo para acceder a los recursos protegidos de Azure Active Directory (Azure AD) sin necesidad de administrar secretos ",
            "detail": "When pods need access to other Azure services, such as Cosmos DB, Key Vault, or Blob Storage, the pod needs access credentials. These access credentials could be defined with the container image or injected as a Kubernetes secret, but need to be manually created and assigned. Often, the credentials are reused across pods, and aren't regularly rotated. Managed identities for Azure resources (currently implemented as an associated AKS open source project) let you automatically request access to services through Azure AD. You don't manually define credentials for pods, instead they request an access token in real time, and can use it to access only their assigned services.",
            "documentation": [
                {
                    "title": "Use Azure Workload Identity",
                    "url": "https://learn.microsoft.com/azure/aks/workload-identity-overview"
                },
                {
                    "title": "Azure Active Directory Pod Identity (deprecated)",
                    "url": "https://docs.microsoft.com/azure/aks/use-azure-ad-pod-identity"
                }
            ],
            "guid": "d2e0d5d7-71d4-41e3-910c-c57b4a4b1410",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Identidad",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Implement Azure Workload Identity",
            "waf": "Seguridad"
        },
        {
            "category": "Aplicación",
            "description": "Los espacios de nombres ofrecen la capacidad de crear particiones lógicas y aplicar la separación de los recursos, así como limitar el alcance de los permisos de usuario. No olvide no usar el espacio de nombres predeterminado",
            "documentation": [
                {
                    "title": "Namespaces",
                    "url": "https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/"
                }
            ],
            "guid": "0b56d03c-5fc8-42b1-943b-9e4b4d0f3de8",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Use Kubernetes namespaces to properly isolate your Kubernetes resources"
        },
        {
            "category": "Aplicación",
            "description": "Cuando los contenedores tienen solicitudes de recursos especificadas, el programador puede tomar mejores decisiones sobre los nodos en los que colocar los pods. Y cuando los contenedores tienen sus límites especificados, la contención de recursos en un nodo se puede controlar de una manera específica.",
            "documentation": [
                {
                    "title": "Managing Compute Resources for Containers",
                    "url": "https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/"
                },
                {
                    "title": "Take benefit of the Quality of Service",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/quality-service-pod/"
                }
            ],
            "guid": "b54eb2eb-03dd-4aa3-9927-18e2edb11726",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Recursos",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Set up requests and limits on your containers",
            "waf": "Operaciones"
        },
        {
            "category": "Aplicación",
            "description": "Un contexto de seguridad define la configuración de control de acceso y privilegios para un pod o contenedor. Controle las capacidades y los derechos que puede tener su contenedor. Si no especifica el contexto de seguridad, el pod obtiene el \"predeterminado\" que puede tener más derechos de los que debería",
            "detail": "You should also disable mounting credentials by default (automountServiceAccountToken)",
            "documentation": [
                {
                    "title": "Configure a Security Context for a Pod or Container",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/security-context/"
                }
            ],
            "guid": "20861805-be15-48f5-b40b-5ae203ddbb67",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Specify the security context of your pod/container"
        },
        {
            "category": "Aplicación",
            "description": "Las prácticas recomendadas dentro del clúster comienzan con la configuración de los manifiestos. Garantizar que respetan las buenas prácticas",
            "documentation": [
                {
                    "title": "Kubernetes YAML: Enforcing best practices and security policies",
                    "url": "https://thechief.io/c/editorial/kubernetes-yaml-enforcing-best-practices-and-security-policies-cicd-and-gitops-pipelines/"
                },
                {
                    "title": "13 Best Practices for Using Helm",
                    "url": "https://betterprogramming.pub/13-best-practices-for-using-helm-f4fc68545a2c"
                }
            ],
            "guid": "5388e9de-d167-4dd1-a2b0-ac241b999a64",
            "optionalFields": {
                "score": {
                    "simple": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Ensure your manifests respect good practices",
            "tools": [
                {
                    "title": "kube-score",
                    "url": "https://kube-score.com/"
                },
                {
                    "title": "Checkov",
                    "url": "https://www.checkov.io/"
                },
                {
                    "title": "kubelinter",
                    "url": "https://github.com/stackrox/kube-linter"
                }
            ]
        },
        {
            "category": "Aplicación",
            "description": "Defina una línea base de seguridad de compilación de imágenes para que la sigan los desarrolladores. También debe usar herramientas de escaneo para detectar el problema de Dockerfile",
            "documentation": [
                {
                    "title": "SNYK 10 Docker Image Security Best Practices",
                    "url": "https://snyk.io/blog/10-docker-image-security-best-practices/"
                },
                {
                    "title": "21 Best Practises in 2021 for Dockerfile",
                    "url": "https://dev.to/chrisedrego/21-best-practise-in-2021-for-dockerfile-1dji"
                }
            ],
            "guid": "b5222fdc-72b7-4b5f-baae-ab48a69b1d36",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Conduct Dockerfile scanning to ensure Docker Image Security Best Practices",
            "tools": [
                {
                    "title": "Dockle",
                    "url": "https://github.com/goodwithtech/dockle"
                },
                {
                    "title": "Hadolint",
                    "url": "https://github.com/hadolint/hadolint"
                }
            ]
        },
        {
            "category": "Aplicación",
            "description": "Introducción de DevSecOps en el entorno para promover un modelo de seguridad proactivo que empiece a desplazar la responsabilidad hacia la izquierda",
            "documentation": [
                {
                    "title": "Introduction to Microsoft Defender for container registries",
                    "url": "https://docs.microsoft.com/azure/defender-for-cloud/defender-for-containers-introduction"
                },
                {
                    "title": "Palo Alto CI/CD Integration (twistcli)",
                    "url": "https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin-compute/tools/twistcli_scan_images"
                },
                {
                    "title": "Qualys CI/CD Integration",
                    "url": "https://qualysguard.qg2.apps.qualys.com/cs/help/vuln_scans/docker_images.htm"
                },
                {
                    "title": "Clair CI/CD Integration",
                    "url": "https://github.com/quay/clair"
                }
            ],
            "guid": "54cbc938-394e-480a-823a-51c2bcd3c66b",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Static Analysis of Docker Images on Build"
        },
        {
            "category": "Aplicación",
            "description": "Restrinja las compilaciones con problemas identificados.",
            "detail": "Use a tool that allows for the restriction of builds with enough granularity to not break development.  All Critical CVE's are not the same, so being able to restrict builds based on Critical or High vulnerabilities with a Vendor fix, but allowing builds to continue if that Critical vulnerability is 'Open'",
            "documentation": [
                {
                    "title": "Prisma Threshold enforcement",
                    "url": "https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin-compute/vulnerability_management/vuln_management_rules.html"
                }
            ],
            "guid": "1a67a172-c4ca-4383-8934-a71277cb927e",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Threshold enforcement of Docker Image Builds that contain vulnerabilities"
        },
        {
            "category": "Aplicación",
            "description": "Ser capaz de evaluar y restringir el estado de cumplimiento de una imagen en construcción.",
            "detail": "Identifying an image running as 'root' before it get deployed, or opening up port 80 or 22",
            "documentation": [
                {
                    "title": "Azure Built-In Policy",
                    "url": "https://docs.microsoft.com/azure/aks/policy-samples"
                },
                {
                    "title": "Prisma Managing Compliance",
                    "url": "https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin-compute/compliance/manage_compliance.html"
                }
            ],
            "guid": "01ede997-e0bf-454a-bd1f-114be06a9874",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Compliance enforcement of Docker Image Builds"
        },
        {
            "category": "Aplicación",
            "description": "La herramienta de contenedorización de aplicaciones ofrece un enfoque de apuntar y crear contenedores para volver a empaquetar aplicaciones como contenedores con cambios mínimos o sin cambios en el código mediante el estado de ejecución de la aplicación. Actualmente, la herramienta admite la creación de contenedores ASP.NET aplicaciones y aplicaciones web Java que se ejecutan en Apache Tomcat.",
            "documentation": [
                {
                    "title": "Accelerate application modernization with Azure Migrate: App Containerization",
                    "url": "https://aka.ms/AppContainerizationtoAKS"
                }
            ],
            "guid": "c1c05f94-4b74-4231-9d36-aa7a56fb775e",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Use Azure Migrate to quick containerize your applications"
        },
        {
            "category": "Aplicación",
            "description": "Existe una variedad de técnicas para implementar nuevas aplicaciones en producción, por lo que elegir la estrategia correcta es una decisión importante que se debe tomar para aprovechar el impacto del cambio en el consumidor.",
            "documentation": [
                {
                    "title": "Kubernetes Deployment Strategies",
                    "url": "https://blog.container-solutions.com/deployment-strategies"
                }
            ],
            "guid": "3abc7c0e-44c7-40fc-afce-aa4ddbf3dd81",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Apply the right deployment type to your application"
        },
        {
            "category": "Aplicación",
            "description": "Los pods desnudos son pods que no están vinculados a un conjunto de réplicas o a una implementación. Los pods desnudos no se reprogramarán en caso de que se produzca un error en el nodo.",
            "details": "If imagePullPolicy is omitted and either the image tag is :latest or it is omitted: imagePullPolicy is automatically set to Always. Prefer to set explicitly IfNotPresent",
            "guid": "980e9f76-e20a-426a-9c01-cbae1b63c5e8",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Don't use naked pods"
        },
        {
            "category": "Aplicación",
            "description": "Si estos atributos no se definen correctamente, Kubernetes descarga la imagen del contenedor para cada nueva instancia de los contenedores.",
            "documentation": [
                {
                    "title": "Updating images",
                    "url": "https://kubernetes.io/docs/concepts/containers/images/#updating-images"
                }
            ],
            "guid": "d457598a-047b-4fd7-88e5-9c61dea67f6a",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Control the usage of imagePullPolicy"
        },
        {
            "category": "Aplicación",
            "description": "Si estos atributos no se definen correctamente, Kubernetes descarga la imagen del contenedor para cada nueva instancia de los contenedores.",
            "documentation": [
                {
                    "title": "Create a Kubernetes cluster with Azure Kubernetes Service using Terraform",
                    "url": "https://docs.microsoft.com/azure/developer/terraform/create-k8s-cluster-with-tf-and-aks"
                }
            ],
            "guid": "3acbe04b-be20-49d3-afda-47778424d116",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Infraestructura como código",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use automation through ARM/TF to create your Azure resources",
            "waf": "Operaciones"
        },
        {
            "category": "Aplicación",
            "description": "Esto ayudará a garantizar que las cargas de trabajo permanezcan en línea durante las actualizaciones del clúster.",
            "documentation": [
                {
                    "title": "Blue-green deployment for AKS",
                    "url": "https://learn.microsoft.com/en-us/azure/architecture/reference-architectures/containers/blue-green-deployment-for-aks/blue-green-deployment-for-aks"
                }
            ],
            "guid": "785c2fa5-5b56-4ad4-a408-fe72734c476b",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Desarrollo",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use canary or blue/green deployments",
            "waf": "Operaciones"
        },
        {
            "category": "Aplicación",
            "description": "Esto ayudará a garantizar que las cargas de trabajo permanezcan en línea durante las actualizaciones del clúster.",
            "documentation": [
                {
                    "title": "Dapr project page",
                    "url": "https://dapr.io/"
                }
            ],
            "guid": "26886d20-b66c-457b-a591-19bf8e8f5c58",
            "optionalFields": {
                "score": {
                    "simple": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Desarrollo",
            "tags": [
                null,
                null
            ],
            "title": "Use Dapr to ease microservice development",
            "waf": "Operaciones"
        },
        {
            "category": "Bc_Dr",
            "description": "Antes de pasar a producción, es muy importante decidir el objetivo de disponibilidad y tiempo de recuperación que se busca. Esto le ayudará a decidir la estrategia de copia de seguridad adecuada, pero también la arquitectura de su solución.",
            "documentation": [
                {
                    "title": "Define the BCDR strategy",
                    "url": "https://learn.microsoft.com/azure/cloud-adoption-framework/ready/enterprise-scale/business-continuity-and-disaster-recovery"
                }
            ],
            "guid": "bc14aea6-e65d-48d9-a3ad-c218e6436b06",
            "optionalFields": {
                "score": {
                    "ha": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Requisitos",
            "tags": [
                null,
                null
            ],
            "title": "Define non-functional requirements such as SLAs, RTO (Recovery Time Objective) and RPO (Recovery Point Objective)",
            "waf": "Resiliencia"
        },
        {
            "category": "Bc_Dr",
            "description": "Una implementación de espacio en blanco (greenfield) es el ejercicio para eliminar todo y volver a implementar toda la plataforma de forma automatizada.",
            "detail": "In case of an emergency, a security flaw or datacenter failure, it's mandatory for you to be able to restore/create a new environment properly configured in a fully automated way",
            "documentation": [
                {
                    "title": "Schedule and perform DR tests regularly",
                    "url": "https://docs.microsoft.com/azure/cloud-adoption-framework/ready/enterprise-scale/business-continuity-and-disaster-recovery"
                }
            ],
            "guid": "36cb45e5-7960-4332-9bdf-8cc23318da61",
            "optionalFields": {
                "score": {
                    "ha": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Recuperación ante desastres",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Schedule and perform DR tests regularly (whitespace deplyment)",
            "waf": "Resiliencia"
        },
        {
            "category": "Bc_Dr",
            "description": "Un clúster de Azure Kubernetes Service (AKS) distribuye recursos como los nodos y el almacenamiento entre secciones lógicas de la infraestructura de proceso de Azure subyacente. Este modelo de implementación garantiza que los nodos se ejecuten en dominios de actualización y error independientes en un único centro de datos de Azure.",
            "documentation": [
                {
                    "title": "Create an AKS cluster across availability zones",
                    "url": "https://docs.microsoft.com/azure/aks/availability-zones"
                }
            ],
            "graph": "resources | where type=='microsoft.containerservice/managedclusters' | extend compliant= isnotnull(properties.agentPoolProfiles[0].availabilityZones) | distinct id,compliant",
            "guid": "578a219a-46be-4b54-9350-24922634292b",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant= isnotnull(zones) | distinct id,compliant",
                    "ha": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Alta disponibilidad",
            "tags": [
                null,
                null
            ],
            "title": "Use Availability Zones if supported in your Azure region",
            "waf": "Resiliencia"
        },
        {
            "category": "Bc_Dr",
            "description": "Al implementar varios clústeres de AKS, elija las regiones en las que AKS esté disponible y use regiones emparejadas.",
            "documentation": [
                {
                    "title": "Plan for multiregion deployment",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-multi-region#plan-for-multiregion-deployment"
                }
            ],
            "guid": "4e907690-4780-492f-9632-03bcc80b7a80",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Plan for multiregion deployment",
            "waf": "Resiliencia"
        },
        {
            "category": "Bc_Dr",
            "description": "Azure Traffic Manager puede dirigir a los clientes a su clúster de AKS e instancia de aplicación más cercanos. Para obtener el mejor rendimiento y redundancia, dirija todo el tráfico de la aplicación a través del Administrador de tráfico antes de que vaya al clúster de AKS.",
            "documentation": [
                {
                    "title": "Traffic Manager and AKS",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-multi-region#use-azure-traffic-manager-to-route-traffic"
                },
                {
                    "title": "Cross-region load balancer",
                    "url": "https://learn.microsoft.com/en-us/azure/load-balancer/cross-region-overview"
                }
            ],
            "guid": "170265f4-bb46-4a39-9af7-f317284797b1",
            "optionalFields": {
                "score": {
                    "ha": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Alta disponibilidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Azure Traffic Manager or Azure Front Door as a global load balancer for region failover",
            "waf": "Resiliencia"
        },
        {
            "category": "Bc_Dr",
            "description": "Es posible que las aplicaciones usen Azure Storage para sus datos. Dado que las aplicaciones se distribuyen en varios clústeres de AKS en diferentes regiones, debe mantener el almacenamiento sincronizado",
            "documentation": [
                {
                    "title": "Create a storage migration plan",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-multi-region#create-a-storage-migration-plan"
                },
                {
                    "title": "Backup, restore and migrate Kubernetes resources including state to another AKS cluster with Velero",
                    "url": "https://pumpingco.de/blog/backup-and-restore-a-kubernetes-cluster-with-state-using-velero/"
                }
            ],
            "guid": "8c6703c5-42e9-46ef-93f1-7f6232af25fc",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Create a storage migration plan",
            "waf": "Resiliencia"
        },
        {
            "category": "Bc_Dr",
            "description": "El nivel estándar (anteriormente SLA de tiempo de actividad) es una característica opcional para habilitar un SLA superior con respaldo financiero para un clúster. Le proporciona un SLA del 99,95 % en lugar del SLO del 99,5 % y es relevante para sus clústeres de producción (y grandes)",
            "detail": "Customers needing an SLA to meet compliance requirements or require extending an SLA to their end users should enable this feature. Customers with critical workloads that will benefit from a higher uptime SLA may also benefit. Using the Uptime SLA feature with Availability Zones enables a higher availability for the uptime of the Kubernetes API server.",
            "documentation": [
                {
                    "title": "Azure Kubernetes Service (AKS) Uptime SLA",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/free-standard-pricing-tiers"
                },
                {
                    "title": "Business continuity / disaster recovery to protect and recover AKS",
                    "url": "https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/scenarios/app-platform/aks/management#business-continuity--disaster-recovery-to-protect-and-recover-aks"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (sku.tier=='Paid') | distinct id,compliant",
            "guid": "71d41e36-10cc-457b-9a4b-1410d4395898",
            "optionalFields": {
                "score": {
                    "cost": -2,
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (sku.tier=='Paid') | distinct id,compliant",
                    "ha": 2
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Alta disponibilidad",
            "tags": [
                null,
                null
            ],
            "title": "Use the standard-tier AKS offering",
            "waf": "Resiliencia"
        },
        {
            "category": "Bc_Dr",
            "description": "Incluso si ejecuta varias copias de sus Pods, no hay garantías de que la pérdida de un nodo no elimine su servicio.",
            "detail": "Customers needing an SLA to meet compliance requirements or require extending an SLA to their end users should enable this feature. Customers with critical workloads that will benefit from a higher uptime SLA may also benefit. Using the Uptime SLA feature with Availability Zones enables a higher availability for the uptime of the Kubernetes API server.",
            "documentation": [
                {
                    "title": "Inter-pod affinity and anti-affinity",
                    "url": "https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity"
                }
            ],
            "guid": "1eea4888-8c2a-40b2-a40b-cacdc5f55497",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Avoid Pods being placed into a single node",
            "waf": "Resiliencia"
        },
        {
            "category": "Bc_Dr",
            "description": "Las empresas que desean una presencia local o una copia de seguridad en caliente, optan por ejecutar servicios desde varias regiones de Azure.",
            "detail": "As a best practice, placing a container registry in each region where images are run allows network-close operations, enabling fast, reliable image layer transfers. Geo-replication enables an Azure container registry to function as a single registry, serving multiple regions with multi-master regional registries.",
            "documentation": [
                {
                    "title": "Enable geo-replication for container images",
                    "url": "https://docs.microsoft.com/azure/container-registry/container-registry-geo-replication"
                }
            ],
            "guid": "b0803aed-1ca6-4330-816c-92677c6e9935",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "If using a private registry (ACR), configure region replication to store images in multiple regions",
            "waf": "Resiliencia"
        },
        {
            "category": "Bc_Dr",
            "description": "Use las zonas de disponibilidad de Azure para crear un registro de contenedor de Azure resistente y de alta disponibilidad dentro de una región de Azure.",
            "documentation": [
                {
                    "title": "Enable zone redundancy in Azure Container Registry for resiliency and high availability",
                    "url": "https://review.learn.microsoft.com/en-us/azure/container-registry/zone-redundancy"
                }
            ],
            "guid": "a4cefd60-f24f-4907-9723-b927300b4c42",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Configure your registry to use zone reduncancy",
            "waf": "Resiliencia"
        },
        {
            "category": "Bc_Dr",
            "description": "Dado que los registros de contenedor son recursos que se usan en varios hosts de contenedor, un registro debe residir en su propio grupo de recursos.",
            "detail": "Although you might experiment with a specific host type, such as Azure Container Instances, you’ll likely want to delete the container instance when you’re done. However, you might also want to keep the collection of images you pushed to Azure Container Registry. By placing your registry in its own resource group, you minimize the risk of accidentally deleting the collection of images in the registry when you delete the container instance resource group.",
            "documentation": [
                {
                    "title": "Registry best practices - Use dedicated resource group",
                    "url": "https://learn.microsoft.com/en-us/azure/container-registry/container-registry-best-practices#dedicated-resource-group"
                }
            ],
            "guid": "7b0bb400-deb6-4914-82da-2e914c9aaa72",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null
            ],
            "title": "Move Container Registry to a dedicated resource group ",
            "waf": "Resiliencia"
        },
        {
            "category": "Bc_Dr",
            "description": "Una vez habilitada la directiva de eliminación temporal, ACR administra los artefactos eliminados como artefactos eliminados temporalmente con un período de retención establecido. Por lo tanto, tiene la capacidad de enumerar, filtrar y restaurar los artefactos eliminados temporalmente. Una vez completado el período de retención, todos los artefactos eliminados temporalmente se purgan automáticamente.",
            "documentation": [
                {
                    "title": "Enable soft delete policy",
                    "url": "https://learn.microsoft.com/en-us/azure/container-registry/container-registry-soft-delete-policy"
                }
            ],
            "guid": "49919955-fd6c-40f5-9c5c-5a7273c7a935",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null
            ],
            "title": "Enable soft delete policy",
            "waf": "Resiliencia"
        },
        {
            "category": "Cluster_Multi",
            "description": "Utilice el aislamiento lógico para separar equipos y proyectos. Intente minimizar el número de clústeres físicos de AKS que implementa para aislar equipos o aplicaciones",
            "documentation": [
                {
                    "title": "Isolating cluster",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-cluster-isolation#logically-isolate-clusters"
                }
            ],
            "guid": "49be78dc-6ff0-4b2c-94ef-e74002e18866",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Logically isolate cluster"
        },
        {
            "category": "Cluster_Multi",
            "description": "Minimice el uso del aislamiento físico para cada equipo o implementación de aplicaciones por separado",
            "documentation": [
                {
                    "title": "Isolating cluster",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-cluster-isolation#physically-isolate-clusters"
                }
            ],
            "guid": "3b77c0ee-3f84-4a86-bb46-c6dc3070168c",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null
            ],
            "title": "Physically isolate cluster"
        },
        {
            "category": "Cluster_Multi",
            "description": "Con Azure Kubernetes Service (AKS), puede establecer etiquetas de Azure en un clúster de AKS y sus recursos relacionados mediante Azure Resource Manager, a través de la CLI de Azure.",
            "documentation": [
                {
                    "title": "Use Azure tags in Azure Kubernetes Service ",
                    "url": "https://learn.microsoft.com/en-us/Azure/aks/use-tags"
                },
                {
                    "title": "Use Azure tags in Azure Kubernetes Service (AKS)",
                    "url": "https://techcommunity.microsoft.com/t5/fasttrack-for-azure/use-azure-tags-in-azure-kubernetes-service-aks/ba-p/3611583"
                }
            ],
            "guid": "574bd2fe-f58b-4199-b334-f7eff3ef90c8",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Azure tags in Azure Kubernetes Service (AKS)"
        },
        {
            "category": "Cluster_Security",
            "description": "Mariner Container-Optimized OS es un sistema operativo propio desarrollado específicamente para Azure Kubernetes Service (AKS). Está diseñado para optimizar la ejecución de las cargas de trabajo de Kubernetes, ofreciendo un entorno seguro, ligero y de alto rendimiento. ",
            "documentation": [
                {
                    "title": "Use the Mariner container host on Azure Kubernetes Service",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/use-mariner"
                }
            ],
            "guid": "d34f49c0-e964-4465-9211-520479338b13",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Mariner COS as host OS",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Algunas industrias requieren kubernetes certificados o implementar configuraciones específicas. AKS ofrece varias características para cumplir estos requisitos",
            "documentation": [
                {
                    "title": "Use FIPS-enabled node pool",
                    "url": "https://docs.microsoft.com/azure/aks/use-multiple-node-pools#add-a-fips-enabled-node-pool"
                },
                {
                    "title": "AKS CIS benchmark",
                    "url": "https://docs.microsoft.com/compliance/regulatory/offering-CIS-Benchmark"
                },
                {
                    "title": "AKS architecture reference for PCI-DSS 3.2.1",
                    "url": "https://docs.microsoft.com/azure/architecture/reference-architectures/containers/aks-pci/aks-pci-intro"
                }
            ],
            "guid": "42d4aefe-2383-470e-b019-c30df24996b2",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Configure your cluster for regulated industries",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "A partir de la versión 1.19 de Kubernetes, AKS ya no permitirá la instalación del complemento del panel de Kubernetes administrado por motivos de seguridad y el complemento está programado para quedar en desuso. Asegúrese de que el panel de Kubernetes no esté instalado en el clúster.",
            "detail": "It can be done with the following CLI: az aks disable-addons --addons kube-dashboard --resource-group RG_NAME --name CLUSTER_NAME",
            "documentation": [],
            "guid": "aefbf509-a9e8-46cc-8ae9-80f07acffd7c",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Check if you need the Kubernetes dashboard",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "De forma predeterminada, ETCD se cifra en reposo con claves administradas por Microsoft. Es posible cifrar la base de datos con su propia clave mediante un complemento de KMS y almacenar la clave en Azure Key Vault.",
            "documentation": [
                {
                    "title": "Add KMS etcd encryption to an Azure Kubernetes Service (AKS) cluster",
                    "url": "https://docs.microsoft.com/azure/aks/use-kms-etcd-encryption"
                },
                {
                    "title": "Kubernetes KMS",
                    "url": "https://github.com/Azure/kubernetes-kms"
                }
            ],
            "guid": "e7ba73a3-0508-4f80-806f-527db30cee96",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Secretos",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Encrypt ETCD at rest with your own key",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Para mantenerse al día sobre las nuevas características y correcciones de errores, actualice periódicamente a la versión de Kubernetes en el clúster de AKS. La compatibilidad con Kubernetes solo es actual y solo en las versiones N-2",
            "documentation": [
                {
                    "title": "Regularly update to the latest version of Kubernetes",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-cluster-security#regularly-update-to-the-latest-version-of-kubernetes"
                },
                {
                    "title": "Use the auto-upgrade feature",
                    "url": "https://docs.microsoft.com/azure/aks/upgrade-cluster#set-auto-upgrade-channel"
                }
            ],
            "guid": "e189c599-df0d-45a7-9dd4-ce32c1881370",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Maintain kubernetes version up to date",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Ahora puede proteger sus clústeres de Kubernetes y cargas de trabajo de contenedores de posibles amenazas restringiendo la implementación de imágenes de contenedores con vulnerabilidades en sus componentes de software.",
            "guid": "1f95a465-c682-405b-84b4-966c3a619c12",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Policy blocking the deployment of vulnerable image",
            "tools": [
                {
                    "title": "Policy blocking the deployment of vulnerable images",
                    "url": "https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/BlockVulnerableImages.json"
                }
            ],
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Uso de Azure Key Vault para almacenar secretos y certificados",
            "documentation": [
                {
                    "title": "Tutorial: Configure and run the Azure Key Vault provider for the Secrets Store CSI driver on Kubernetes",
                    "url": "https://docs.microsoft.com/azure/key-vault/general/key-vault-integrate-kubernetes"
                }
            ],
            "guid": "fc1e68dd-ac89-4851-8e53-8fbac3461d26",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Azure Key Vault",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Security Center aporta ventajas de seguridad a los clústeres de AKS mediante el uso de datos ya recopilados por el nodo principal de AKS.",
            "documentation": [
                {
                    "title": "Azure Kubernetes Services integration with Security Center",
                    "url": "https://docs.microsoft.com/azure/security-center/azure-kubernetes-service-integration"
                }
            ],
            "guid": "23fda718-b80b-44c8-b2e4-d46580ab6651",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Monitor the security of your cluster with Azure Security Center",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Con el limpiador de imágenes, puede detectar y quitar automáticamente todas las imágenes vulnerables y no utilizadas almacenadas en caché en los nodos de AKS, manteniendo los nodos más limpios y seguros.",
            "detail": "It's common to use pipelines to build and deploy images on Azure Kubernetes Service (AKS) clusters. While great for image creation, this process often doesn't account for the stale images left behind and can lead to image bloat on cluster nodes. These images can present security issues as they may contain vulnerabilities. By cleaning these unreferenced images, you can remove an area of risk in your clusters. When done manually, this process can be time intensive, which ImageCleaner can mitigate via automatic image identification and removal.",
            "documentation": [
                {
                    "title": "Use ImageCleaner to clean up stale images on your AKS cluster",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/image-cleaner"
                }
            ],
            "guid": "ca62d835-69cc-476d-bd8e-ea8fa58fab9c",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Remove vulnerable images from your cluster",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Microsoft Defender para contenedores proporciona protecciones para los clústeres de Kubernetes dondequiera que se ejecuten (AKS y local)",
            "documentation": [
                {
                    "title": "Introduction to Microsoft Defender for Containers",
                    "url": "https://docs.microsoft.com/azure/defender-for-cloud/defender-for-containers-introduction"
                }
            ],
            "guid": "c9e95ffe-6dd1-4a17-8c5f-110389ca9b21",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Secretos",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Enable Microsoft Defender for Containers",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Azure Policy se integra con Azure Kubernetes Service (AKS) para aplicar medidas de seguridad y cumplimientos a gran escala en los clústeres de forma centralizada y coherente.",
            "documentation": [
                {
                    "title": "Azure Policies for AKS",
                    "url": "https://docs.microsoft.com/azure/governance/policy/concepts/rego-for-aks"
                },
                {
                    "title": "Azure Kubernetes Services Governance with Azure Policy",
                    "url": "https://learn.microsoft.com/training/modules/aks-governance-azure-policy"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.addonProfiles.azurepolicy) and properties.addonProfiles.azurepolicy.enabled==true) | distinct id,compliant",
            "guid": "9ca48e4a-85e2-4223-bce8-bb12307ca5f1",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.addonProfiles.azurepolicy) and properties.addonProfiles.azurepolicy.enabled==true) | distinct id,compliant",
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Use Azure Policy for Kubernetes to ensure cluster compliance",
            "tools": [
                {
                    "title": "Gatekeeper",
                    "url": "https://github.com/open-policy-agent/gatekeeper"
                }
            ],
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Administración de grupos de nodos del sistema en Azure Kubernetes Service (AKS) y agregue taint al grupo de nodos del sistema para que sea dedicado",
            "documentation": [
                {
                    "title": "AKS System Pools",
                    "url": "https://docs.microsoft.com/azure/aks/use-system-pools"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | project id,resourceGroup,name,pools=properties.agentPoolProfiles | project id,name,resourceGroup,poolcount=array_length(pools) | extend compliant = (poolcount > 1)",
            "guid": "6f158e3e-a3a9-42c2-be7e-2165c3a87af4",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "graph": "where type=='microsoft.containerservice/managedclusters' | project id,resourceGroup,name,pools=properties.agentPoolProfiles | project id,name,resourceGroup,poolcount=array_length(pools) | extend compliant = (poolcount > 1)",
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Separate applications from the control plane with user/system nodepools",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Es posible que desee actualizar o rotar las credenciales como parte de una política de seguridad definida.",
            "documentation": [
                {
                    "title": "Update or rotate the credentials for AKS",
                    "url": "https://docs.microsoft.com/azure/aks/update-credentials"
                }
            ],
            "guid": "b03dda6d-58d7-4c89-8ddb-107d5769ae66",
            "optionalFields": {
                "score": {
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Secretos",
            "tags": [
                null,
                null
            ],
            "title": "If user Service Principals for the cluster, refresh credentials periodically (like quarterly)",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Azure Container Registry permite compilar, almacenar y administrar imágenes y artefactos de contenedor en un registro privado",
            "documentation": [
                {
                    "title": "Azure Container Registry documentation",
                    "url": "https://docs.microsoft.com/azure/container-registry/"
                }
            ],
            "guid": "55b46a94-8008-4ae7-b7e4-b475b6c8bdbf",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Use a private registry for your images, such as ACR",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Microsoft Defender para contenedores es la solución nativa de la nube que se usa para proteger los contenedores ",
            "documentation": [
                {
                    "title": "Overview of Microsoft Defender for Containers",
                    "url": "https://docs.microsoft.com/azure/security-center/container-security"
                }
            ],
            "guid": "cc639637-a652-42ac-89e8-06965388e9de",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Use Azure Security Center to detect security posture vulnerabiities",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Los contenedores que se ejecutan dentro de un entorno de ejecución de confianza (TEE) brindan aislamiento de otros contenedores, el kernel del nodo en un entorno atestable protegido por hardware e integridad.",
            "documentation": [
                {
                    "title": "Application enclave support on AKS",
                    "url": "https://learn.microsoft.com/en-us/azure/confidential-computing/confidential-nodes-aks-overview"
                }
            ],
            "guid": "ec8e4e42-0344-41b0-b865-9123e8956d31",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Secretos",
            "tags": [
                null,
                null
            ],
            "title": "If required consider using Confidential Compute for AKS",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Planeación de clústeres multiinquilino y separación de recursos, y uso del aislamiento lógico o físico en los clústeres de AKS",
            "documentation": [
                {
                    "title": "Best practices for cluster isolation in AKS",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-cluster-isolation"
                }
            ],
            "guid": "d167dd18-2b0a-4c24-8b99-9a646f8389a7",
            "optionalFields": {
                "score": {
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Define app separation requirements (namespace/nodepool/cluster)",
            "waf": "Seguridad"
        },
        {
            "category": "Cluster_Security",
            "description": "Planeación de clústeres multiinquilino y separación de recursos, y uso del aislamiento lógico o físico en los clústeres de AKS",
            "documentation": [
                {
                    "title": "Add Azure Dedicated Host to an AKS cluster",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/use-azure-dedicated-hosts"
                }
            ],
            "guid": "5ae124ba-34df-4585-bcdc-e9bd3bb0cdb3",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Escalabilidad",
            "tags": [
                null,
                null
            ],
            "title": "If required consider using Azure Dedicated Hosts for AKS nodes",
            "waf": "Seguridad"
        },
        {
            "category": "Contenedor",
            "description": "Analice las imágenes de los contenedores para asegurarse de que no haya vulnerabilidades en ellos",
            "documentation": [
                {
                    "title": "Azure Security Center : scanning feature (Qualys)",
                    "url": "https://docs.microsoft.com/azure/security-center/azure-container-registry-integration"
                },
                {
                    "title": "Identify vulnerable container images in your CI/CD workflows",
                    "url": "https://docs.microsoft.com/azure/defender-for-cloud/defender-for-containers-cicd"
                }
            ],
            "guid": "59bce65d-e8a0-43f9-9879-468d66a786d6",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Scan the container image against vulnerabilities",
            "tools": [
                {
                    "title": "Prisma (ex Twistlock)",
                    "url": "https://www.twistlock.com/"
                },
                {
                    "title": "Anchore",
                    "url": "https://anchore.com/"
                },
                {
                    "title": "Clair",
                    "url": "https://github.com/quay/clair"
                }
            ],
            "waf": "Seguridad"
        },
        {
            "category": "Contenedor",
            "description": "Una de las políticas personalizadas más comunes que puede tener en cuenta es restringir las imágenes que se pueden implementar en el clúster. Pero también se puede abordar con un bloqueo de salida adecuado o mediante un controlador de admisión",
            "documentation": [
                {
                    "title": "Use the Azure Policy : Ensure only allowed container images in AKS",
                    "url": "https://docs.microsoft.com/azure/governance/policy/concepts/rego-for-aks#built-in-policies"
                },
                {
                    "title": "Using ImagePolicyWebhook",
                    "url": "https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#imagepolicywebhook"
                },
                {
                    "title": "Using egress lockdown and authorizing only the URL of your registry",
                    "url": "https://docs.microsoft.com/azure/aks/limit-egress-traffic"
                }
            ],
            "guid": "8dcb9d27-a601-48e6-aeb8-e0469aaf8921",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Allow deploying containers only from known registries"
        },
        {
            "category": "Contenedor",
            "description": "Integre Runtime Security para sus pods.  Para completar la estructura de defensa en profundidad, asegúrese de que la protección en tiempo de ejecución esté en su lugar para proteger contra ataques de procesos, redes, almacenamiento y llamadas al sistema.",
            "guid": "a71e024f-ac46-4d0e-86d8-fad9a86c99af",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Runtime Security of Applications",
            "tools": [
                {
                    "title": "Prisma Runtime defense",
                    "url": "https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin-compute/runtime_defense.html"
                },
                {
                    "title": "Falco",
                    "url": "https://falco.org"
                }
            ]
        },
        {
            "category": "Contenedor",
            "description": "Use la directiva para proteger las imágenes de desviaciones mientras están en el registro, tanto en la inserción como en la extracción.",
            "detail": "On build, the image is secured based on the threshold set, but now while in the registry a new issue is discovered.  You need to ensure that the image can not be deployed until the issue is remediated.",
            "documentation": [
                {
                    "title": "ACR Quarantine",
                    "url": "https://github.com/Azure/acr/tree/master/docs/preview/quarantine"
                }
            ],
            "guid": "c970cb26-a707-4bf2-9e40-5401fea3d55b",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Quarantine of Docker Images in Docker Registries that have discovered issues"
        },
        {
            "category": "Contenedor",
            "description": "El servicio Azure Container Registry admite un conjunto de roles integrados de Azure que proporcionan diferentes niveles de permisos a un Azure Container Registry. Use el control de acceso basado en rol (RBAC) de Azure para asignar permisos específicos a usuarios, entidades de servicio u otras identidades que necesiten interactuar con un registro.",
            "documentation": [
                {
                    "title": "Azure Container Registry roles and permissions",
                    "url": "https://docs.microsoft.com/azure/container-registry/container-registry-roles"
                }
            ],
            "guid": "3f703579-9f4a-43c4-8c40-5a9e78015379",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Role-Based Access Contol (RBAC) to Docker Registries"
        },
        {
            "category": "Contenedor",
            "description": "Limite el acceso a un registro mediante la asignación de direcciones IP privadas de red virtual a los puntos de conexión del registro y el uso de Azure Private Link. El tráfico de red entre los clientes de la red virtual y los puntos de conexión privados del registro atraviesa la red virtual y un vínculo privado en la red troncal de Microsoft, lo que elimina la exposición de la red pública de Internet. Private Link también habilita el acceso al registro privado desde el entorno local a través del emparejamiento privado de Azure ExpressRoute o una puerta de enlace de VPN.",
            "documentation": [
                {
                    "title": "Azure Container Registry Private Link",
                    "url": "https://docs.microsoft.com/azure/container-registry/container-registry-private-link"
                }
            ],
            "guid": "6ae51d09-8142-4979-95ed-7ec3451de81c",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Network Segmentation of Docker Registries"
        },
        {
            "category": "Contenedor",
            "description": "Al crear una imagen de Docker, intente usar la versión sin distribución de la imagen base del sistema operativo, para reducir el riesgo de vulnerabilidades con herramientas preinstaladas pero no utilizadas. Por ejemplo, use base-debian10 en lugar de debian10",
            "detail": "'Distroless' images are bare-bones versions of common base images. They have the bare-minimum needed to execute a binary.The shell and other developer utilities have been removed so that if/when an attacker gains control of your container, they can't do much of anything",
            "documentation": [
                {
                    "title": "Google distroless images",
                    "url": "https://github.com/GoogleContainerTools/distroless"
                }
            ],
            "guid": "f57ba3a5-93ae-435f-9468-80ccd6a841b9",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Prefer distroless images"
        },
        {
            "category": "Contenedor",
            "description": "A medida que utilice imágenes base para imágenes de aplicaciones, utilice la automatización para crear nuevas imágenes cuando se actualice la imagen base. Dado que esas imágenes base suelen incluir correcciones de seguridad, actualice las imágenes de contenedor de la aplicación de nivel inferior.",
            "documentation": [
                {
                    "title": "Automatically build new images on base image update",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-container-image-management#automatically-build-new-images-on-base-image-update"
                },
                {
                    "title": "Azure DevOps - Trigger pipeline from Docker image update",
                    "url": "https://dev.to/larryclaman/trigger-azure-devops-build-pipeline-from-docker-image-update-5d3i"
                }
            ],
            "guid": "22882284-a9c2-4e16-b3e3-2d4947cc24b8",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Refresh container when base image is updated"
        },
        {
            "category": "Identidad",
            "description": "Azure Kubernetes Service (AKS) se puede configurar para usar Azure Active Directory (Azure AD) para la autenticación de usuarios. En esta configuración, puede iniciar sesión en un clúster de AKS mediante el token de autenticación de Azure AD.",
            "documentation": [
                {
                    "title": "AKS-managed Azure Active Directory integration",
                    "url": "https://docs.microsoft.com/azure/aks/managed-aad"
                },
                {
                    "title": "Disable local accounts",
                    "url": "https://docs.microsoft.com/azure/aks/managed-aad#disable-local-accounts"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = isnotnull(properties.aadProfile) | distinct id,compliant",
            "guid": "7e42c78e-78c0-46a6-8a21-94956e698dc4",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = isnotnull(properties.aadProfile) | distinct id,compliant",
                    "simple": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "severity": "Medio",
            "subcategory": "Identidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Integrate authentication with AAD (using the managed integration)",
            "waf": "Seguridad"
        },
        {
            "category": "Identidad",
            "description": "Controle el acceso a los recursos del clúster mediante el control de acceso basado en roles de Kubernetes y las identidades de Azure Active Directory en Azure Kubernetes Service",
            "documentation": [
                {
                    "title": "Limit cluster access via K8S RBAC for users & workloads",
                    "url": "https://docs.microsoft.com/azure/aks/azure-ad-rbac"
                }
            ],
            "guid": "eec4962c-c3bd-421b-b77f-26e5e6b3bec3",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Identidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Integrate authorization with AAD RBAC",
            "waf": "Seguridad"
        },
        {
            "category": "Identidad",
            "description": "AKS puede autenticarse en ACR sin usar ninguna contraseña, sino mediante la entidad de servicio o la identidad administrada.",
            "detail": "For AKS to download/pull images from Azure Container Registry (ACR), it needs the ACR credentials including the password. To avoid saving the password in the cluster, you can simply activate the ACR integration on new or existing AKS cluster using SPN or Managed Identity",
            "documentation": [
                {
                    "title": "Authenticate with Azure Container Registry from AKS",
                    "url": "https://docs.microsoft.com/azure/aks/cluster-container-registry-integration"
                }
            ],
            "guid": "100f8f70-3ec6-44bb-ab07-95eef965e80d",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use AKS and ACR integration without password",
            "waf": "Seguridad"
        },
        {
            "category": "Identidad",
            "description": "Cada clúster de AKS necesita una identidad administrada o una entidad de servicio.  Se recomienda usar la identidad administrada en AKS",
            "documentation": [
                {
                    "title": "Use managed identities in Azure Kubernetes Service",
                    "url": "https://docs.microsoft.com/azure/aks/use-managed-identity"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.servicePrincipalProfile.clientId=='msi') | distinct id,compliant",
            "guid": "ed127dd1-42b0-46b2-8c69-99a646f3389a",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.servicePrincipalProfile.clientId=='msi') | distinct id,compliant",
                    "simple": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Identidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use managed identities instead of Service Principals",
            "waf": "Seguridad"
        },
        {
            "category": "Identidad",
            "description": "Para limitar quién puede obtener esa información de configuración de Kubernetes (kubeconfig) y limitar los permisos que tienen, puede usar el control de acceso basado en rol de Azure (Azure RBAC).",
            "documentation": [
                {
                    "title": "Use Azure RBAC to define access to the Kubernetes configuration file",
                    "url": "https://docs.microsoft.com/azure/aks/control-kubeconfig-access"
                }
            ],
            "guid": "a2fe27b2-e287-401a-8352-beedf79b488d",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Identidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Limit access to admin kubeconfig (get-credentials --admin)",
            "waf": "Seguridad"
        },
        {
            "category": "Identidad",
            "description": " Puede usar kubelogin para acceder al clúster con el inicio de sesión de entidad de servicio no interactivo.",
            "documentation": [
                {
                    "title": "Non-interactive sign in with kubelogin",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/managed-aad#non-interactive-sign-in-with-kubelogin"
                }
            ],
            "guid": "f4dcf690-1b30-407d-abab-6f8aa780d3a3",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Identidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "For AKS non-interactive logins use kubelogin",
            "waf": "Seguridad"
        },
        {
            "category": "Identidad",
            "description": "AKS ofrece a los usuarios la capacidad de deshabilitar cuentas locales a través de una marca, disable-local-accounts",
            "documentation": [
                {
                    "title": "Disable local accounts",
                    "url": "https://learn.microsoft.com/azure/aks/managed-aad#disable-local-accounts"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.disableLocalAccounts==true) | distinct id,compliant",
            "guid": "b085b1f2-3119-4771-8c9a-bbf4411810ec",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Identidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Disable AKS local accounts",
            "waf": "Seguridad"
        },
        {
            "category": "Identidad",
            "description": "AKS ofrece a los usuarios la capacidad de habilitar el acceso durante un tiempo limitado",
            "documentation": [
                {
                    "title": "Configure just-in-time cluster access with Azure AD and AKS",
                    "url": "https://learn.microsoft.com/azure/aks/managed-aad#configure-just-in-time-cluster-access-with-azure-ad-and-aks"
                }
            ],
            "guid": "36abb0db-c118-4f4c-9880-3f30f9a2deb6",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Identidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Configure if required Just-in-time cluster access",
            "waf": "Seguridad"
        },
        {
            "category": "Identidad",
            "description": "Una identidad de Kubelet permite el acceso concedido a la identidad existente antes de la creación del clúster.",
            "documentation": [
                {
                    "title": "Use a pre-created kubelet managed identity",
                    "url": "https://learn.microsoft.com/azure/aks/use-managed-identity#use-a-pre-created-kubelet-managed-identity"
                }
            ],
            "guid": "1f711a74-3672-470b-b8b8-a2148d640d79",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Identidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "For finer control consider using a managed Kubelet Identity",
            "waf": "Seguridad"
        },
        {
            "category": "Identidad",
            "description": "Al integrar Azure AD con el clúster de AKS, también puede usar el acceso condicional para controlar el acceso al clúster.",
            "documentation": [
                {
                    "title": "Use Conditional Access with Azure AD and AKS",
                    "url": "https://learn.microsoft.com/azure/aks/managed-aad#use-conditional-access-with-azure-ad-and-aks"
                }
            ],
            "guid": "c4d7f4c6-79bf-45d0-aa05-ce8fc717e150",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Identidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Configure if required AAD conditional access for AKS",
            "waf": "Seguridad"
        },
        {
            "category": "Gestión de redes",
            "description": "Para la integración con redes virtuales existentes o redes locales, use las redes de Azure CNI en AKS. Este modelo de red también permite una mayor separación de recursos y controles en un entorno empresarial, pero tenga en cuenta el impacto en la topología de la red/rangos IP. Ahora puede utilizar el modelo de superposición CNI, que proporciona más control y aprovecha las ventajas de ambos enfoques.",
            "detail": "While Kubenet is the default Kubernetes network plugin, the Container Networking Interface (CNI) is a vendor-neutral protocol that lets the container runtime make requests to a network provider. The Azure CNI assigns IP addresses to pods and nodes, and provides IP address management (IPAM) features as you connect to existing Azure virtual networks. Each node and pod resource receives an IP address in the Azure virtual network, and no additional routing is needed to communicate with other resources or services.",
            "documentation": [
                {
                    "title": "Kubenet vs CNI",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-network#choose-the-appropriate-network-model"
                },
                {
                    "title": "Dynamic IP allocation",
                    "url": "https://docs.microsoft.com/azure/aks/configure-azure-cni#dynamic-allocation-of-ips-and-enhanced-subnet-support"
                },
                {
                    "title": "Azure CNI Overlay",
                    "url": "https://learn.microsoft.com/azure/aks/azure-cni-overlay"
                },
                {
                    "title": "Bring your own CNI",
                    "url": "https://docs.microsoft.com/azure/aks/use-byo-cni"
                },
                {
                    "title": "Add a node pool with a unique subnet",
                    "url": "https://docs.microsoft.com/azure/aks/use-multiple-node-pools#add-a-node-pool-with-a-unique-subnet"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.networkProfile.networkPlugin=='azure') | distinct id,compliant",
            "guid": "a0f61565-9de5-458f-a372-49c831112dbd",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.networkProfile.networkPlugin=='azure') | distinct id,compliant",
                    "simple": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "IPAM",
            "tags": [
                null,
                null
            ],
            "title": "Choose the best CNI network plugin for your requirements (Azure CNI recommended)",
            "waf": "Fiabilidad"
        },
        {
            "category": "Gestión de redes",
            "description": "El tamaño de la red virtual y su subred deben acomodar el número de pods que planea ejecutar y el número de nodos del clúster.",
            "detail": "As an example, using CNI, you need one IP for each node + one spare for a new node in case of cluster upgrade, and you need an IP for each pod which can represent hundred of IP addresses",
            "documentation": [
                {
                    "title": "Plan IP addressing for your cluster",
                    "url": "https://docs.microsoft.com/azure/aks/configure-azure-cni#plan-ip-addressing-for-your-cluster"
                }
            ],
            "guid": "7faf12e7-0943-4f63-8472-2da29c2b1cd6",
            "optionalFields": {
                "score": {
                    "scale": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "IPAM",
            "tags": [
                null,
                null
            ],
            "title": "If using Azure CNI, size your subnet accordingly considering the maximum number of pods per node",
            "waf": "Rendimiento"
        },
        {
            "category": "Gestión de redes",
            "description": "Para distribuir el tráfico HTTP o HTTPS a las aplicaciones, use los recursos de entrada y los controladores. Los controladores de entrada proporcionan características adicionales a través de un equilibrador de carga de Azure normal y se pueden administrar como recursos nativos de Kubernetes.",
            "documentation": [
                {
                    "title": "Application routing add-on for Azure Kubernetes Service (AKS)",
                    "url": "https://aka.ms/aks/docs/app-routing"
                },
                {
                    "title": "Distribute ingress traffic",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-network#distribute-ingress-traffic"
                },
                {
                    "title": "Network concepts: Ingress controllers",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/concepts-network#ingress-controllers"
                }
            ],
            "guid": "b3808b9f-a1cf-4204-ad01-3a923ce474db",
            "optionalFields": {
                "score": {
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Escalabilidad",
            "tags": [
                null,
                null
            ],
            "title": "Use an ingress controller to expose web-based apps instead of exposing them with LoadBalancer-type services",
            "waf": "Fiabilidad"
        },
        {
            "category": "Gestión de redes",
            "description": "Si planea hospedar aplicaciones expuestas, para examinar el tráfico entrante en busca de posibles ataques, use un firewall de aplicaciones web (WAF) como Barracuda WAF para Azure o Azure Application Gateway. Estos recursos de red más avanzados también pueden enrutar el tráfico más allá de las conexiones HTTP y HTTPS o la terminación SSL básica.",
            "documentation": [
                {
                    "title": "Secure traffic with a web application firewall (WAF)",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-network#secure-traffic-with-a-web-application-firewall-waf"
                }
            ],
            "guid": "a3a92c2d-e7e2-4165-a3a8-7af4a7a1f893",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "security": 2,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Seguridad",
            "tags": [
                null,
                null
            ],
            "title": "Secure your exposed applications with a web application firewall (WAF)",
            "waf": "Seguridad"
        },
        {
            "category": "Gestión de redes",
            "description": "Cuando un usuario crea un manifiesto de entrada, puede usar cualquier nombre de host en él. Es posible que desee controlar qué nombres de host se pueden usar, como los nombres de host de su empresa.",
            "documentation": [
                {
                    "title": "Tutorial: only allow approved domain names as ingress hostnames",
                    "url": "https://www.openpolicyagent.org/docs/latest/kubernetes-tutorial/#4-define-a-policy-and-load-it-into-opa-via-kubernetes"
                }
            ],
            "guid": "e5684a8b-f072-43d2-83b2-234ad48f57c7",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Apply control on ingress hostnames"
        },
        {
            "category": "Gestión de redes",
            "description": "Casi no hay ninguna razón para exponer directamente el punto de entrada de entrada a Internet, pero de forma predeterminada, AKS crea uno público. Dígale que cree uno interno solamente.",
            "documentation": [
                {
                    "title": "Create an ingress controller to an internal virtual network",
                    "url": "https://docs.microsoft.com/azure/aks/ingress-internal-ip"
                }
            ],
            "guid": "c0179fd4-470b-43c8-b7bb-80307051bc96",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Don't expose your load-balancer on Internet if not necessary"
        },
        {
            "category": "Gestión de redes",
            "description": "Utilice las políticas de red para permitir o denegar el tráfico a los pods. De forma predeterminada, se permite todo el tráfico entre pods dentro de un clúster. Para mejorar la seguridad, defina reglas que limiten la comunicación de los pods.",
            "detail": "Network policy is a Kubernetes feature that lets you control the traffic flow between pods. You can choose to allow or deny traffic based on settings such as assigned labels, namespace, or traffic port. The use of network policies gives a cloud-native way to control the flow of traffic. As pods are dynamically created in an AKS cluster, the required network policies can be automatically applied. Don't use Azure network security groups to control pod-to-pod traffic, use network policies.",
            "documentation": [
                {
                    "title": "Enable a Kubernetes Network Policy option (Calico/Azure)",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-network#control-traffic-flow-with-network-policies"
                },
                {
                    "title": "Secure traffic between pods using network policies",
                    "url": "https://docs.microsoft.com/azure/aks/use-network-policies"
                }
            ],
            "guid": "0751f099-e6f4-4250-b405-d2b26c707432",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = isnotnull(properties.networkProfile.networkPolicy) | distinct id,compliant",
                    "security": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "severity": "Alto",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Control traffic flow with network policies",
            "tools": [
                {
                    "title": "Calico",
                    "url": "https://docs.projectcalico.org/reference/resources/networkpolicy"
                },
                {
                    "title": "Cillium",
                    "url": "https://cilium.io/"
                }
            ]
        },
        {
            "category": "Gestión de redes",
            "description": "Comience por crear una política de denegación de todo en cada espacio de nombres y, a continuación, agregue políticas específicas.",
            "documentation": [
                {
                    "title": "Recipes of best default network policies",
                    "url": "https://github.com/ahmetb/kubernetes-network-policy-recipes"
                },
                {
                    "title": "Callico global network policy",
                    "url": "https://projectcalico.docs.tigera.io/reference/resources/globalnetworkpolicy"
                }
            ],
            "guid": "0bc4e0c6-97fd-411a-9eb4-1a1f85f9cdf0",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Configure default network policies in each namespace"
        },
        {
            "category": "Gestión de redes",
            "description": "Use Azure Firewall para proteger y controlar todo el tráfico de salida que sale del clúster.",
            "documentation": [
                {
                    "title": "Egress traffic requirements",
                    "url": "https://docs.microsoft.com/azure/aks/limit-egress-traffic"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.networkProfile.outboundType=='userDefinedRouting') | distinct id,compliant",
            "guid": "3b365a91-7ecb-4e48-bbe5-4cd7df2e8bba",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.networkProfile.outboundType=='userDefinedRouting') | distinct id,compliant",
                    "security": 2,
                    "simple": -2
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "severity": "Alto",
            "subcategory": "Seguridad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Filter egress traffic with AzFW/NVA if your security requirements mandate it (egress lockdown)",
            "waf": "Seguridad"
        },
        {
            "category": "Gestión de redes",
            "description": "Cuando sea posible, use un enlace privado para permitir que la red privada solo llegue a su registro.",
            "documentation": [
                {
                    "title": "Azure Container Registry Private Link",
                    "url": "https://docs.microsoft.com/azure/container-registry/container-registry-private-link"
                }
            ],
            "guid": "e38f1680-8ddc-4c93-bf09-6b932a4935ca",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Don't expose your container registry on Internet"
        },
        {
            "category": "Gestión de redes",
            "description": "De forma predeterminada, los pods tienen acceso a VMSS IMDS y pueden solicitar un token de acceso de la identidad administrada adjunta. Este acceso debe restringirse mediante la directiva de red.",
            "documentation": [
                {
                    "title": "Pods requesting access to get a token",
                    "url": "https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/how-to-use-vm-token#get-a-token-using-curl"
                }
            ],
            "guid": "4fb072a7-0303-46d8-9ecf-d8aa4d69ff83",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Block Pod access to VMSS IMDS"
        },
        {
            "category": "Gestión de redes",
            "description": "En un clúster privado, el plano de control o el servidor de API tiene direcciones IP internas y no está expuesto a Internet",
            "detail": "By using a private cluster, you can ensure that network traffic between your API server and your node pools remains on the private network only. Because the API server has a private address, it means that to access it for administration or for deployment, you need to set up private connection, like using a 'jumpbox' (i.e.: Azure Bastion)",
            "documentation": [
                {
                    "title": "Create a private cluster (using private link)",
                    "url": "https://docs.microsoft.com/azure/aks/private-clusters"
                },
                {
                    "title": "Create an Azure Kubernetes Service cluster with API Server VNet Integration (preview)",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/api-server-vnet-integration"
                },
                {
                    "title": "Use azure CLI to run command on a private cluster",
                    "url": "https://docs.microsoft.com/azure/aks/private-clusters#options-for-connecting-to-the-private-cluster"
                },
                {
                    "title": "Use public DNS with a private cluster",
                    "url": "https://docs.microsoft.com/azure/aks/private-clusters#create-a-private-aks-cluster-with-a-public-dns-address"
                }
            ],
            "guid": "29fb411c-20a8-4c39-84df-aaa4227eaeb2",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use private clusters if your requirements mandate it"
        },
        {
            "category": "Gestión de redes",
            "description": "Azure Traffic Manager puede dirigir a los clientes a su clúster de AKS e instancia de aplicación más cercanos. Para obtener el mejor rendimiento y redundancia, dirija todo el tráfico de la aplicación a través del Administrador de tráfico antes de que vaya al clúster de AKS.",
            "detail": "If you have multiple AKS clusters in different regions, use Traffic Manager to control how traffic flows to the applications that run in each cluster. Azure Traffic Manager is a DNS-based traffic load balancer that can distribute network traffic across regions. Use Traffic Manager to route users based on cluster response time or based on geography. It can be used to improve app availability with automatic failover",
            "documentation": [
                {
                    "title": "Use Azure Traffic Manager to route traffic",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-multi-region#use-azure-traffic-manager-to-route-traffic"
                }
            ],
            "guid": "5d0bb60d-b8e0-4031-9c5b-1f0a735f771f",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Enable traffic management"
        },
        {
            "category": "Gestión de redes",
            "description": "Con Azure Container Networking Interface (CNI), cada pod obtiene una dirección IP de la subred y se puede acceder a él directamente.",
            "detail": "These IP addresses must be unique across your network space, and must be planned in advance. Each node has a configuration parameter for the maximum number of pods that it supports. ",
            "documentation": [
                {
                    "title": "Configure Azure CNI networking on AKS",
                    "url": "https://docs.microsoft.com/azure/aks/configure-azure-cni"
                }
            ],
            "guid": "22f54b29-bade-43aa-b1e8-c38ec9366673",
            "optionalFields": {
                "score": {
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "IPAM",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If using Azure CNI, check the maximum pods/node (default 30)",
            "waf": "Rendimiento"
        },
        {
            "category": "Gestión de redes",
            "description": "Para mejorar la seguridad de los clústeres y minimizar el riesgo de ataques, se recomienda limitar los intervalos de direcciones IP que pueden acceder al servidor de API.",
            "documentation": [
                {
                    "title": "Secure access to the API server using authorized IP address ranges",
                    "url": "https://docs.microsoft.com/azure/aks/api-server-authorized-ip-ranges"
                }
            ],
            "guid": "d783a3e8-264f-4dac-870f-569791d1837e",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If using a public API endpoint, restrict the IP addresses that can access it"
        },
        {
            "category": "Gestión de redes",
            "description": "Aunque los clientes de AKS pueden enrutar el tráfico de salida a través de Azure Load Balancer, existen limitaciones en la cantidad de flujos de tráfico de salida posibles.",
            "documentation": [
                {
                    "title": "Managed NAT Gateway",
                    "url": "https://learn.microsoft.com/azure/aks/nat-gateway"
                }
            ],
            "guid": "ccb534e7-416e-4a1d-8e93-533b53199085",
            "optionalFields": {
                "score": {
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Escalabilidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Azue NAT Gateway as outboundType for scaling egress traffic",
            "waf": "Fiabilidad"
        },
        {
            "category": "Gestión de redes",
            "description": "Un inconveniente con el CNI tradicional es el agotamiento de las direcciones IP de los pods a medida que crece el clúster de AKS, lo que resulta en la necesidad de reconstruir todo el clúster en una subred más grande.",
            "detail": "The new dynamic IP allocation capability in Azure CNI solves this problem by allocating pod IPs from a subnet separate from the subnet hosting the AKS cluster.",
            "documentation": [
                {
                    "title": "Dynamic allocation of IPs and enhanced subnet support",
                    "url": "https://learn.microsoft.com/azure/aks/configure-azure-cni#dynamic-allocation-of-ips-and-enhanced-subnet-support"
                }
            ],
            "guid": "8ee9a69a-1b58-4b1e-9c61-476e110a160b",
            "optionalFields": {
                "score": {
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Escalabilidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Dynamic allocations of IPs in order to avoid Azure CNI IP exhaustion",
            "waf": "Fiabilidad"
        },
        {
            "category": "Gestión de redes",
            "description": "El controlador de entrada de App Gateway (AGIC) es un pod dentro del clúster de Kubernetes. AGIC supervisa los recursos de entrada de Kubernetes y crea y aplica la configuración de App Gateway en función de ellos.",
            "documentation": [
                {
                    "title": "Application gateway ingress controller",
                    "url": "https://azure.github.io/application-gateway-kubernetes-ingress/setup/install-existing/"
                }
            ],
            "guid": "cbd8ac2a-aebc-4a2a-94da-1dbf3dc99248",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Prácticas recomendadas",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "If using AGIC, do not share an AppGW across clusters",
            "waf": "Fiabilidad"
        },
        {
            "category": "Gestión de redes",
            "description": "Esto ayudará a mantener la seguridad del clúster al limitar el acceso desde fuera de la red virtual a los servicios PaaS de Azure",
            "documentation": [
                {
                    "title": "What is Azure Private Link?",
                    "url": "https://docs.microsoft.com/azure/private-link/private-link-overview"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | where isnotnull(properties.apiServerAccessProfile.enablePrivateCluster) | extend compliant = (properties.apiServerAccessProfile.enablePrivateCluster==true) | distinct id, compliant",
            "guid": "ecccd979-3b6b-4cda-9b50-eb2eb03dda6d",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | where isnotnull(properties.apiServerAccessProfile.enablePrivateCluster) | extend compliant = (properties.apiServerAccessProfile.enablePrivateCluster==true) | distinct id, compliant",
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Seguridad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Private Endpoints (preferred) or Virtual Network Service Endpoints to access PaaS services from the cluster",
            "waf": "Seguridad"
        },
        {
            "category": "Gestión de redes",
            "description": "Una malla de servicios proporciona capacidades como la administración del tráfico, la resistencia, las políticas, la seguridad, la identidad sólida y la observabilidad de las cargas de trabajo.",
            "documentation": [
                {
                    "title": "About service meshes",
                    "url": "https://learn.microsoft.com/azure/aks/servicemesh-about"
                }
            ],
            "guid": "e9855d04-c3c3-49c9-a6bb-2c12159a114b",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -2
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Seguridad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Consider using a service mesh for advanced microservice communication management",
            "waf": "Seguridad"
        },
        {
            "category": "Gestión de redes",
            "description": "Una malla de servicios proporciona capacidades como la administración del tráfico, la resistencia, las políticas, la seguridad, la identidad sólida y la observabilidad de las cargas de trabajo.",
            "documentation": [
                {
                    "title": "Bring your own Container Network Interface (CNI) plugin for AKS",
                    "url": "https://learn.microsoft.com/azure/aks/servicemesh-about"
                }
            ],
            "guid": "57bf217f-6dc8-481c-81e2-785773e9c00f",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -2
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Operaciones",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "If required add your own CNI plugin",
            "waf": "Seguridad"
        },
        {
            "category": "Gestión de redes",
            "description": "Esto puede abordar requisitos como tener un espacio de direcciones de red virtual no contiguo para dividirlo en grupos de nodos y otras razones de seguridad.",
            "documentation": [
                {
                    "title": "Add a node pool with a unique subnet",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/use-multiple-node-pools#add-a-node-pool-with-a-unique-subnet"
                }
            ],
            "guid": "22fbe8d6-9b40-47ef-9011-25bb1a555a6b",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -2
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Prácticas recomendadas",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If using Azure CNI, consider using different Subnets for NodePools",
            "waf": "Seguridad"
        },
        {
            "category": "Gestión de redes",
            "description": "El CIDR de servicio no debe superponerse con el CIDR de pod o el CIDR de subred, ni siquiera con el CIDR de red virtual emparejado. Si no se configura correctamente, el clúster podría tener un comportamiento extraño.",
            "documentation": [
                {
                    "title": "Pod CIDR, Service CIDR and Subnet CIDR",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/configure-azure-cni#plan-ip-addressing-for-your-cluster"
                },
                {
                    "title": "Use the right CIDR ranges for networking parameters",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/configure-azure-cni#deployment-parameters"
                }
            ],
            "guid": "22fbe8d6-9b40-47ef-9011-25bb1a555a6c",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -2
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Verify non overlapping CIDR ranges for Service-CIDR and Pod-CIDR or Subnet-CIDR"
        },
        {
            "category": "Operaciones",
            "description": "AKS admite la actualización de las imágenes de un nodo para que esté al día con las actualizaciones más recientes del sistema operativo y del entorno de ejecución. AKS proporciona una nueva imagen por semana con las actualizaciones más recientes, por lo que es beneficioso actualizar las imágenes del nodo con regularidad para las características más recientes, incluidas las revisiones de Linux o Windows",
            "detail": "Using automation and this method will ensure that all your nodes are consistently up to date with last features/fixes/patchs, without having to upgrade the kubernetes version. An alternative could be to use Kured to reboot nodes with pending reboots but it will only patch the Operating System, not the AKS layer",
            "documentation": [
                {
                    "title": "Azure Kubernetes Service (AKS) node image upgrades",
                    "url": "https://docs.microsoft.com/azure/aks/node-image-upgrade"
                },
                {
                    "title": "Process Linux node updates and reboots using Kured (not recommended because it can behave incorrectly in some cluster configurations like autoscaling)",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-cluster-security#process-linux-node-updates-and-reboots-using-kured"
                },
                {
                    "title": "Use Event Grid to know when an upgrade is available",
                    "url": "https://docs.microsoft.com/azure/aks/quickstart-event-grid"
                }
            ],
            "guid": "945889a8-a9e9-4059-b1aa-0a0df2b8a82c",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Have a regular process to upgrade the cluster node images periodically (weekly, for example), or use the AKS autoupgrade feature",
            "tools": [
                {
                    "title": "Kured (KUbernetes REboot Daemon)",
                    "url": "https://github.com/weaveworks/kured"
                }
            ],
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Al implementar la aplicación en Azure, la propagación de instancias de máquina virtual (VM) entre regiones o zonas de disponibilidad crea latencia de red, lo que puede afectar al rendimiento general de la aplicación. Un grupo de selección de ubicación por proximidad es una agrupación lógica que se usa para asegurarse de que los recursos de proceso de Azure se encuentran físicamente cerca unos de otros",
            "detail": "Be careful, by using PPG on a nodepool, you reduce the average SLA of your application since they don't rely on availability zones anymore",
            "documentation": [
                {
                    "title": "Reduce latency with proximity placement groups",
                    "url": "https://docs.microsoft.com/azure/aks/reduce-latency-ppg"
                }
            ],
            "guid": "17bd8ae4-8ee7-472d-bca5-c7e3cc9b6d82",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Use placement proximity group to improve performance",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Las extensiones de clúster proporcionan una experiencia controlada por Azure Resource Manager para la instalación y la administración del ciclo de vida de servicios como Azure Machine Learning (ML) en un clúster de AKS. ",
            "detail": "This feature enables:Azure Resource Manager-based deployment of extensions, including at-scale deployments across AKS clusters but also lifecycle management of the extension (Update, Delete) from Azure Resource Manager.",
            "documentation": [
                {
                    "title": "Customize node configuration for Azure Kubernetes Service (AKS) node pools",
                    "url": "https://docs.microsoft.com/en-gb/azure/aks/cluster-extensions"
                }
            ],
            "guid": "4cd9bd7a-fe6f-427b-b5dd-9ab2f50aa663",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.austoscalerProfile)) | distinct id,compliant",
                    "ha": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Customize your clusters with extensions",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Al crear un nuevo clúster de AKS, el grupo de recursos MC_ se crea de forma predeterminada. Puede personalizar el nombre del grupo de recursos MC_.",
            "documentation": [
                {
                    "title": "Custom resource group name",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/cluster-configuration#custom-resource-group-name"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.nodeResourceGroup !startswith 'MC_') | distinct id,compliant",
            "guid": "73b32a5a-67f7-4a9e-b5b3-1f38c3f39812",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (properties.nodeResourceGroup !startswith 'MC_') | distinct id,compliant",
                    "simple": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Customize the name of the MC_ resource group",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "No exponga la conectividad remota a los nodos de AKS. Cree un host bastión, o jump box, en una red virtual de administración. Use el host bastión para enrutar de forma segura el tráfico al clúster de AKS a las tareas de administración remota.",
            "documentation": [
                {
                    "title": "Securely connect to nodes through a bastion host",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-network#securely-connect-to-nodes-through-a-bastion-host"
                }
            ],
            "guid": "28538587-2c1f-4390-b571-384649732c16",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Securely connect to nodes through a bastion host",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Ejecute periódicamente la última versión de la herramienta de código abierto de análisis de clústeres para detectar problemas en el clúster. Por ejemplo, si aplica cuotas de recursos en un clúster de AKS existente, ejecute kubestriker primero para buscar pods que no tengan solicitudes de recursos ni límites definidos.",
            "guid": "4dd8b544-5b8b-443d-8e76-cea80d9dec30",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Regularly check for cluster issues ",
            "tools": [
                {
                    "title": "AKS Periscope",
                    "url": "https://github.com/Azure/aks-periscope"
                },
                {
                    "title": "kubestriker",
                    "url": "https://www.kubestriker.io/"
                },
                {
                    "title": "kubebench",
                    "url": "https://github.com/aquasecurity/kube-bench"
                }
            ],
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Asegúrese de estar siempre al tanto de lo que sucede en el clúster. Supervise el estado del clúster (nodos, servidor) pero también de los pods",
            "documentation": [
                {
                    "title": "Azure Monitor for AKS",
                    "url": "https://docs.microsoft.com/azure/azure-monitor/insights/container-insights-analyze"
                },
                {
                    "title": "Azure Managed Grafana",
                    "url": "https://azure.microsoft.com/services/managed-grafana/"
                }
            ],
            "guid": "90640e42-ce36-4c2a-b20a-bee9c572df6c",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Provision a log aggregation tool",
            "tools": [
                {
                    "title": "Elastic Cloud",
                    "url": "https://www.elastic.co/elastic-cloud-kubernetes"
                },
                {
                    "title": "Datadog",
                    "url": "https://www.datadoghq.com/"
                }
            ],
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Si la integración predeterminada puede recopilar datos de telemetría y métricas básicas (CPU/memoria), no recopilan métricas personalizadas ni información más detallada. A menudo es necesario instalar un software de terceros (se recomienda Prometheus dentro de Kubernetes) y almacenan estas métricas para explotarlas.",
            "detail": "Typically, to use Prometheus, you need to set up and manage a Prometheus server with a store. By integrating with Azure Monitor, a Prometheus server is not required. You just need to expose the Prometheus metrics endpoint through your exporters or pods (application), and the containerized agent for Azure Monitor for containers can scrape the metrics for you.",
            "documentation": [
                {
                    "title": "Configure scraping of Prometheus metrics",
                    "url": "https://docs.microsoft.com/azure/azure-monitor/insights/container-insights-prometheus-integration"
                },
                {
                    "title": "Deploying ELK",
                    "url": "https://www.elastic.co/guide/en/cloud-on-k8s/current/k8s-quickstart.html"
                }
            ],
            "guid": "6f8389a7-f82c-4b8e-a8c0-aa63a25a4956",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Monitorización",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Monitor your cluster metrics with Container Insights (or other tools like Prometheus)",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "El rastreo distribuido, también llamado rastreo de solicitudes distribuidas, es un método que se usa para perfilar y monitorear aplicaciones, especialmente aquellas creadas con una arquitectura de microservicios. El seguimiento distribuido ayuda a identificar dónde se producen los errores y qué causa un rendimiento deficiente.",
            "documentation": [
                {
                    "title": "Solution for onboarding Kubernetes/AKS workloads onto Application Insights monitoring.",
                    "url": "https://github.com/microsoft/Application-Insights-K8s-Codeless-Attach"
                },
                {
                    "title": "Zero instrumentation application monitoring for Kubernetes hosted applications (deprecated)",
                    "url": "https://docs.microsoft.com/azure/azure-monitor/app/kubernetes"
                }
            ],
            "guid": "8d33b2b2-e043-4c61-aa5d-319a8eb6c382",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Configure distributed tracing",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Además de actualizar manualmente un clúster, puede establecer un canal de actualización automática en el clúster",
            "documentation": [
                {
                    "title": "Set AKS auto-upgrade channel",
                    "url": "https://docs.microsoft.com/azure/aks/upgrade-cluster#set-auto-upgrade-channel"
                }
            ],
            "guid": "01deb8ed-b6f5-40bb-8d0b-d0ee2d933f51",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Set Upgrade Channel",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Para mantenerse al día con las demandas de las aplicaciones en Azure Kubernetes Service (AKS), es posible que tenga que ajustar el número de nodos que ejecutan las cargas de trabajo. El componente del escalador automático del clúster puede detectar pods del clúster que no se puedan programar debido a restricciones de recursos.",
            "detail": "You can enable autoscaling module per node pool but only create one mutual autoscale profile",
            "documentation": [
                {
                    "title": "AKS Autoscaler",
                    "url": "https://docs.microsoft.com/azure/aks/cluster-autoscaler"
                },
                {
                    "title": "Node autoprovisioning (karpenter)",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/node-autoprovision"
                },
                {
                    "title": "Cluster autoscaler",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/concepts-scale#cluster-autoscaler"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.autoScalerProfile)) | distinct id,compliant",
            "guid": "90ce65de-8e13-4f9c-abd4-69266abca264",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "ha": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Escalabilidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Enable cluster autoscaling",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "GitOps funciona mediante el uso de Git como una única fuente de verdad para la infraestructura y las aplicaciones declarativas",
            "detail": "On Azure you can for instance use Azure Arc for Kubernetes but also directly GitOps addon for AKS",
            "documentation": [
                {
                    "title": "Use Flux v2 addon for AKS",
                    "url": "https://learn.microsoft.com/en-us/azure/azure-arc/kubernetes/tutorial-use-gitops-flux2"
                },
                {
                    "title": "What is Azure Arc enabled Kubernetes?",
                    "url": "https://docs.microsoft.com/azure/azure-arc/kubernetes/overview"
                },
                {
                    "title": "Guide To GitOps",
                    "url": "https://www.weave.works/technologies/gitops"
                }
            ],
            "guid": "0102ce16-ee30-41e6-b882-e52e4621dd68",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Use GitOps to deploy workloads in your cluster",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "En lugar de GitOps (o además), puede usar CI/CD para implementar cargas de trabajo/herramientas en su clúster",
            "documentation": [
                {
                    "title": "Automated Deployments for Azure Kubernetes Service (Preview)",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/automated-deployments"
                },
                {
                    "title": "Build and deploy to Azure Kubernetes Service with Azure Pipelines",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/devops-pipeline?pivots=pipelines-yaml"
                },
                {
                    "title": "Tutorial: Deploy from GitHub to Azure Kubernetes Service using Jenkins",
                    "url": "https://learn.microsoft.com/en-gb/azure/developer/jenkins/deploy-from-github-to-aks"
                }
            ],
            "guid": "cd943950-e336-4906-a719-d2128c8d78e4",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement CI/CD to deploy workloads in your cluster",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "El ecosistema de Kubernetes se ve reforzado por muchas herramientas que facilitan su funcionamiento.  Aquí hay algunos",
            "guid": "fd926057-60e1-4d6c-afc2-0f03b5ab3763",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Improve efficiency with K8S Tools",
            "tools": [
                {
                    "title": "OpenLens",
                    "url": "https://github.com/MuhammedKalkan/OpenLens"
                },
                {
                    "title": "Helm",
                    "url": "https://helm.sh"
                },
                {
                    "title": "kubectl aliases",
                    "url": "https://github.com/ahmetb/kubectl-aliases"
                },
                {
                    "title": "kubectx",
                    "url": "https://github.com/ahmetb/kubectx"
                },
                {
                    "title": "k9s",
                    "url": "https://k9scli.io/"
                }
            ],
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Se recomienda mantener todas las aplicaciones en un espacio de nombres que no sea el predeterminado",
            "documentation": [
                {
                    "title": "Using multiple namespaces",
                    "url": "https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/?ref=www.the-aks-checklist.com#when-to-use-multiple-namespaces"
                }
            ],
            "guid": "13bb9e32-6f48-4747-9531-0147f20f4b03",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Don't use the default namespace",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Un conjunto común de etiquetas permite que las herramientas funcionen de manera interoperable, describiendo objetos de una manera común que todas las herramientas puedan entender. Por ejemplo, los recursos deben tener etiquetas técnicas, comerciales y de seguridad. ",
            "documentation": [
                {
                    "title": "Recommended labels",
                    "url": "https://kubernetes.io/docs/concepts/overview/working-with-objects/common-labels/"
                }
            ],
            "guid": "13bb9e32-6f48-4747-9531-0147f20f4b04",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Apply different types of labels to all resources",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "La personalización de la configuración del nodo le permite configurar o ajustar la configuración del sistema operativo (SO), los grupos de nodos o los parámetros de kubelet para que coincidan con las necesidades de las cargas de trabajo.",
            "detail": "When you create an AKS cluster or add a node pool to your cluster, you can customize a subset of commonly used OS and kubelet settings.",
            "documentation": [
                {
                    "title": "Customize node configuration for Azure Kubernetes Service (AKS) node pools",
                    "url": "https://learn.microsoft.com/azure/aks/custom-node-configuration"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.austoscalerProfile)) | distinct id,compliant",
            "guid": "831c2872-c693-4b39-a887-a561bada49bc",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.austoscalerProfile)) | distinct id,compliant",
                    "ha": 1,
                    "severity": "Low"
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Escalabilidad",
            "tags": [
                null
            ],
            "title": "Fine tune your node configuration",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Puede usar la invocación de comandos para acceder a clústeres privados sin tener que configurar una VPN o una ruta rápida",
            "detail": "Using command invoke allows you to remotely invoke commands like kubectl and helm on your private cluster through the Azure API without directly connecting to the cluster.",
            "documentation": [
                {
                    "title": "Use command invoke to access a private AKS",
                    "url": "https://learn.microsoft.com/azure/aks/command-invoke"
                }
            ],
            "guid": "d7672c26-7602-4482-85a4-14527fbe855c",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Consider using AKS command invoke on private clusters",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Con Container Insights, puede usar los gráficos de rendimiento y el estado de mantenimiento para supervisar la carga de trabajo de los clústeres de Kubernetes hospedados en AKS",
            "documentation": [
                {
                    "title": "Monitor your Kubernetes cluster performance",
                    "url": "https://learn.microsoft.com/azure/azure-monitor/containers/container-insights-analyze"
                }
            ],
            "guid": "4621dd68-c5a5-4be2-bdb1-1726769ef669",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Monitorización",
            "tags": [
                null,
                null
            ],
            "title": "Monitor CPU and memory utilization of the nodes",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Para ayudar a solucionar problemas de la aplicación y los servicios, es posible que tenga que ver los registros generados por los componentes maestros. Tenga en cuenta que si no habilita estos registros, no hay forma de que Microsoft los recupere por usted",
            "documentation": [
                {
                    "title": "Enable and review Kubernetes master node logs",
                    "url": "https://docs.microsoft.com/azure/aks/view-control-plane-logs"
                },
                {
                    "title": "Monitoring Azure Kubernetes Service (AKS) with Azure Monitor",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/monitor-aks"
                }
            ],
            "guid": "5b56ad48-408f-4e72-934c-476ba280dcf5",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "ha": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Send master logs (aka API logs) to Azure Monitor or your preferred log management solution",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "La optimización del tamaño de los nodos puede generar muchos beneficios, como la optimización de costes, el rendimiento optimizado y la asignación adecuada de recursos",
            "documentation": [
                {
                    "title": "Which VM size should I choose as AKS node?",
                    "url": "https://blog.cloudtrooper.net/2020/10/23/which-vm-size-should-i-choose-as-aks-node/"
                }
            ],
            "guid": "5ae124ba-34df-4585-bcdc-e9bd3bb0cdb3",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Escalabilidad",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Consider an appropriate node size, not too large or too small",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Azure Advisor puede mejorar la supervisión del entorno y puede ayudar a mejorar las operaciones del clúster mediante la reducción de costos, etcétera",
            "documentation": [
                {
                    "title": "Azure advisor get started",
                    "url": "https://docs.microsoft.com/azure/advisor/advisor-get-started"
                }
            ],
            "guid": "337453a3-cc63-4963-9a65-22ac19e80696",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null,
                null,
                null,
                null,
                null
            ],
            "title": "Regularly check Azure Advisor for recommendations on your cluster",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Hay varias herramientas que pueden hacer que la creación de archivos de manifiesto k8s sea mucho más fácil y pueden ayudar con la eficiencia operativa",
            "documentation": [
                {
                    "title": "what is prettier",
                    "url": "https://prettier.io/"
                }
            ],
            "guid": "b78f2dec-d75e-44c3-937a-7509fd7a54f1",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Write manifests following good practices using dedicated tools",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Periódicamente, es posible que tenga que rotar esos certificados por motivos de seguridad o de directiva. Por ejemplo, es posible que tenga una política para rotar todos los certificados cada 90 días.",
            "documentation": [
                {
                    "title": "Certificate rotation in Azure Kubernetes Service (AKS)",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/certificate-rotation"
                }
            ],
            "guid": "3aa70560-e7e7-4968-be3d-628af35b2ced",
            "optionalFields": {
                "score": {
                    "simple": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Enable AKS auto-certificate rotation",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "La supervisión de los registros del clúster puede ayudar a prevenir problemas e identificar áreas de mejora",
            "documentation": [
                {
                    "title": "Container insights overview",
                    "url": "https://learn.microsoft.com/en-us/azure/azure-monitor/containers/container-insights-overview"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.addonProfiles.omsagent) and properties.addonProfiles.omsagent.enabled==true) | distinct id,compliant",
            "guid": "eaa8dc4a-2436-47b3-9697-15b1752beee0",
            "priority": "High",
            "service": "AKS",
            "subcategory": "Monitorización",
            "tags": [
                null,
                null
            ],
            "title": "Store and analyze your cluster logs with Container Insights (or other tools like Telegraf/ElasticSearch)",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "El esquema ContainerLogV2 mejora los datos relacionados con los registros del contenedor (como el espacio de nombres, el nombre del pod, el nombre del contenedor, etcétera) y le permite consultar los registros mediante estos campos",
            "documentation": [
                {
                    "title": "Enable the ContainerLogV2 schema",
                    "url": "https://learn.microsoft.com/en-gb/azure/azure-monitor/containers/container-insights-logging-v2"
                }
            ],
            "guid": "62f89719-db42-4cd0-824f-82ac7d62d9ac",
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Enable ContainerLogV2 schema for logging",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Los nodos virtuales con ACI pueden ayudar a acelerar el escalado",
            "documentation": [
                {
                    "title": "Create and configure an AKS cluster to use virtual nodes",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/virtual-nodes"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.addonProfiles.aciConnectorLinux) and properties.addonProfiles.aciConnectorLinux.enabled==true) | distinct id,compliant",
            "guid": "c755562f-2b4e-4456-9b4d-874a748b662e",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnotnull(properties.addonProfiles.aciConnectorLinux) and properties.addonProfiles.aciConnectorLinux.enabled==true) | distinct id,compliant",
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Costar",
            "tags": [
                null,
                null
            ],
            "title": "Consider AKS virtual node for quick bursting",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Los grupos de nodos de spot pueden ayudar con la administración de costos",
            "documentation": [
                {
                    "title": "Add an Azure Spot node pool to an AKS cluster",
                    "url": "https://docs.microsoft.com/azure/aks/spot-node-pool"
                }
            ],
            "guid": "c5a5b252-1e44-4a59-a9d2-399c4d7b68d0",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Costar",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Consider spot node pools for non time-sensitive workloads",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Las alertas pueden proporcionar advertencias tempranas de problemas, etcétera en el clúster",
            "documentation": [
                {
                    "title": "Metric alert rules in Container insights",
                    "url": "https://docs.microsoft.com/azure/azure-monitor/insights/container-insights-metric-alerts"
                }
            ],
            "guid": "67f7a9ed-5b31-4f38-a3f3-9812b2463cff",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Alertas",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Configure alerts on the most critical metrics (see Container Insights for recommendations)",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "La supervisión de estos puertos es importante por razones de seguridad",
            "documentation": [
                {
                    "title": "Use a public standard load balancer in Azure Kubernetes Service",
                    "url": "https://docs.microsoft.com/azure/aks/load-balancer-standard"
                }
            ],
            "guid": "95951d87-1a2f-4a45-833c-2fc62d23c44d",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If not using egress filtering with AzFW/NVA, monitor standard ALB allocated SNAT ports",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Más información sobre cómo solucionar problemas de estado de los recursos",
            "documentation": [
                {
                    "title": "Azure Kubernetes Services troubleshooting documentation",
                    "url": "https://learn.microsoft.com/en-us/troubleshoot/azure/azure-kubernetes/welcome-azure-kubernetes"
                }
            ],
            "guid": "74c2ee76-569b-4a79-a57e-dedf91b022c9",
            "optionalFields": {
                "score": {
                    "ha": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Monitorización",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Subscribe to resource health notifications for your AKS cluster",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "AKS emite determinados eventos que le permiten suscribirse a EventGrid que se pueden usar para la automatización",
            "documentation": [
                {
                    "title": "AKS as an Event Grid source",
                    "url": "https://learn.microsoft.com/azure/event-grid/event-schema-aks"
                }
            ],
            "guid": "9583c0f6-6083-43f6-aa6b-df7102c901bb",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Escalabilidad",
            "tags": [
                null,
                null
            ],
            "title": "Consider subscribing to EventGrid Events for AKS automation",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Desarrollar sus propias prácticas de gobernanza para asegurarse de que los operadores no realicen cambios en el nodo RG (también conocido como 'infra RG')",
            "documentation": [
                {
                    "title": "AKS FAQ",
                    "url": "https://docs.microsoft.com/azure/aks/faq"
                }
            ],
            "guid": "ed0fda7f-211b-47c7-8b6e-c18873fb473c",
            "optionalFields": {
                "score": {
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Develop own governance practices to make sure no changes are performed by operators in the node RG (aka 'infra RG')",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Operaciones",
            "description": "Nunca estás preparado cuando ocurre algo malo y depurar un clúster de Kubernetes puede ser complicado. Se pueden implementar algunas cajas de herramientas para ayudarlo a encontrar y solucionar los problemas más comunes",
            "documentation": [
                {
                    "title": "Inspektor Gadget",
                    "url": "https://www.inspektor-gadget.io/"
                }
            ],
            "guid": "f1d2d2f4-53a2-5f1b-9d1a-3a907b6844a5",
            "optionalFields": {
                "score": {
                    "security": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Install debuging tools on your cluster",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": "Para escalar rápidamente el clúster de AKS, puede integrarlo con Azure Container Instances (ACI)",
            "detail": "Kubernetes has built-in components to scale the replica and node count. However, if your application needs to rapidly scale, the horizontal pod autoscaler may schedule more pods than can be provided by the existing compute resources in the node pool.",
            "documentation": [
                {
                    "title": "Burst to Azure Container Instances",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/concepts-scale#burst-to-azure-container-instances"
                }
            ],
            "guid": "c88681ab-bb2b-46d1-9ea6-72564b75429a",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Burst serverless with Azure Container Instances and Virtual Nodes",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": "qué tipo de nodos de trabajo debo usar y cuántos de ellos es una pregunta crítica que requiere el análisis de las cargas de trabajo implementadas en su clúster para obtener los mejores valores de la misma",
            "detail": "Choosing on one hand between easy management and big blast radius, and on the other end to focus on high replication, low impact but worse resources optimization ",
            "documentation": [
                {
                    "title": "Choosing a worker node size",
                    "url": "https://learnk8s.io/kubernetes-node-size"
                },
                {
                    "title": "Choose the right storage type",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-storage#choose-the-appropriate-storage-type"
                }
            ],
            "guid": "7f8b07c5-882b-45ba-9ec9-bcc29b4721ff",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Sizing of the nodes",
            "tools": [
                {
                    "title": "Kubernetes instance calculator",
                    "url": "https://learnk8s.io/kubernetes-instance-calculator"
                }
            ],
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": "Benefíciese del mejor precio, rendimiento de proceso y menor uso de energía de ARM64 en los grupos de nodos de AKS.",
            "documentation": [
                {
                    "title": "Add an ARM64 node pool",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/use-multiple-node-pools#add-an-arm64-node-pool"
                }
            ],
            "guid": "2a5f0cab-92b2-46dc-81a6-d358f7fd062a",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Use ARM64 nodes when possible",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": "Planee y aplique cuotas de recursos en el nivel de espacio de nombres. Si los pods no definen las solicitudes de recursos y los límites, rechace la implementación. Supervise el uso de recursos y ajuste las cuotas según sea necesario.",
            "detail": "Resource requests and limits are placed in the pod specification. These limits are used by the Kubernetes scheduler at deployment time to find an available node in the cluster. But developers can forget them and thus impact other applications by over-consuming resources of the cluster",
            "documentation": [
                {
                    "title": "Enforce resource quotas",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-scheduler#enforce-resource-quotas"
                },
                {
                    "title": "Resources quotas",
                    "url": "https://kubernetes.io/docs/concepts/policy/resource-quotas/"
                }
            ],
            "guid": "769ef669-1a48-435a-a942-223ece80b123",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Recursos",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Enforce resource quotas for namespaces",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": " Un LimitRange es una política para restringir las asignaciones de recursos (a pods o contenedores) en un espacio de nombres. Es útil asegurarse de que los pods no se olviden de declarar los límites de solicitudes",
            "documentation": [
                {
                    "title": "LimitRange",
                    "url": "https://kubernetes.io/docs/concepts/policy/limit-range/"
                }
            ],
            "guid": "b74ea93b-598d-48e0-bb26-762b015602e1",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Namespaces should have LimitRange",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": "Establezca los límites de CPU y memoria y las solicitudes a todos los contenedores. Evita las fugas de memoria y el uso excesivo de la CPU y protege toda la plataforma",
            "detail": " When you specify limits for CPU and memory, each takes a different action when it reaches the specified limit. With CPU limits, the container is throttled from using more than its specified limit. With memory limits, the pod is restarted if it reaches its limit. The pod might be restarted on the same host or a different host within the cluster.",
            "documentation": [
                {
                    "title": "Define pod resource requests and limits",
                    "url": "https://learn.microsoft.com/en-gb/azure/aks/developer-best-practices-resource-management#define-pod-resource-requests-and-limits"
                },
                {
                    "title": "Assign Memory Resources to container",
                    "url": "https://kubernetes.io/docs/tasks/configure-pod-container/assign-memory-resource/"
                }
            ],
            "guid": "4868aa30-95a9-49fd-867e-57e70cb0d1d5",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Set memory limits and requests for all containers",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": "Para mantener la disponibilidad de las aplicaciones, defina presupuestos de interrupción de pods (PDB) para asegurarse de que haya un número mínimo de pods disponibles en el clúster.",
            "detail": "At some point in time, Kubernetes might need to evict pods from a host. There are two types of evictions: voluntary and involuntary disruptions. Involuntary disruptions can be caused by hardware failure, network partitions, kernel panics, or a node being out of resources. Voluntary evictions can be caused by performing maintenance on the cluster, the Cluster Autoscaler deallocating nodes, or updating pod templates. To minimize the impact to your application, you can set a PodDisruptionBudget to ensure uptime of the application when pods need to be evicted. A PodDisruptionBudget allows you to set a policy on the minimum available and maximum unavailable pods during voluntary eviction events. An example of a voluntary eviction would be when draining a node to perform maintenance on the node.",
            "documentation": [
                {
                    "title": "Plan for availability using pod disruption budgets",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-scheduler#plan-for-availability-using-pod-disruption-budgets"
                },
                {
                    "title": "Specifying a Disruption Budget for your Application",
                    "url": "https://kubernetes.io/docs/tasks/run-application/configure-pdb/"
                }
            ],
            "guid": "3c763963-7a55-42d5-a15e-401955387e5c",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "ha": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Alta disponibilidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use Disruption Budgets in your pod and deployment definitions",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": "Estas herramientas pueden ser muy valiosas para la asignación de costos, especialmente en el caso de la tenencia múltiple",
            "documentation": [
                {
                    "title": "cost governance with kubecost",
                    "url": "https://docs.microsoft.com/azure/cloud-adoption-framework/scenarios/aks/eslz-cost-governance-with-kubecost"
                }
            ],
            "guid": "f82cb8eb-8c0a-4a63-a25a-4956eaa8dc4a",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Costar",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Use an external application such as kubecost to allocate costs to different users",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": "La GPU A100 de Nvidia se puede dividir en hasta siete instancias independientes. Cada instancia tiene su propia memoria y multiprocesador de flujo (SM).",
            "documentation": [
                {
                    "title": "Multi-instance GPU Node pool",
                    "url": "https://learn.microsoft.com/azure/aks/gpu-multi-instance"
                }
            ],
            "guid": "87e651ea-bc4a-4a87-a6df-c06a4b570ebc",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Costar",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "When required use multi-instance partioning GPU on AKS Clusters",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": "Es posible que las cargas de trabajo de AKS no necesiten ejecutarse de forma continua, por ejemplo, un clúster de desarrollo que tenga grupos de nodos que ejecuten cargas de trabajo específicas.",
            "documentation": [
                {
                    "title": "Start and stop an Azure Kubernetes Service (AKS) node pool",
                    "url": "https://learn.microsoft.com/azure/aks/start-stop-nodepools"
                }
            ],
            "guid": "2b72a08b-0410-4cd6-9093-e068a5cf27e8",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Costar",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "If running a Dev/Test cluster use NodePool Start/Stop",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": "Las instantáneas del grupo de nodos permiten tomar una instantánea de configuración del grupo de nodos y, a continuación, crear nuevos grupos de nodos o nuevos clústeres basados en esa instantánea durante el tiempo que se admita esa configuración y versión de Kubernetes.",
            "documentation": [
                {
                    "title": "AKS node pool snapshot",
                    "url": "https://learn.microsoft.com/azure/aks/node-pool-snapshot"
                }
            ],
            "guid": "64d1a846-e28a-4b6b-9a33-22a635c15a21",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "If required scale NodePool snapshots",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": "Las máquinas virtuales o los nodos de Azure tienen cuotas por suscripción. Asegúrese de haber planificado estas cuotas y prepárese de forma proactiva para solicitar más si es necesario",
            "documentation": [
                {
                    "title": "Azure subscription and service limits, quotas, and constraints",
                    "url": "https://learn.microsoft.com/azure/azure-resource-manager/management/azure-subscription-service-limits"
                }
            ],
            "guid": "081a5417-4158-433e-a3ad-3c2de733165c",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Recursos",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Ensure your subscription has enough quota to scale out your nodepools",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Resource_Management",
            "description": " El modo de reducción vertical le permite decidir si desea eliminar o desasignar los nodos del clúster de Azure Kubernetes Service (AKS) al reducir verticalmente.",
            "documentation": [
                {
                    "title": "Use Scale-down Mode to delete/deallocate nodes",
                    "url": "https://learn.microsoft.com/azure/aks/scale-down-mode"
                }
            ],
            "guid": "4d3dfbab-9924-4831-a68d-fdf0d72f462c",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Costar",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use scale down mode to delete/delallocate nodes",
            "waf": "Excelencia Operacional"
        },
        {
            "category": "Almacenamiento",
            "description": "Comprenda las necesidades de su aplicación para elegir el almacenamiento adecuado. Utilice el almacenamiento de alto rendimiento respaldado por SSD para las cargas de trabajo de producción. Planifique el almacenamiento basado en red cuando sea necesario tener varias conexiones simultáneas.",
            "documentation": [
                {
                    "title": "Storage considerations for Azure Kubernetes Service",
                    "url": "https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/scenarios/app-platform/aks/storage"
                },
                {
                    "title": "Choose the right storage type",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-storage#choose-the-appropriate-storage-type"
                }
            ],
            "guid": "4c20c4bd-a7e3-449f-9597-4939a3aeafe7",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Choose the right storage type"
        },
        {
            "category": "Almacenamiento",
            "description": "Cada tamaño de nodo admite un número máximo de discos. Los diferentes tamaños de nodo también proporcionan diferentes cantidades de almacenamiento local y ancho de banda de red. Planifique las demandas de su aplicación para implementar el tamaño adecuado de nodos.",
            "detail": "Different types and sizes of nodes are available. Each node (underlying VM) size provides a different amount of core resources such as CPU and memory. These VM sizes have a maximum number of disks that can be attached. Storage performance also varies between VM sizes for the maximum local and attached disk IOPS (input/output operations per second). If your applications require Azure Disks as their storage solution, plan for and choose an appropriate node VM size. The amount of CPU and memory isn't the only factor when you choose a VM size. The storage capabilities are also important.",
            "documentation": [
                {
                    "title": "Size the nodes for storage needs",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-storage#size-the-nodes-for-storage-needs"
                }
            ],
            "guid": "18707174-fa23-4935-b463-8f9982629b35",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Size the nodes for storage needs"
        },
        {
            "category": "Almacenamiento",
            "description": "Para reducir la sobrecarga de administración y permitirle escalar, no cree ni asigne volúmenes persistentes de forma estática. Utilice el aprovisionamiento dinámico. En las clases de almacenamiento, defina la política de recuperación adecuada para minimizar los costos de almacenamiento innecesarios una vez que se eliminan los pods.",
            "documentation": [
                {
                    "title": "Dynamically provision volumes",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-storage#dynamically-provision-volumes"
                }
            ],
            "guid": "77bda7ce-1fcf-4735-bd3d-1b3a83a9e484",
            "optionalFields": {
                "score": {}
            },
            "priority": "Low",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Dynamically provision volumes"
        },
        {
            "category": "Almacenamiento",
            "description": "Realice una copia de seguridad de los datos con una herramienta adecuada para su tipo de almacenamiento, como Velero o Azure Site Recovery",
            "detail": "Understand the limitations of the different approaches to data backups and if you need to quiesce your data prior to snapshot. Data backups don't necessarily let you restore your application environment of cluster deployment.",
            "documentation": [
                {
                    "title": "Secure and back up your data",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-storage#secure-and-back-up-your-data"
                }
            ],
            "guid": "13d493b9-2cdc-4632-b188-6882b81da0ed",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Secure and back up your data"
        },
        {
            "category": "Almacenamiento",
            "description": "Siempre que sea posible, no almacene el estado del servicio dentro del contenedor. En su lugar, use una plataforma como servicio (PaaS) de Azure que admita la replicación en varias regiones.",
            "detail": "Service state refers to the in-memory or on-disk data that a service requires to function. State includes the data structures and member variables that the service reads and writes. Depending on how the service is architected, the state might also include files or other resources that are stored on the disk. For example, the state might include the files a database uses to store data and transaction logs.",
            "documentation": [
                {
                    "title": "Remove service state from inside containers",
                    "url": "https://docs.microsoft.com/azure/aks/operator-best-practices-multi-region#remove-service-state-from-inside-containers"
                }
            ],
            "guid": "9f7547c1-747d-4c56-868a-714435bd19dd",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Almacenamiento",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Avoid keeping state in the cluster, and store data outside (AzStorage, AzSQL, Cosmos, etc)",
            "waf": "Rendimiento"
        },
        {
            "category": "Almacenamiento",
            "description": " Con los discos de sistema operativo efímeros, verá una latencia de lectura y escritura más baja en el disco del sistema operativo de los nodos del agente de AKS, ya que el disco está conectado localmente.",
            "detail": "You will also get faster cluster operations like scale or upgrade thanks to faster re-imaging and boot times",
            "documentation": [
                {
                    "title": "Everything you want to know about ephemeral OS disks and AKS",
                    "url": "https://learn.microsoft.com/en-us/samples/azure-samples/aks-ephemeral-os-disk/aks-ephemeral-os-disk/"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | project id,resourceGroup,name,pools=properties.agentPoolProfiles | mvexpand pools | extend compliant = (pools.osDiskType=='Ephemeral') | project id,name=strcat(name,'-',pools.name), resourceGroup, compliant",
            "guid": "24367b33-6971-45b1-952b-eee0b9b588de",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "graph": "where type=='microsoft.containerservice/managedclusters' | project id,resourceGroup,name,pools=properties.agentPoolProfiles | mvexpand pools | extend compliant = (pools.osDiskType=='Ephemeral') | project id,name=strcat(name,'-',pools.name), resourceGroup, compliant",
                    "scale": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Almacenamiento",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Use ephemeral OS disks",
            "waf": "Rendimiento"
        },
        {
            "category": "Almacenamiento",
            "description": "Los discos ultra de Azure ofrecen un almacenamiento en disco de alto rendimiento, IOPS elevadas y baja latencia coherente para las aplicaciones con estado.",
            "detail": "One major benefit of ultra disks is the ability to dynamically change the performance of the SSD along with your workloads without the need to restart your agent nodes. Ultra disks are suited for data-intensive workloads.",
            "documentation": [
                {
                    "title": "Use Azure ultra disks on AKS",
                    "url": "https://learn.microsoft.com/azure/aks/use-ultra-disks"
                }
            ],
            "guid": "39c486ce-d5af-4062-89d5-18bb5fd795db",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "scale": 1
                }
            },
            "priority": "Low",
            "service": "AKS",
            "subcategory": "Almacenamiento",
            "tags": [
                null,
                null,
                null
            ],
            "title": "For hyper performance storage option use Ultra Disks on AKS",
            "waf": "Rendimiento"
        },
        {
            "category": "Almacenamiento",
            "description": "Siempre que sea posible, no almacene el estado del servicio dentro del contenedor. En su lugar, use una plataforma como servicio (PaaS) de Azure que admita la replicación en varias regiones.",
            "detail": "Service state refers to the in-memory or on-disk data that a service requires to function. State includes the data structures and member variables that the service reads and writes. Depending on how the service is architected, the state might also include files or other resources that are stored on the disk. For example, the state might include the files a database uses to store data and transaction logs.",
            "documentation": [
                {
                    "title": "Remove service state from inside containers",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/operator-best-practices-multi-region#remove-service-state-from-inside-containers"
                }
            ],
            "guid": "b5f3808d-3a6a-42a5-adde-7bb34e047169",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Avoid keeping state in the cluster, and store data outside (AzStorage, AzSQL, Cosmos, etc)"
        },
        {
            "category": "Almacenamiento",
            "description": "Si usa discos de Azure y zonas de disponibilidad, considere la posibilidad de tener grupos de nodos dentro de una zona para el disco LRS con VolumeBindingMode:WaitForFirstConsumer para aprovisionar el almacenamiento en la zona correcta o use el disco ZRS para grupos de nodos que abarquen varias zonas",
            "documentation": [
                {
                    "title": "Azure disk availability zone support",
                    "url": "https://docs.microsoft.com/azure/aks/availability-zones#azure-disk-availability-zone-support"
                }
            ],
            "guid": "83958a8c-2689-4b32-ab57-cfc64546135a",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Almacenamiento",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If using Azure Disks and AZs, consider having nodepools within a zone for LRS disk",
            "waf": "Rendimiento"
        },
        {
            "category": "Almacenamiento",
            "description": "En el caso de los discos no efímeros, use IOPS altas y discos de sistema operativo más grandes para los nodos cuando se ejecuten muchos pods o nodos, ya que requiere un alto rendimiento para ejecutar varios pods y generará registros enormes con umbrales de rotación de registros de AKS predeterminados",
            "documentation": [
                {
                    "title": "Azure disk availability zone support",
                    "url": "Azure managed disk types"
                }
            ],
            "guid": "fc4972cc-3cd2-45bf-a707-6e9eab4bed32",
            "optionalFields": {
                "score": {
                    "cost": -1,
                    "scale": 1
                }
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null,
                null
            ],
            "title": "For non-ephemeral disks, use high IOPS and larger OS disks for the nodes when running many pods/node"
        },
        {
            "category": "Windows",
            "description": "Windows tiene reglas de compatibilidad estrictas, donde la versión del sistema operativo del host debe coincidir con la versión del sistema operativo de la imagen base del contenedor. Solo se admiten los contenedores de Windows con un sistema operativo de contenedor de Windows Server 2019.",
            "documentation": [
                {
                    "title": "Windows container version compatibility",
                    "url": "https://docs.microsoft.com/virtualization/windowscontainers/deploy-containers/version-compatibility"
                },
                {
                    "title": "Limitations of Windows containers",
                    "url": "https://kubernetes.io/docs/setup/production-environment/windows/intro-windows-in-kubernetes/#supported-functionality-and-limitations"
                }
            ],
            "guid": "4d3e8a06-b724-43a3-b9b9-328a08325c61",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Map the base image to node OS"
        },
        {
            "category": "Windows",
            "description": "TerminationGracePeriod no se implementa en contenedores de Windows",
            "documentation": [
                {
                    "title": "Understand pod lifecycle",
                    "url": "https://cloud.google.com/blog/products/gcp/kubernetes-best-practices-terminating-with-grace"
                },
                {
                    "title": "Limitations of Windows containers",
                    "url": "https://kubernetes.io/docs/setup/production-environment/windows/intro-windows-in-kubernetes/#supported-functionality-and-limitations"
                }
            ],
            "guid": "fce3ccf3-5f62-4ad6-b945-845362777529",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Prepare your application for an abrupt kill"
        },
        {
            "category": "Windows",
            "description": "Los contenedores de Windows no admiten la elevación de privilegios",
            "documentation": [
                {
                    "title": "Limitations of Windows containers",
                    "url": "https://kubernetes.io/docs/setup/production-environment/windows/intro-windows-in-kubernetes/#supported-functionality-and-limitations"
                }
            ],
            "guid": "bd773172-40dc-4502-b284-137c70d77bc9",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Don't use privileged containers"
        },
        {
            "category": "Windows",
            "description": "No hay acciones de desalojo de OOM tomadas por el kubelet. Windows siempre trata todas las asignaciones de memoria en modo de usuario como virtuales, y los archivos de paginación son obligatorios. Si la memoria está sobreaprovisionada y se agota toda la memoria física, la paginación puede ralentizar el rendimiento.",
            "documentation": [
                {
                    "title": "Limitations of Windows containers",
                    "url": "https://kubernetes.io/docs/setup/production-environment/windows/intro-windows-in-kubernetes/#supported-functionality-and-limitations"
                }
            ],
            "guid": "dea429d5-2c10-480c-85a1-9d9d0c4afc3d",
            "optionalFields": {
                "score": {}
            },
            "priority": "Medium",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Watch for memory usage"
        },
        {
            "category": "Windows",
            "description": "Los clústeres de AKS con grupos de nodos de Windows deben usar el modelo de red CNI (avanzado) de Azure. No se admiten las redes Kubenet (básicas). ",
            "documentation": [
                {
                    "title": "What network plug-ins are supported?",
                    "url": "https://docs.microsoft.com/azure/aks/windows-node-limitations#what-network-plug-ins-are-supported"
                }
            ],
            "guid": "3922e5b0-fa6b-4020-a92e-2e0d76338e95",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Implement CNI network mode"
        },
        {
            "category": "Windows",
            "description": "Los nodos de Windows Server en AKS deben actualizarse para obtener las correcciones y actualizaciones de parches más recientes. Las actualizaciones de Windows no están habilitadas en los nodos de AKS. AKS publica nuevas imágenes de grupos de nodos tan pronto como las revisiones estén disponibles, es responsabilidad de los clientes actualizar los grupos de nodos para mantenerse al día con las revisiones y las revisiones. ",
            "documentation": [
                {
                    "title": "Windows container version compatibility",
                    "url": "https://docs.microsoft.com/virtualization/windowscontainers/deploy-containers/version-compatibility?tabs=windows-server-20H2%2Cwindows-10-20H2"
                },
                {
                    "title": "How do patch my Windows nodes? ",
                    "url": "https://docs.microsoft.com/azure/aks/windows-node-limitations#how-do-patch-my-windows-nodes"
                }
            ],
            "guid": "67138b82-0102-4ce1-9ee3-01e6e882e52e",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null
            ],
            "title": "Keep windows containers patch level in sync with host patch level",
            "waf": "Operaciones"
        },
        {
            "category": "Windows",
            "description": "Actualmente no se admiten las políticas de red, asegúrese de que las aplicaciones en contenedores tengan una capa de protección como la autenticación ",
            "documentation": [
                {
                    "title": "Limitations of Windows containers",
                    "url": "https://kubernetes.io/docs/setup/production-environment/windows/intro-windows-in-kubernetes/#supported-functionality-and-limitations"
                }
            ],
            "guid": "74e42965-8bbd-46fb-b027-ccad9c3933a4",
            "optionalFields": {
                "score": {}
            },
            "priority": "High",
            "service": "AKS",
            "tags": [
                null,
                null
            ],
            "title": "Secure the traffic of your containers"
        },
        {
            "category": "Windows",
            "description": "Las cuentas de servicio administradas de grupo (GMSA) son una cuenta de dominio administrada para varios servidores que proporciona administración automática de contraseñas, administración simplificada de nombres de entidad de seguridad de servicio (SPN) y la capacidad de delegar la administración a otros administradores.",
            "documentation": [
                {
                    "title": "Enable Group Managed Service Accounts (GMSA) for your Windows Server nodes",
                    "url": "https://docs.microsoft.com/en-gb/azure/aks/use-group-managed-service-accounts"
                }
            ],
            "guid": "e1123a7c-a333-4eb4-a120-4ee3f293c9f3",
            "optionalFields": {
                "score": {
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Identidad",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "Enable Group Managed Service Accounts (GMSA) for your Windows Server nodes",
            "waf": "Seguridad"
        },
        {
            "category": "Windows",
            "description": "Los contenedores HostProcess / Privileged amplían el modelo de contenedor de Windows para habilitar una gama más amplia de escenarios de administración de clústeres de Kubernetes.",
            "documentation": [
                {
                    "title": "Use Windows HostProcess containers",
                    "url": "https://learn.microsoft.com/azure/aks/use-windows-hpc"
                }
            ],
            "guid": "ab5351f6-383a-45ed-9c5e-b143b16db40a",
            "optionalFields": {
                "score": {
                    "cost": 1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Desarrollo",
            "tags": [
                null,
                null,
                null
            ],
            "title": "If required for AKS Windows workloads, HostProcess containers can be used",
            "waf": "Fiabilidad"
        },
        {
            "category": "Windows",
            "description": "Agregar contaminaciones, tolerancias y selectores de nodos ayudará a evitar tener pods programados en el grupo de nodos del sistema operativo incorrecto",
            "documentation": [
                {
                    "title": "Adapt apps for mixed-OS Kubernetes clusters using node selectors or taints and tolerations",
                    "url": "https://learn.microsoft.com/en-us/azure/aks/hybrid/adapt-apps-mixed-os-clusters"
                }
            ],
            "guid": "c1881370-6f7c-44c0-b4e5-14648d2457ed",
            "optionalFields": {
                "score": {
                    "ha": 1,
                    "simple": -1
                }
            },
            "priority": "low",
            "service": "AKS",
            "subcategory": "Conformidad",
            "tags": [
                null,
                null,
                null
            ],
            "title": "Taint Windows nodes",
            "waf": "Operaciones"
        },
        {
            "category": "Windows",
            "description": "Para los nodos de AKS de Windows 2019 y 2022, se pueden usar las directivas de red de Calico",
            "documentation": [
                {
                    "title": "Secure traffic between pods using network policies",
                    "url": "https://learn.microsoft.com/azure/aks/use-network-policies"
                }
            ],
            "graph": "where type=='microsoft.containerservice/managedclusters' | where isnotnull(properties.apiServerAccessProfile.enablePrivateCluster) | extend compliant = (properties.apiServerAccessProfile.enablePrivateCluster==true) | distinct id, compliant",
            "guid": "ce7f2a7c-297c-47c6-adea-a6ff838db665",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | where isnotnull(properties.apiServerAccessProfile.enablePrivateCluster) | extend compliant = (properties.apiServerAccessProfile.enablePrivateCluster==true) | distinct id, compliant",
                    "security": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Seguridad",
            "tags": [
                null,
                null,
                null,
                null
            ],
            "title": "For Windows 2019 and 2022 AKS nodes Calico Network Policies can be us",
            "waf": "Seguridad"
        },
        {
            "category": "Windows",
            "description": "Para las cargas de trabajo de Windows, use Redes aceleradas",
            "documentation": [
                {
                    "title": "What is Accelerated Networking?",
                    "url": "https://learn.microsoft.com/azure/virtual-network/accelerated-networking-overview"
                }
            ],
            "guid": "7bacd7b9-c025-4a9d-a5d2-25d6bc5439d9",
            "optionalFields": {
                "score": {
                    "graph": "where type=='microsoft.containerservice/managedclusters' | extend compliant = (isnull(properties.addonProfiles.httpApplicationRouting) or properties.addonProfiles.httpApplicationRouting.enabled==false) | distinct id,compliant",
                    "scale": 1,
                    "simple": -1
                }
            },
            "priority": "Medium",
            "service": "AKS",
            "subcategory": "Prácticas recomendadas",
            "tags": [
                null,
                null,
                null
            ],
            "title": "For Windows workloads use Accelerated Networking",
            "waf": "Rendimiento"
        }
    ],
    "metadata": {
        "name": "The AKS Checklist",
        "state": "preview",
        "timestamp": "July 14, 2024",
        "waf": "none"
    },
    "severities": [
        {
            "name": "Alto"
        },
        {
            "name": "Medio"
        },
        {
            "name": "Bajo"
        }
    ],
    "status": [
        {
            "description": "Este control aún no se ha examinado",
            "name": "No verificado"
        },
        {
            "description": "Hay un elemento de acción asociado a esta comprobación",
            "name": "Abrir"
        },
        {
            "description": "Esta comprobación se ha verificado y no hay más elementos de acción asociados a ella",
            "name": "Cumplido"
        },
        {
            "description": "Recomendación entendida, pero no necesaria por los requisitos actuales",
            "name": "No es necesario"
        },
        {
            "description": "No aplicable para el diseño actual",
            "name": "N/A"
        }
    ],
    "waf": [
        {
            "name": "Fiabilidad"
        },
        {
            "name": "Seguridad"
        },
        {
            "name": "Costar"
        },
        {
            "name": "Operaciones"
        },
        {
            "name": "Rendimiento"
        }
    ],
    "yesno": [
        {
            "name": "Sí"
        },
        {
            "name": "No"
        }
    ]
}