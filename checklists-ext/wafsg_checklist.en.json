{
    "$schema": "https://raw.githubusercontent.com/Azure/review-checklists/main/checklists/checklist.schema.json",
    "items": [
        {
            "waf": "reliability",
            "service": "App Service Web Apps",
            "text": "Prioritize user flows: Not all flows are equally critical. Assign priorities to each flow to guide your design decisions. User flow design can influence which service tiers and number of instances that you choose for an App Service plan and configuration.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "App Service Web Apps",
            "text": "Anticipate potential failures: Plan mitigation strategies for potential failures. The following table shows examples of failure mode analysis.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "App Service Web Apps",
            "text": "Build redundancy: Build redundancy in the application and supporting infrastructure. Spread instances across availability zones to improve fault tolerance. Traffic is routed to other zones if one zone fails. Deploy your application across multiple regions to ensure that your app remains available, even if an entire region experiences an outage.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "App Service Web Apps",
            "text": "Have a reliable scaling strategy: Unexpected load on an application can make it unreliable. Consider the right scaling approach based on your workload characteristics. You can sometimes scale up to handle the load. However, if the load continues to increase, scale out to new instances. Prefer automatic scaling over manual approaches. Always maintain a buffer of extra capacity during scaling operations to prevent performance degradation.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "App Service Web Apps",
            "text": "Plan your recoverability: Redundancy is crucial for business continuity. Fail over to another instance if one instance is unreachable. Explore automatic healing capabilities in App Service, such as automatic repair of instances.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "App Service Web Apps",
            "text": "Conduct reliability testing: Conduct load testing to evaluate your application's reliability and performance under load. Test plans should include scenarios that validate your automated recovery operations.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "App Service Web Apps",
            "text": "Use health probes to identify unresponsive workers: App Service has built-in capabilities that periodically ping a specific path of your web application. Unresponsive instances are removed from the load balancer and replaced with a new instance.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Reliability",
            "service": "App Service Web Apps",
            "text": "(App Service plan) Choose the Premium tier of an App Service plan for production workloads.  Set the maximum and minimum number of workers according to your capacity planning. For more information, see App Service plan overview.",
            "description": "A premium App Service plan offers advanced scaling features and ensures redundancy if failures occur.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "App Service Web Apps",
            "text": "(App Service plan) Enable zone redundancy. Consider provisioning more than three instances to enhance fault tolerance.  Check regional support for zone redundancy because not all regions offer this feature.",
            "description": "Your application can withstand failures in a single zone when multiple instances are spread across zones. Traffic automatically shifts to healthy instances in other zones and maintains application reliability if one zone is unavailable.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "App Service Web Apps",
            "text": "(App Service) Consider disabling the application request routing (ARR) affinity feature. ARR affinity creates sticky sessions that redirect users to the node that handled their previous requests.",
            "description": "Incoming requests are evenly distributed across all available nodes when you disable ARR affinity. Evenly distributed requests prevent traffic from overwhelming any single node. Requests can be seamlessly redirected to other healthy nodes if a node is unavailable.  Avoid session affinity to ensure that your App Service instance remains stateless. A stateless App Service reduces complexity and ensures consistent behavior across nodes.  Remove sticky sessions so that App Service can add or remove instances to scale horizontally.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "App Service Web Apps",
            "text": "(App Service) Define automatic healing rules based on request count, slow requests, memory limits, and other indicators that are part of your performance baseline. Consider this configuration as part of your scaling strategy.",
            "description": "Automatic healing rules help your application recover automatically from unexpected problems. The configured rules trigger healing actions when thresholds are breached.  Automatic healing enables automatic proactive maintenance.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "App Service Web Apps",
            "text": "(App Service) Enable the health check feature and provide a path that responds to the health check requests.",
            "description": "Health checks can detect problems early. Then the system can automatically take corrective actions when a health check request fails.  The load balancer routes traffic away from unhealthy instances, which directs users to healthy nodes.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "App Service Web Apps",
            "text": "Review security baselines: To enhance the security posture of your application that's hosted on an App Service plan, review the security baseline for App Service.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "App Service Web Apps",
            "text": "Use the latest runtime and libraries: Thoroughly test your application builds before you do updates to catch problems early and ensure a smooth transition to the new version. App Service supports the language runtime support policy for updating existing stacks and retiring end-of-support stacks.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "App Service Web Apps",
            "text": "Create segmentation through isolation boundaries to contain breach: Apply identity segmentation. For example, implement role-based access control (RBAC) to assign specific permissions based on roles. Follow the principle of least privilege to limit access rights to only what's necessary. Also create segmentation at the network level. Inject App Service apps in an Azure virtual network for isolation and define network security groups (NSGs) to filter traffic.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "App Service Web Apps",
            "text": "Apply access controls on identities: Restrict both inward access to the web app and outward access from the web app to other resources. This configuration applies access controls on identities and helps maintain the workload's overall security posture.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "App Service Web Apps",
            "text": "Control network traffic to and from the application: Don't expose application endpoints to the public internet. Instead, add a private endpoint on the web app that's placed in a dedicated subnet. Front your application with a reverse proxy that communicates with that private endpoint. Consider using Application Gateway or Azure Front Door for that purpose.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "App Service Web Apps",
            "text": "Encrypt data: Protect data in transit with end-to-end Transport Layer Security (TLS). Use your customer-managed keys for full encryption of data at rest. For more information, see Encryption at rest using customer-managed keys.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "App Service Web Apps",
            "text": "Reduce the attack surface: Remove default configurations that you don't need. For example, disable remote debugging, local authentication for Source Control Manager (SCM) sites, and basic authentication. Disable unsecure protocols like HTTP and File Transfer Protocol (FTP). Enforce configurations through Azure policies. For more information, see Azure policies.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "App Service Web Apps",
            "text": "Protect application secrets: You need to handle sensitive information, like API keys or authentication tokens. Instead of hardcoding these secrets directly into your application code or configuration files, you can use Azure Key Vault references in app settings. When the application starts, App Service automatically retrieves the secret values from Key Vault by using the app's managed identity.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "App Service Web Apps",
            "text": "Enable resource logs for your application: Enable resource logs for your application to create comprehensive activity trails that provide valuable data during investigations that follow security incidents.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "App Service Web Apps",
            "text": "(App Service) Assign managed identities to the web app. To maintain isolation boundaries, don't share or reuse identities across applications.  Make sure that you securely connect to your container registry if you use containers for your deployment.",
            "description": "The application retrieves secrets from Key Vault to authenticate outward communication from the application. Azure manages the identity and doesn't require you to provision or rotate any secrets.  You have distinct identities for granularity of control. Distinct identities make revocation easy if an identity is compromised.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "App Service Web Apps",
            "text": "(App Service) Configure custom domains for applications.  Disable HTTP and only accept HTTPS requests.",
            "description": "Custom domains enable secure communication through HTTPS using Transport Layer Security (TLS) protocol, which ensures the protection of sensitive data and builds user trust.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "App Service Web Apps",
            "text": "(App Service) valuate whether App Service built-in authentication is the right mechanism to authenticate users that access your application. App Service built-in authentication integrates with Microsoft Entra ID. This feature handles token validation and user identity management across multiple sign-in providers and supports OpenID Connect. With this feature, you don't have authorization at a granular level, and you don't have a mechanism to test authentication.",
            "description": "When you use this feature, you don't have to use authentication libraries in application code, which reduces complexity. The user is already authenticated when a request reaches the application.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "App Service Web Apps",
            "text": "(App Service) Configure the application for virtual network integration.  Use private endpoints for App Service apps. Block all public traffic.  Route the container image pull through the virtual network integration. All outgoing traffic from the application passes through the virtual network.",
            "description": "Get the security benefits of using an Azure virtual network. For example, the application can securely access resources within the network.   Add a private endpoint to help protect your application. Private endpoints limit direct exposure to the public network and allow controlled access through the reverse proxy.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "App Service Web Apps",
            "text": "(App Service) To implement hardening:  - Disable basic authentication that uses a username and password in favor of Microsoft Entra ID-based authentication.  - Turn off remote debugging so that inbound ports aren't opened. - Enable CORS policies to tighten incoming requests.  - Disable protocols, such as FTP.",
            "description": "We don't recommend basic authentication as a secure deployment method. Microsoft Entra ID employs OAuth 2.0 token-based authentication, which offers numerous advantages and enhancements that address the limitations that are associated with basic authentication.  Policies restrict access to application resources, only allow requests from specific domains, and secure cross-region requests.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "App Service Web Apps",
            "text": "(App Service) Always use Key Vault references as app settings.",
            "description": "Secrets are kept separate from your app's configuration. App settings are encrypted at rest. App Service also manages secret rotations.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "App Service Web Apps",
            "text": "(App Service plan) Enable Microsoft Defender for Cloud for App Service.",
            "description": "Get real-time protection for resources that run in an App Service plan. Guard against threats and enhance your overall security posture.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "App Service Web Apps",
            "text": "(App Service plan) Enable diagnostic logging and add instrumentation to your app. The logs are sent to Azure Storage accounts, Azure Event Hubs, and Log Analytics. For more information about audit log types, see Supported log types.",
            "description": "Logging captures access patterns. It records relevant events that provide valuable insights into how users interact with an application or platform. This information is crucial for accountability, compliance, and security purposes.",
            "type": "recommendation"
        },
        {
            "waf": "cost",
            "service": "App Service Web Apps",
            "text": "Estimate the initial cost: As part of your cost modeling exercise, use the Azure pricing calculator to evaluate the approximate costs associated with various tiers based on the number of instances that you plan to run. Each App Service tier offers different compute options.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "App Service Web Apps",
            "text": "Evaluate the discounted options: Higher tiers include dedicated compute instances. You can apply a reservation discount if your workload has a predictable and consistent usage pattern. Make sure that you analyze usage data to determine the type of reservation that suits your workload. For more information, see Save costs with App Service reserved instances.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "App Service Web Apps",
            "text": "Understand usage meters: Azure charges an hourly rate, prorated to the second, based on your App Service plan's pricing tier. Charges apply to each scaled-out instance in your plan, based on the time that you allocate the VM instance. Pay attention to underused compute resources that might increase your costs as a result of overallocation due to suboptimal SKU selection, or poorly configured scale-in configuration.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "App Service Web Apps",
            "text": "Consider the tradeoffs between density and isolation: You can use App Service plans to host multiple applications on the same compute, which saves costs with shared environments. For more information, see Tradeoffs.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "App Service Web Apps",
            "text": "Evaluate the effect of your scaling strategy on cost: You must properly design, test, and configure for scaling out and for scaling in when you implement autoscaling. Establish precise maximum and minimum limits on autoscaling.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "App Service Web Apps",
            "text": "Optimize environment costs: Consider the Basic or Free tier to run pre-production environments. These tiers are low performance and low cost. If you use the Basic or Free tier, use governance to enforce the tier, constrain the number of instances and CPUs, restrict scaling, and limit log retention.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "App Service Web Apps",
            "text": "Implement design patterns: This strategy reduces the volume of requests that your workload generates. Consider using patterns like the Backends for Frontends pattern and the Gateway Aggregation pattern, which can minimize the number of requests and reduce costs.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "App Service Web Apps",
            "text": "Regularly check data-related costs: Extended data retention periods or expensive storage tiers can lead to high storage costs. More expenses can accumulate due to both bandwidth usage and prolonged retention of logging data.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "App Service Web Apps",
            "text": "Optimize deployment costs: Take advantage of deployment slots to optimize costs. The slot runs in the same compute environment as the production instance. Use them strategically for scenarios like blue-green deployments that switch between slots. This approach minimizes downtime and ensures smooth transitions.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Cost",
            "service": "App Service Web Apps",
            "text": "(App Service plan) Choose Free or Basic tiers for lower environments. We recommend these tiers for experimental use. Remove the tiers when you no longer need them.",
            "description": "The Free and Basic tiers are budget-friendly compared to higher tiers. They provide a cost-effective solution for nonproduction environments that don't need the full features and performance of premium plans.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "App Service Web Apps",
            "text": "(App Service plan) Take advantage of discounts and explore preferred pricing for:  - Lower environments with dev/test plans.  - Azure reservations and Azure savings plans for dedicated compute that you provision in the Premium V3 tier and App Service Environment.  Use reserved instances for stable workloads that have predictable usage patterns.",
            "description": "Dev/test plans provide reduced rates for Azure services, which makes them cost-effective for nonproduction environments.  Use reserved instances to prepay for compute resources and get significant discounts.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "App Service Web Apps",
            "text": "(App Service) Monitor costs that App Service resources incur. Run the cost analysis tool in the Azure portal.  Create budgets and alerts to notify stakeholders.",
            "description": "You can identify cost spikes, inefficiencies, or unexpected expenses early on. This proactive approach helps you to provide budgetary controls to prevent overspending.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "App Service Web Apps",
            "text": "(App Service plan) Scale in when demand decreases. To scale in, define scale rules to reduce the number of instances in Azure Monitor.",
            "description": "Prevent wastage and reduce unnecessary expenses.",
            "type": "recommendation"
        },
        {
            "waf": "operations",
            "service": "App Service Web Apps",
            "text": "Manage releases: Use deployment slots to manage releases effectively. You can deploy your application to a slot, perform testing, and validate its functionality. After verification, you can seamlessly move the app to production. This process doesn't incur extra costs because the slot runs in the same virtual machine (VM) environment as the production instance.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "App Service Web Apps",
            "text": "Run automated tests: Before you promote a release of your web app, thoroughly test its performance, functionality, and integration with other components. Use Azure Load Testing, which integrates with Apache JMeter, a popular tool for performance testing. Explore automated tools for other types of testing, such as Phantom for functional testing.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "App Service Web Apps",
            "text": "Deploy immutable units: Implement the Deployment Stamps pattern to compartmentalize App Service into an immutable stamp. App Service supports the use of containers, which are inherently immutable. Consider custom containers for your App Service web app.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "App Service Web Apps",
            "text": "Keep production environments safe: Create separate App Service plans to run production and pre-production environments. Don't make changes directly in the production environment to ensure stability and reliability. Separate instances allow flexibility in development and testing before you promote changes to production.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "App Service Web Apps",
            "text": "Manage certificates: For custom domains, you need to manage TLS certificates.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Operations",
            "service": "App Service Web Apps",
            "text": "(App Service) Monitor the health of your instances and activate instance health probes. Set up a specific path for handling health probe requests.",
            "description": "You can detect problems promptly and take necessary actions to maintain availability and performance.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "App Service Web Apps",
            "text": "(App Service) Enable diagnostics logs for the application and the instance.  Frequent logging can slow down the performance of the system, add to storage costs, and introduce risk if you have unsecure access to logs. Follow these best practices:  - Log the right level of information.  - Set retention policies.  - Keep an audit trail of authorized access and unauthorized attempts. - Treat logs as data and apply data-protection controls.",
            "description": "Diagnostic logs provide valuable insights into your app's behavior. Monitor traffic patterns and identify anomalies.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "App Service Web Apps",
            "text": "(App Service) Take advantage of App Service managed certificates to offload certification management to Azure.",
            "description": "App Service automatically handles processes like certificate procurement, certificate verification, certificate renewal, and importing certificates from Key Vault. Alternatively, upload your certificate to Key Vault and authorize the App Service resource provider to access it.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "App Service Web Apps",
            "text": "(App Service plan) Validate app changes in the staging slot before you swap it with the production slot.",
            "description": "Avoid downtime and errors.  Quickly revert to the last-known good state if you detect a problem after a swap.",
            "type": "recommendation"
        },
        {
            "waf": "performance",
            "service": "App Service Web Apps",
            "text": "Identify and monitor performance indicators: Set targets for the key indicators for the application, such as the volume of incoming requests, time that the application takes to respond to requests, pending requests, and errors in HTTP responses. Consider key indicators as part of the performance baseline for the workload.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "App Service Web Apps",
            "text": "Assess capacity: Simulate various user scenarios to determine the optimal capacity that you need to handle expected traffic. Use Load Testing to understand how your application behaves under different levels of load.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "App Service Web Apps",
            "text": "Select the right tier: Use dedicated compute for production workloads. Premium tiers offer larger SKUs with increased memory and CPU capacity, more instances, and more features, such as zone redundancy. For more information, see Premium V3 pricing tier.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "App Service Web Apps",
            "text": "Optimize your scaling strategy: When possible, use autoscaling instead of manually adjusting the number of instances as application load changes. With autoscaling, App Service adjusts server capacity based on predefined rules or triggers. Make sure you do adequate performance testing and set the right rules for the right triggers.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "App Service Web Apps",
            "text": "Use caching: Retrieving information from a resource that doesn't change frequently and is expensive to access affects performance. Complex queries, including joins and multiple lookups, contribute to runtime. Perform caching to minimize the processing time and latency. Cache query results to avoid repeated round trips to the database or back end and reduce processing time for subsequent requests.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "App Service Web Apps",
            "text": "Review the performance antipatterns: To make sure the web application performs and scales in accordance with your business requirements, avoid the typical antipatterns. Here are some antipatterns that App Service corrects.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Performance",
            "service": "App Service Web Apps",
            "text": "Enable the Always On setting when applications share a single App Service plan. App Service apps automatically unload when idle to save resources. The next request triggers a cold start, which can cause request timeouts.",
            "description": "The application is never unloaded with Always On enabled.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "App Service Web Apps",
            "text": "Consider using HTTP/2 for applications to improve protocol efficiency.",
            "description": "Choose HTTP/2 over HTTP/1.1 because HTTP/2 fully multiplexes connections, reuses connections to reduce overhead, and compresses headers to minimize data transfer.",
            "type": "recommendation"
        },
        {
            "waf": "reliability",
            "service": "Azure Application Gateway",
            "text": "Deploy the instances in a zone-aware configuration, where available.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Application Gateway",
            "text": "Use Application Gateway with Web Application Firewall (WAF) within a virtual network to protect inbound `HTTP/S` traffic from the Internet.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Application Gateway",
            "text": "In new deployments, use Azure Application Gateway v2 unless there is a compelling reason to use Azure Application Gateway v1.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Application Gateway",
            "text": "Plan for rule updates",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Application Gateway",
            "text": "Use health probes to detect backend unavailability",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Application Gateway",
            "text": "Review the impact of the interval and threshold settings on health probes",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Application Gateway",
            "text": "Verify downstream dependencies through health endpoints",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Reliability",
            "service": "Azure Application Gateway",
            "text": "Plan for rule updates",
            "description": "Plan enough time for updates before accessing Application Gateway or making further changes. For example, removing servers from backend pool might take some time because they have to drain existing connections.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Application Gateway",
            "text": "Use health probes to detect backend unavailability",
            "description": "If Application Gateway is used to load balance incoming traffic over multiple backend instances, we recommend the use of health probes. These will ensure that traffic is not routed to backends that are unable to handle the traffic.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Application Gateway",
            "text": "Review the impact of the interval and threshold settings on health probes",
            "description": "The health probe sends requests to the configured endpoint at a set interval. Also, there's a threshold of failed requests that will be tolerated before the backend is marked unhealthy. These numbers present a trade-off.- Setting a higher interval puts a higher load on your service. Each Application Gateway instance sends its own health probes, so 100 instances every 30 seconds means 100 requests per 30 seconds.- Setting a lower interval leaves more time before an outage is detected.- Setting a low unhealthy threshold might mean that short, transient failures might take down a backend. - Setting a high threshold it can take longer to take a backend out of rotation.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Application Gateway",
            "text": "Verify downstream dependencies through health endpoints",
            "description": "Suppose each backend has its own dependencies to ensure failures are isolated. For example, an application hosted behind Application Gateway might have multiple backends, each connected to a different database (replica). When such a dependency fails, the application might be working but won't return valid results. For that reason, the health endpoint should ideally validate all dependencies. Keep in mind that if each call to the health endpoint has a direct dependency call, that database would receive 100 queries every 30 seconds instead of 1. To avoid this, the health endpoint should cache the state of the dependencies for a short period of time.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Application Gateway",
            "text": "When using Azure Front Door and Application Gateway to protect `HTTP/S` applications, use WAF policies in Front Door and lock down Application Gateway to receive traffic only from Azure Front Door.",
            "description": "Certain scenarios can force you to implement rules specifically on Application Gateway. For example, if ModSec CRS 2.2.9, CRS 3.0 or CRS 3.1 rules are required, these rules can be only implemented on Application Gateway. Conversely, rate-limiting and geo-filtering are available only on Azure Front Door, not on AppGateway.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "Azure Application Gateway",
            "text": "Set up a TLS policy for enhanced security",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Application Gateway",
            "text": "Use AppGateway for TLS termination",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Application Gateway",
            "text": "Use Azure Key Vault to store TLS certificates",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Application Gateway",
            "text": "When re-encrypting backend traffic, ensure the backend server certificate contains both the root and intermediate Certificate Authorities (CAs)",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Application Gateway",
            "text": "Use an appropriate DNS server for backend pool resources",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Application Gateway",
            "text": "Comply with all NSG restrictions for Application Gateway",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Application Gateway",
            "text": "Refrain from using UDRs on the Application Gateway subnet",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Application Gateway",
            "text": "Be aware of Application Gateway capacity changes when enabling WAF",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "Azure Application Gateway",
            "text": "Set up a TLS policy for enhanced security",
            "description": "Set up a TLS policy for extra security. Ensure you're always using the latest TLS policy version available. This enforces TLS 1.2 and stronger ciphers.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Application Gateway",
            "text": "Use AppGateway for TLS termination",
            "description": "There are advantages of using Application Gateway for TLS termination:- Performance improves because requests going to different backends to have to re-authenticate to each backend.- Better utilization of backend servers because they don't have to perform TLS processing- Intelligent routing by accessing the request content.- Easier certificate management because the certificate only needs to be installed on Application Gateway.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Application Gateway",
            "text": "Use Azure Key Vault to store TLS certificates",
            "description": "Application Gateway can be integrated with Key Vault. This provides stronger security, easier separation of roles and responsibilities, support for managed certificates, and an easier certificate renewal and rotation process.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Application Gateway",
            "text": "When re-encrypting backend traffic, ensure the backend server certificate contains both the root and intermediate Certificate Authorities (CAs)",
            "description": "A TLS certificate of the backend server must be issued by a well-known CA. If the certificate was not issued by a trusted CA, the Application Gateway checks if the certificate was issued by a trusted CA, and so on, until a trusted CA certificate is found. Only then a secure connection is established. Otherwise, Application Gateway marks the backend as unhealthy.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Application Gateway",
            "text": "Use an appropriate DNS server for backend pool resources",
            "description": "When the backend pool contains a resolvable FQDN, the DNS resolution is based on a private DNS zone or custom DNS server (if configured on the VNet), or it uses the default Azure-provided DNS.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Application Gateway",
            "text": "Comply with all NSG restrictions for Application Gateway",
            "description": "NSGs are supported on Application Gateway subnet, but there are some restrictions. For instance, some communication with certain port ranges is prohibited. Make sure you understand the implications of those restrictions. For details, see Network security groups.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Application Gateway",
            "text": "Refrain from using UDRs on the Application gateway subnet",
            "description": "Using User Defined Routes (UDR) on the Application Gateway subnet can cause some issues. Health status in the back-end might be unknown. Application Gateway logs and metrics might not get generated. We recommend that you don't use UDRs on the Application Gateway subnet so that you can view the back-end health, logs, and metrics. If your organizations require to use UDR in the Application Gateway subnet, please ensure you review the supported scenarios. For more information, see Supported user-defined routes.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Application Gateway",
            "text": "Be aware of Application Gateway capacity changes when enabling WAF",
            "description": "When WAF is enabled, every request must be buffered by the Application Gateway until it fully arrives, checks if the request matches with any rule violation in its core rule set, and then forwards the packet to the backend instances. When there are large file uploads (30MB+ in size), it can result in a significant latency. Because Application Gateway capacity requirements are different with WAF, we do not recommend enabling WAF on Application Gateway without proper testing and validation.",
            "type": "recommendation"
        },
        {
            "waf": "cost",
            "service": "Azure Application Gateway",
            "text": "Familiarize yourself with Application Gateway pricing",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Application Gateway",
            "text": "Review underutilized resources",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Application Gateway",
            "text": "Stop Application Gateway instances that are not in use",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Application Gateway",
            "text": "Have a scale-in and scale-out policy",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Application Gateway",
            "text": "Review consumption metrics across different parameters",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Cost",
            "service": "Azure Application Gateway",
            "text": "Familiarize yourself with Application Gateway pricing",
            "description": "For information about Application Gateway pricing, see Understanding Pricing for Azure Application Gateway and Web Application Firewall. You can also leverage the Pricing calculator.Ensure that the options are adequately sized to meet the capacity demand and deliver expected performance without wasting resources.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Application Gateway",
            "text": "Review underutilized resources",
            "description": "Identify and delete Application Gateway instances with empty backend pools to avoid unnecessary costs.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Application Gateway",
            "text": "Stop Application Gateway instances when not in use",
            "description": "You aren't billed when Application Gateway is in the stopped state. Continuously running Application Gateway instances can incur extraneous costs. Evaluate usage patterns and stop instances when you don't need them. For example, usage after business hours in Dev/Test environments is expected to be low.See these articles for information about how to stop and start instances.- Stop-AzApplicationGateway- Start-AzApplicationGateway",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Application Gateway",
            "text": "Have a scale-in and scale-out policy",
            "description": "A scale-out policy ensures that there will be enough instances to handle incoming traffic and spikes. Also, have a scale-in policy that makes sure the number of instances are reduced when demand drops. Consider the choice of instance size. The size can significantly impact the cost. Some considerations are described in the Estimate the Application Gateway instance count.For more information, see What is Azure Application Gateway v2?",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Application Gateway",
            "text": "Review consumption metrics across different parameters",
            "description": "You're billed based on metered instances of Application Gateway based on the metrics tracked by Azure. Evaluate the various metrics and capacity units and determine the cost drivers. For more information, see Microsoft Cost Management and Billing. The following metrics are key for Application Gateway. This information can be used to validate that the provisioned instance count matches the amount of incoming traffic.- Estimated Billed Capacity Units- Fixed Billable Capacity Units- Current Capacity UnitsFor more information, see Application Gateway metrics.Make sure you account for bandwidth costs.",
            "type": "recommendation"
        },
        {
            "waf": "operations",
            "service": "Azure Application Gateway",
            "text": "Monitor capacity metrics",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Application Gateway",
            "text": "Enable diagnostics on Application Gateway and Web Application Firewall (WAF)",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Application Gateway",
            "text": "Use Azure Monitor Network Insights",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Application Gateway",
            "text": "Match timeout settings with the backend application",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Application Gateway",
            "text": "Monitor Key Vault configuration issues using Azure Advisor",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Application Gateway",
            "text": "Configure and monitor SNAT port limitations",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Application Gateway",
            "text": "Consider SNAT port limitations in your design",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Operations",
            "service": "Azure Application Gateway",
            "text": "Monitor capacity metrics",
            "description": "Use these metrics as indicators of utilization of the provisioned Application Gateway capacity. We strongly recommend setting up alerts on capacity. For details, see Application Gateway high traffic support.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Application Gateway",
            "text": "Troubleshoot using metrics",
            "description": "There are other metrics that can indicate issues either at Application Gateway or the backend. We recommend evaluating the following alerts:- Unhealthy Host Count- Response Status (dimension 4xx and 5xx)- Backend Response Status (dimension 4xx and 5xx)- Backend Last Byte Response Time- Application Gateway Total TimeFor more information, see Metrics for Application Gateway.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Application Gateway",
            "text": "Enable diagnostics on Application Gateway and Web Application Firewall (WAF)",
            "description": "Diagnostic logs allow you to view firewall logs, performance logs, and access logs. Use these logs to manage and troubleshoot issues with Application Gateway instances. For more information, see Back-end health and diagnostic logs for Application Gateway.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Application Gateway",
            "text": "Use Azure Monitor Network Insights",
            "description": "Azure Monitor Network Insights provides a comprehensive view of health and metrics for network resources, including Application Gateway. For additional details and supported capabilities for Application Gateway, see Azure Monitor Network insights.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Application Gateway",
            "text": "Match timeout settings with the backend application",
            "description": "Ensure you have configured the IdleTimeout settings to match the listener and traffic characteristics of the backend application. The default value is set to four minutes and can be configured to a maximum of 30. For more information, see Load Balancer TCP Reset and Idle Timeout.For workload considerations, see Monitoring application health for reliability.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Application Gateway",
            "text": "Monitor Key Vault configuration issues using Azure Advisor",
            "description": "Application Gateway checks for the renewed certificate version in the linked Key Vault at every 4-hour interval. If it is inaccessible due to any incorrect Key Vault configuration, it logs that error and pushes a corresponding Advisor recommendation. You must configure the Advisor alerts to stay updated and fix such issues immediately to avoid any Control or Data plane related problems. For more information, see Investigating and resolving key vault errors. To set an alert for this specific case, use the Recommendation Type as Resolve Azure Key Vault issue for your Application Gateway.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Application Gateway",
            "text": "Consider SNAT port limitations in your design",
            "description": "SNAT port limitations are important for backend connections on the Application Gateway. There are separate factors that affect how Application Gateway reaches the SNAT port limit. For example, if the backend is a public IP address, it will require its own SNAT port. In order to avoid SNAT port limitations, you can increase the number of instances per Application Gateway, scale out the backends to have more IP addresses, or move your backends into the same virtual network and use private IP addresses for the backends.Requests per second (RPS) on the Application Gateway will be affected if the SNAT port limit is reached. For example, if an Application Gateway reaches the SNAT port limit, then it won't be able to open a new connection to the backend, and the request will fail.",
            "type": "recommendation"
        },
        {
            "waf": "performance",
            "service": "Azure Application Gateway",
            "text": "Estimate the Application Gateway instance count",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Application Gateway",
            "text": "Define the maximum instance count",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Application Gateway",
            "text": "Define the minimum instance count",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Application Gateway",
            "text": "Define Application Gateway subnet size",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Application Gateway",
            "text": "Take advantage of Application Gateway V2 features for autoscaling and performance benefits",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Performance",
            "service": "Azure Application Gateway",
            "text": "Define the minimum instance count",
            "description": "For Application Gateway v2 SKU, autoscaling takes some time (approximately six to seven minutes) before the additional set of instances is ready to serve traffic. During that time, if there are short spikes in traffic, expect transient latency or loss of traffic.We recommend that you set your minimum instance count to an optimal level. After you estimate the average instance count and determine your Application Gateway autoscaling trends, define the minimum instance count based on your application patterns. For information, see Application Gateway high traffic support.Check the Current Compute Units for the past one month. This metric represents the gateway's CPU utilization. To define the minimum instance count, divide the peak usage by 10. For example, if your average Current Compute Units in the past month is 50, set the minimum instance count to five.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Application Gateway",
            "text": "Define the maximum instance count",
            "description": "We recommend 125 as the maximum autoscale instance count. Make sure the subnet that has the Application Gateway has sufficient available IP addresses to support the scale-up set of instances.Setting the maximum instance count to 125 has no cost implications because you're billed only for the consumed capacity.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Application Gateway",
            "text": "Define Application Gateway subnet size",
            "description": "Application Gateway needs a dedicated subnet within a virtual network. The subnet can have multiple instances of the deployed Application Gateway resource. You can also deploy other Application Gateway resources in that subnet, v1 or v2 SKU.Here are some considerations for defining the subnet size:- Application Gateway uses one private IP address per instance and another private IP address if a private front-end IP is configured.- Azure reserves five IP addresses in each subnet for internal use.- Application Gateway (Standard or WAF SKU) can support up to 32 instances. Taking 32 instance IP addresses + 1 private front-end IP + 5 Azure reserved, a minimum subnet size of /26 is recommended. Because the Standard_v2 or WAF_v2 SKU can support up to 125 instances, using the same calculation, a subnet size of /24 is recommended.- If you want to deploy additional Application Gateway resources in the same subnet, consider the additional IP addresses that will be required for their maximum instance count for both, Standard and Standard v2.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Application Gateway",
            "text": "Take advantage of features for autoscaling and performance benefits",
            "description": "The v2 SKU offers autoscaling to ensure that your Application Gateway can scale up as traffic increases. When compared to v1 SKU, v2 has capabilities that enhance the performance of the workload. For example, better TLS offload performance, quicker deployment and update times, zone redundancy, and more. For more information about autoscaling features, see Scaling Application Gateway v2 and WAF v2.If you are running v1 SKU Application gateway, consider migrating to the Application gateway v2 SKU. For more information, see Migrate Azure Application Gateway and Web Application Firewall from v1 to v2.",
            "type": "recommendation"
        },
        {
            "waf": "reliability",
            "service": "Azure Blob Storage",
            "text": "Use failure mode analysis: Minimize points of failure by considering internal dependencies such as the availability of virtual networks, Azure Key Vault, or Azure Content Delivery Network or Azure Front Door endpoints. Failures can occur if credentials required by workloads to access Blob Storage go missing from Key Vault, or if workloads use an endpoint based on a content delivery network that's removed. In these cases, workloads might need to use an alternative endpoint to connect. For general information about failure mode analysis, see Recommendations for performing failure mode analysis.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Blob Storage",
            "text": "Define reliability and recovery targets: Review the Azure service-level agreements (SLAs). Derive the service-level objective (SLO) for the storage account. For example, the SLO might be affected by the redundancy configuration that you chose. Consider the effect of a regional outage, the potential for data loss, and the time required to restore access after an outage. Also consider the availability of any internal dependencies that you identified as part of your failure mode analysis.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Blob Storage",
            "text": "Configure data redundancy: For maximum durability, choose a configuration that copies data across availability zones or global regions. For maximum availability, choose a configuration that allows clients to read data from the secondary region during an outage of the primary region.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Blob Storage",
            "text": "Design applications: Design applications to seamlessly shift to reading data from the secondary region if the primary region becomes unavailable for any reason. This only applies to geo-redundant storage (GRS) and geo-zone-redundant storage (GZRS) configurations. Designing applications to handle outages reduces downtime for end users.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Blob Storage",
            "text": "Explore features to help you meet your recovery targets: Make blobs restorable so that they can be recovered if they're corrupted, edited, or deleted by mistake.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Blob Storage",
            "text": "Create a recovery plan: Consider data protection features, backup and restore operations, or failover procedures. Prepare for potential data loss and data inconsistencies and the time and cost of failing over. For more information, see Recommendations for designing a disaster recovery strategy.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Blob Storage",
            "text": "Monitor potential availability problems: Subscribe to the Azure Service Health dashboard to monitor potential availability problems. Use storage metrics in Azure Monitor and diagnostic logs to investigate alerts.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Reliability",
            "service": "Azure Blob Storage",
            "text": "Configure your account for redundancy. For maximum availability and durability, configure your account by using zone-redundant storage (ZRS) or GZRS.",
            "description": "Redundancy protects your data against unexpected failures. The ZRS and GZRS configuration options replicate across different availability zones and enable applications to continue reading data during an outage. For more information, see Durability and availability by outage scenario and Durability and availability parameters.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Blob Storage",
            "text": "Before initiating a failover or failback, evaluate the potential for data loss by checking the value of the last synchronization time property. This recommendation applies only to GRS and GZRS configurations.",
            "description": "This property helps you estimate how much data you might lose by initiating an account failover. All data and metadata written before the last synchronization time is available on the secondary region, but data and metadata written after the last synchronization time might be lost because it's not written to the secondary region.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Blob Storage",
            "text": "As a part of your backup and recovery strategy, enable the container soft delete, blob soft delete, versioning, and point-in-time restore options.",
            "description": "The soft delete option enables a storage account to recover deleted containers and blobs. The versioning option automatically tracks changes made to blobs. This option lets you restore a blob to a previous state.The point-in-time restore option protects against accidental blob deletion or corruption and lets you restore block blob data to an earlier state. For more information, see Data protection overview.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "Azure Blob Storage",
            "text": "Review the security baseline for Azure Storage: To get started, first review the security baseline for Storage.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Blob Storage",
            "text": "Use network controls to restrict ingress and egress traffic: Disable all public traffic to the storage account. Use account network controls to grant the minimal level of access required by users and applications. For more information, see How to approach network security for your storage account.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Blob Storage",
            "text": "Reduce the attack surface: Preventing anonymous access, account key access, or access over non-secure (HTTP) connections can reduce the attack surface. Require clients to send and receive data by using the latest version of the Transport Layer Security (TLS) protocol.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Blob Storage",
            "text": "Authorize access without using passwords or keys: Microsoft Entra ID provides superior security and ease of use compared to shared keys and shared access signatures. Grant security principals only those permissions that are necessary for them to do their tasks.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Blob Storage",
            "text": "Protect sensitive information: Protect sensitive information such as account keys and shared access signature tokens. While these forms of authorization are generally not recommended, you should make sure to rotate, expire, and store them securely.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Blob Storage",
            "text": "Enable the secure transfer required option: Enabling this setting for all your storage accounts ensures that all requests made against the storage account must take place over secure connections. Any requests made over HTTP fail.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Blob Storage",
            "text": "Protect critical objects: Apply immutability policies to protect critical objects. Policies protect blobs that are stored for legal, compliance, or other business purposes from being modified or deleted. Configure holds for set time periods or until restrictions are lifted by an administrator.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Blob Storage",
            "text": "Detect threats: Enable Microsoft Defender for Storage to detect threats. Security alerts are triggered when anomalies in activity occur. The alerts notify subscription administrators via email with details of suspicious activity and recommendations on how to investigate and remediate threats.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "Azure Blob Storage",
            "text": "Disable anonymous read access to containers and blob.",
            "description": "When anonymous access is allowed for a storage account, a user that has the appropriate permissions can modify a container's anonymous access setting to enable anonymous access to the data in that container.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Blob Storage",
            "text": "Apply an Azure Resource Manager lock on the storage account.",
            "description": "Locking an account prevents it from being deleted and causing data loss.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Blob Storage",
            "text": "Disable traffic to the public endpoints of your storage account. Create private endpoints for clients that run in Azure. Enable the public endpoint only if clients and services external to Azure require direct access to your storage account. Enable firewall rules that limit access to specific virtual networks.",
            "description": "Start with zero access and then incrementally authorize the lowest levels of access required for clients and services to minimize the risk of creating unnecessary openings for attackers.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Blob Storage",
            "text": "Authorize access by using Azure role-based access control (RBAC).",
            "description": "With RBAC, there are no passwords or keys that can be compromised. The security principal (user, group, managed identity, or service principal) is authenticated by Microsoft Entra ID to return an OAuth 2.0 token. The token is used to authorize a request against the Blob Storage service.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Blob Storage",
            "text": "Disallow shared key authorization. This disables not only account key access but also service and account shared access signature tokens because they're based on account keys.",
            "description": "Only secured requests that are authorized with Microsoft Entra ID are permitted.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Blob Storage",
            "text": "We recommend that you don't use an account key. If you must use account keys, then store them in Key Vault, and make sure that you regenerate them periodically.",
            "description": "Key Vault lets you retrieve keys at runtime, instead of saving them by using your application. Key Vault also makes it easy to rotate your keys without interruption to your applications. Rotating the account keys periodically reduces the risk of exposing your data to malicious attacks.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Blob Storage",
            "text": "We recommend that you don't use shared access signature tokens. Evaluate whether you need shared access signature tokens to secure access to Blob Storage resources. If you must create one, then review this list of shared access signature best practices before you create and distribute it.",
            "description": "Best practices can help you prevent a shared access signature token from being leaked and quickly recover if a leak does occur.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Blob Storage",
            "text": "Configure your storage account so clients can send and receive data by using the minimum version of TLS 1.2.",
            "description": "TLS 1.2 is more secure and faster than TLS 1.0 and 1.1, which don't support modern cryptographic algorithms and cipher suites.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Blob Storage",
            "text": "Consider using your own encryption key to protect the data in your storage account. For more information, see Customer-managed keys for Azure Storage encryption.",
            "description": "Customer-managed keys provide greater flexibility and control. For example, you can store encryption keys in Key Vault and automatically rotate them.",
            "type": "recommendation"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Identify the meters that are used to calculate your bill: Meters are used to track the amount of data stored in the account (data capacity) and the number and type of operations that are performed to write and read data. There are also meters associated with the use of optional features such as blob index tags, blob inventory, change feed support, encryption scopes, and SSH File Transfer Protocol (SFTP) support. For more information, see How you're charged for Blob Storage.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Understand the price of each meter: Make sure to use the appropriate pricing page and apply the appropriate settings in that page. For more information, see Finding the unit price for each meter. Consider the number of operations associated with each price. For example, the price associated with write and read operations applies to 10,000 operations. To determine the price of an individual operation, divide the listed price by 10,000.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Estimate the cost of capacity and operations: You can model the costs associated with data storage, ingress, and egress by using the Azure pricing calculator. Use fields to compare the cost associated with various regions, account types, namespace types, and redundancy configurations. For certain scenarios, you can use sample calculations and worksheets available in Microsoft documentation. For example, you can estimate the cost of archiving data or estimate the cost of using the AzCopy command to transfer blobs.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Choose a billing model for capacity: Evaluate whether using a commitment-based model is more cost-efficient than using a consumption-based model. If you're unsure about how much capacity you need, you can start with a consumption-based model, monitor the capacity metrics, and then evaluate later.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Choose an account type, a redundancy level, and a default access tier: You must select a value for each of these settings when you create a storage account. All the values affect transaction charges and capacity charges. All these settings except for the account type can be changed after the account is created.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Choose the most cost-effective default access tier: Unless a tier is specified with each blob upload, blobs infer their access tier from the default access tier setting. A change to the default access tier setting of a storage account applies to all blobs in the account for which an access tier hasn't been explicitly set. This cost could be significant if you've collected a large number of blobs. For more information about how a tier change affects each existing blob, see Changing a blob's access tier.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Upload data directly to the most cost-efficient access tier: For example, if the default access tier setting of your account is hot, but you're uploading files for archiving purposes, specify a cooler tier as the archive or a cold tier as part of your upload operation. After uploading blobs, use lifecycle management policies to move blobs to the most cost-efficient tiers based on usage metrics such as the last accessed time. Choosing the most optimal tier up front can reduce costs. If you change the tier of a block blob that you already uploaded, then you pay the cost of writing to the initial tier when you first upload the blob, and then pay the cost of writing to the desired tier.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Have a plan for managing the data lifecycle: Optimize transaction and capacity costs by taking advantage of access tiers and lifecycle management. Data used less often should be placed in cooler access tiers while data that's accessed often should be placed in warmer access tiers.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Decide which features you need: Some features such as versioning and blob soft delete incur additional transaction and capacity costs as well as other charges. Make sure to review the pricing and billing sections in articles that describe those capabilities when you choose which capabilities to add to your account.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Create guardrails: Create budgets based on subscriptions and resource groups. Use governance policies to restrict resource types, configurations, and locations. Additionally, use RBAC to block actions that can lead to overspending.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Monitor costs: Ensure costs stay within budgets, compare costs against forecasts, and see where overspending occurs. You can use the cost analysis pane in the Azure portal to monitor costs. You also can export cost data to a storage account and analyze that data by using Excel or Power BI.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Blob Storage",
            "text": "Monitor usage: Continuously monitor usage patterns and detect unused or underutilized accounts and containers. Use Storage insights to identity accounts with no or low use. Enable blob inventory reports, and use tools such as Azure Databricks or Azure Synapse Analytics and Power BI to analyze cost data. Watch out for unexpected increases in capacity, which might indicate that you're collecting numerous log files, blob versions, or soft-deleted blobs. Develop a strategy for expiring or transitioning objects to more cost-effective access tiers.Have a plan for expiring objects or moving objects to more affordable access tiers.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Cost",
            "service": "Azure Blob Storage",
            "text": "Pack small files into larger files before moving them to cooler tiers. You can use file formats such as TAR or ZIP.",
            "description": "Cooler tiers have higher data transfer costs. By having fewer large files, you can reduce the number of operations required to transfer data.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Blob Storage",
            "text": "Use standard-priority rehydration when rehydrating blobs from archive storage. Use high-priority rehydration only for emergency data restoration situations. For more information, see Rehydrate an archived blob to an online tier",
            "description": "High-priority rehydration from the archive tier can lead to higher-than-normal bills.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Blob Storage",
            "text": "Reduce the cost of using resource logs by choosing the appropriate log storage location and by managing log-retention periods. If you only plan to query logs occasionally (for example, querying logs for compliance auditing), consider sending resource logs to a storage account instead of sending them to an Azure Monitor Logs workspace. You can use a serverless query solution such as Azure Synapse Analytics to analyze logs. For more information, see Optimize cost for infrequent queries. Use lifecycle management policies to delete or archive logs.",
            "description": "Storing resource logs in a storage account for later analysis can be a cheaper option. Using lifecycle management policies to manage log retention in a storage account prevents large numbers of logs files building up over time, which can lead to unnecessary capacity charges.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Blob Storage",
            "text": "If you enable versioning, use a lifecycle management policy to automatically delete old blob versions.",
            "description": "Every write operation to a blob creates a new version. This increases capacity costs. You can keep costs in check by removing versions that you no longer need.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Blob Storage",
            "text": "If you enable versioning, then place blobs that are frequently overwritten into an account that doesn't have versioning enabled.",
            "description": "Every time a blob is overwritten, a new version is added which leads to increased storage capacity charges. To reduce capacity charges, store frequently overwritten data in a separate storage account with versioning disabled.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Blob Storage",
            "text": "If you enable soft delete, then place blobs that are frequently overwritten into an account that doesn't have soft delete enabled. Set retention periods. Consider starting with a short retention period to better understand how the feature affects your bill. The minimum recommended retention period is seven days.",
            "description": "Every time a blob is overwritten, a new snapshot is created. The cause of increased capacity charges might be difficult to access because the creation of these snapshots doesn't appear in logs. To reduce capacity charges, store frequently overwritten data in a separate storage account with soft delete disabled. A retention period keeps soft-deleted blobs from piling up and adding to the cost of capacity.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Blob Storage",
            "text": "Enable SFTP support only when it's used to transfer data.",
            "description": "Enabling the SFTP endpoint incurs an hourly cost. By thoughtfully disabling SFTP support, and then enabling it as needed, you can avoid passive charges from accruing in your account.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Blob Storage",
            "text": "Disable any encryption scopes that aren't needed to avoid unnecessary charges.",
            "description": "Encryptions scopes incur a per month charge.",
            "type": "recommendation"
        },
        {
            "waf": "operations",
            "service": "Azure Blob Storage",
            "text": "Create maintenance and emergency recovery plans: Consider data protection features, backup and restore operations, and failover procedures. Prepare for potential data loss and data inconsistencies and the time and cost of failing over.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Blob Storage",
            "text": "Monitor the health of your storage account: Create Storage insights dashboards to monitor availability, performance, and resilience metrics. Set up alerts to identify and address problems in your system before your customers notice them. Use diagnostic settings to route resource logs to an Azure Monitor Logs workspace. Then you can query logs to investigate alerts more deeply.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Blob Storage",
            "text": "Enable blob inventory reports: Enable blob inventory reports to review the retention, legal hold, or encryption status of your storage account contents. You can also use blob inventory reports to understand the total data size, age, tier distribution, or other attributes of your data. Use tools such as Azure Databricks or Azure Synapse Analytics and Power BI to better visualize inventory data and to create reports for stakeholders.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Blob Storage",
            "text": "Set up policies that delete blobs or move them to cost-efficient access tiers: Create a lifecycle management policy with an initial set of conditions. Policy runs automatically delete or set the access tier of blobs based on the conditions you define. Periodically analyze container use by using Monitor metrics and blob inventory reports so that you can refine conditions to optimize cost efficiency.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Operations",
            "service": "Azure Blob Storage",
            "text": "Use infrastructure as code (IaC) to define the details of your storage accounts in Azure Resource Manager templates (ARM templates), Bicep, or Terraform.",
            "description": "You can use your existing DevOps processes to deploy new storage accounts, and use Azure Policy to enforce their configuration.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Blob Storage",
            "text": "Use Storage insights to track the health and performance of your storage accounts. Storage insights provides a unified view of the failures, performance, availability, and capacity for all your storage accounts.",
            "description": "You can track the health and operation of each of your accounts. Easily create dashboards and reports that stakeholders can use to track the health of your storage accounts.",
            "type": "recommendation"
        },
        {
            "waf": "performance",
            "service": "Azure Blob Storage",
            "text": "Plan for scale: Understand the scale targets for storage accounts.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Blob Storage",
            "text": "Choose the optimal storage account type: If your workload requires high transaction rates, smaller objects, and a consistently low transaction latency, then consider using premium block blob storage accounts. A standard general-purpose v2 account is most appropriate in most cases.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Blob Storage",
            "text": "Reduce travel distance between the client and server: Place data in regions nearest to connecting clients (ideally in the same region). Optimize for clients in regions far away by using object replication or a content delivery network. Default network configurations provide the best performance. Modify network settings only to improve security. In general, network settings don't decrease travel distance and don't improve performance.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Blob Storage",
            "text": "Choose an efficient naming scheme: Decrease the latency of listing, list, query, and read operations by using hash tag prefixes nearest the beginning of the blob partition key (account, container, virtual directory, or blob name). This scheme benefits mostly accounts that have a flat namespace.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Blob Storage",
            "text": "Optimize the performance of data clients: Choose a data transfer tool that's most appropriate for the data size, transfer frequency, and bandwidth of your workloads. Some tools such as AzCopy are optimized for performance and require little intervention. Consider the factors that influence latency, and fine-tune performance by reviewing the performance optimization guidance that's published with each tool.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Blob Storage",
            "text": "Optimize the performance of custom code: Consider using Storage SDKs instead of creating your own wrappers for blob REST operations. Azure SDKs are optimized for performance and provide mechanisms to fine-tune performance. Before creating an application, review the performance and scalability checklist for Blob Storage. Consider using query acceleration to filter out unwanted data during the storage request and keep clients from needlessly transferring data across the network.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Blob Storage",
            "text": "Collect performance data: Monitor your storage account to identify performance bottlenecks that occur from throttling. For more information, see Monitoring your storage service with Monitor Storage insights. Use both metrics and logs. Metrics provide numbers such as throttling errors. Logs describe activity. If you see throttling metrics, you can use logs to identity which clients are receiving throttling errors. For more information, see Auditing data plane operations.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Performance",
            "service": "Azure Blob Storage",
            "text": "Provision storage accounts in the same region where dependent resources are placed. For applications that aren't hosted on Azure, such as mobile device apps or on-premises enterprise services, locate the storage account in a region nearer to those clients. For more information, see Azure geographies.If clients from a different region don't require the same data, then create a separate account in each region.If clients from a different region require only some data, consider using an object-replication policy to asynchronously copy relevant objects to a storage account in the other region.",
            "description": "Reducing the physical distance between the storage account and VMs, services, and on-premises clients can improve performance and reduce network latency. Reducing the physical distance also reduces cost for applications hosted in Azure because bandwidth usage within a single region is free.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Blob Storage",
            "text": "For broad consumption by web clients (streaming video, audio, or static website content), consider using a content delivery network through Azure Front Door.",
            "description": "Content is delivered to clients faster because it uses the Microsoft global edge network with hundreds of global and local points of presence around the world.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Blob Storage",
            "text": "Add a hash character sequence (such as three digits) as early as possible in the partition key of a blob. The partition key is the account name, container name, virtual directory name, and blob name. If you plan to use timestamps in names, then consider adding a seconds value to the beginning of that stamp. For more information, see Partitioning.",
            "description": "Using a hash code or seconds value nearest the beginning of a partition key reduces the time required to list query and read blobs.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Blob Storage",
            "text": "When uploading blobs or blocks, use a blob or block size that's greater than 256 KiB.",
            "description": "Blob or block sizes above 256 KiB takes advantage of performance enhancements in the platform made specifically for larger blobs and block sizes.",
            "type": "recommendation"
        },
        {
            "waf": "reliability",
            "service": "Azure Expressroute",
            "text": "Select between ExpressRoute circuit or ExpressRoute Direct for business requirements.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Expressroute",
            "text": "Configure Active-Active ExpressRoute connections between on-premises and Azure.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Expressroute",
            "text": "Set up availability zone aware ExpressRoute Virtual Network Gateways.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Expressroute",
            "text": "Configure ExpressRoute Virtual Network Gateways in different regions.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Expressroute",
            "text": "Configure site-to-site VPN as a backup to ExpressRoute private peering.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Expressroute",
            "text": "Configure service health to receive ExpressRoute circuit maintenance notification.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Reliability",
            "service": "Azure Expressroute",
            "text": "Plan for ExpressRoute circuit or ExpressRoute Direct",
            "description": "During the initial planning phase, you want to decide whether you want to configure an ExpressRoute circuit or an ExpressRoute Direct connection. An ExpressRoute circuit allows a private dedicated connection into Azure with the help of a connectivity provider. ExpressRoute Direct allows you to extend on-premises network directly into the Microsoft network at a peering location. You also need to identify the bandwidth requirement and the SKU type requirement for your business needs.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Expressroute",
            "text": "Physical layer diversity",
            "description": "For better resiliency, plan to have multiple paths between the on-premises edge and the peering locations (provider/Microsoft edge locations). This configuration can be achieved by going through different service provider or through a different location from the on-premises network.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Expressroute",
            "text": "Plan for geo-redundant circuits",
            "description": "To plan for disaster recovery, set up ExpressRoute circuits in more than one peering locations. You can create circuits in peering locations in the same metro or different metro and choose to work with different service providers for diverse paths through each circuit. For more information, see Designing for disaster recovery and Designing for high availability.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Expressroute",
            "text": "Plan for Active-Active connectivity",
            "description": "ExpressRoute dedicated circuits guarantee `99.95%` availability when an active-active connectivity is configured between on-premises and Azure. This mode provides higher availability of your Expressroute connection. It's also recommended to configure BFD for faster failover if there's a link failure on a connection.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Expressroute",
            "text": "Planning for Virtual Network Gateways",
            "description": "Create availability zone aware Virtual Network Gateway for higher resiliency and plan for Virtual Network Gateways in different region for disaster recovery and high availability.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Expressroute",
            "text": "Monitor circuits and gateway health",
            "description": "Set up monitoring and alerts for ExpressRoute circuits and Virtual Network Gateway health based on various metrics available.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Expressroute",
            "text": "Enable service health",
            "description": "ExpressRoute uses service health to notify about planned and unplanned maintenance. Configuring service health will notify you about changes made to your ExpressRoute circuits.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "Azure Expressroute",
            "text": "Configure Activity log to send logs to archive.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Expressroute",
            "text": "Maintain an inventory of administrative accounts with access to ExpressRoute resources.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Expressroute",
            "text": "Configure MD5 hash on ExpressRoute circuit.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Expressroute",
            "text": "Configure MACSec for ExpressRoute Direct resources.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Expressroute",
            "text": "Encrypt traffic over private peering and Microsoft peering for virtual network traffic.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "Azure Expressroute",
            "text": "Configure Activity log to send logs to archive",
            "description": "Activity logs provide insights into operations that were performed at the subscription level for ExpressRoute resources. With Activity logs, you can determine who and when an operation was performed at the control plane. Data retention is only 90 days and required to be stored in Log Analytics, Event Hubs or a storage account for archive.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Expressroute",
            "text": "Maintain inventory of administrative accounts",
            "description": "Use Azure RBAC to configure roles to limit user accounts that can add, update, or delete peering configuration on an ExpressRoute circuit.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Expressroute",
            "text": "Configure MD5 hash on ExpressRoute circuit",
            "description": "During configuration of private peering or Microsoft peering, apply an MD5 hash to secure messages between the on-premises route and the MSEE routers.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Expressroute",
            "text": "Configure MACSec for ExpressRoute Direct resources",
            "description": "Media Access Control security is a point-to-point security at the data link layer. ExpressRoute Direct supports configuring MACSec to prevent security threats to protocols such as ARP, DHCP, LACP not normally secured on the Ethernet link. For more information on how to configure MACSec, see MACSec for ExpressRoute Direct ports.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Expressroute",
            "text": "Encrypt traffic using IPsec",
            "description": "Configure a Site-to-site VPN tunnel over your ExpressRoute circuit to encrypt data transferring between your on-premises network and Azure virtual network. You can configure a tunnel using private peering or using Microsoft peering.",
            "type": "recommendation"
        },
        {
            "waf": "cost",
            "service": "Azure Expressroute",
            "text": "Familiarize yourself with ExpressRoute pricing.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Expressroute",
            "text": "Determine the ExpressRoute circuit SKU and bandwidth required.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Expressroute",
            "text": "Determine the ExpressRoute virtual network gateway size required.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Expressroute",
            "text": "Monitor cost and create budget alerts.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Expressroute",
            "text": "Deprovision ExpressRoute circuits no longer in use.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Cost",
            "service": "Azure Expressroute",
            "text": "Familiarize yourself with ExpressRoute pricing",
            "description": "For information about ExpressRoute pricing, see Understand pricing for Azure ExpressRoute. You can also use the Pricing calculator.Ensure that the options are adequately sized to meet the capacity demand and deliver expected performance without wasting resources.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Expressroute",
            "text": "Determine SKU and bandwidth required",
            "description": "The way you're charged for your ExpressRoute usage varies between the three different SKU types. With Local SKU, you're automatically charged with an Unlimited data plan. With Standard and Premium SKU, you can select between a Metered or an Unlimited data plan. All ingress data are free of charge except when using the Global Reach add-on. It's important to understand which SKU types and data plan works best for your workload to best optimize cost and budget. For more information resizing ExpressRoute circuit, see upgrading ExpressRoute circuit bandwidth.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Expressroute",
            "text": "Determine the ExpressRoute virtual network gateway size",
            "description": "ExpressRoute virtual network gateways are used to pass traffic into a virtual network over private peering. Review the performance and scale needs of your preferred Virtual Network Gateway SKU. Select the appropriate gateway SKU on your on-premises to Azure workload.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Expressroute",
            "text": "Monitor cost and create budget alerts",
            "description": "Monitor the cost of your ExpressRoute circuit and create alerts for spending anomalies and overspending risks. For more information, see Monitoring ExpressRoute costs.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Expressroute",
            "text": "Deprovision and delete ExpressRoute circuits no longer in use.",
            "description": "ExpressRoute circuits are charged from the moment they're created. To reduce unnecessary cost, deprovision the circuit with the service provider and delete the ExpressRoute circuit from your subscription. For steps on how to remove an ExpressRoute circuit, see Deprovisioning an ExpressRoute circuit.",
            "type": "recommendation"
        },
        {
            "waf": "operations",
            "service": "Azure Expressroute",
            "text": "Configure connection monitoring between your on-premises and Azure network.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Expressroute",
            "text": "Configure Service Health for receiving notification.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Expressroute",
            "text": "Review metrics and dashboards available through ExpressRoute Insights using Network Insights.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Expressroute",
            "text": "Review ExpressRoute resource metrics.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Operations",
            "service": "Azure Expressroute",
            "text": "Configure connection monitoring",
            "description": "Connection monitoring allows you to monitor connectivity between your on-premises resources and Azure over the ExpressRoute private peering and Microsoft peering connection. Connection monitor can detect networking issues by identifying where along the network path the problem is and help you quickly resolve configuration or hardware failures.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Expressroute",
            "text": "Configure Service Health",
            "description": "Set up Service Health notifications to alert when planned and upcoming maintenance is happening to all ExpressRoute circuits in your subscription. Service Health also displays past maintenance along with RCA if an unplanned maintenance were to occur.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Expressroute",
            "text": "Review metrics with Network Insights",
            "description": "ExpressRoute Insights with Network Insights allow you to review and analyze ExpressRoute circuits, gateways, connections metrics and health dashboards. ExpressRoute Insights also provide a topology view of your ExpressRoute connections where you can view details of your peering components all in a single place.Metrics available:- Availability- Throughput- Gateway metrics",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Expressroute",
            "text": "Review ExpressRoute resource metrics",
            "description": "ExpressRoute uses Azure Monitor to collect metrics and create alerts base on your configuration. Metrics are collected for ExpressRoute circuits, ExpressRoute gateways, ExpressRoute gateway connections, and ExpressRoute Direct. These metrics are useful for diagnosing connectivity problems and understanding the performance of your ExpressRoute connection.",
            "type": "recommendation"
        },
        {
            "waf": "performance",
            "service": "Azure Expressroute",
            "text": "Test ExpressRoute gateway performance to meet work load requirements.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Expressroute",
            "text": "Increase the size of the ExpressRoute gateway.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Expressroute",
            "text": "Upgrade the ExpressRoute circuit bandwidth.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Expressroute",
            "text": "Enable ExpressRoute FastPath for higher throughput.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Expressroute",
            "text": "Monitor the ExpressRoute circuit and gateway metrics.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Performance",
            "service": "Azure Expressroute",
            "text": "Test ExpressRoute gateway performance to meet work load requirements.",
            "description": "Use Azure Connectivity Toolkit to test performance across your ExpressRoute circuit to understand bandwidth capacity and latency of your network connection.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Expressroute",
            "text": "Increase the size of the ExpressRoute gateway.",
            "description": "Upgrade to a higher gateway SKU for improved throughput performance between on-premises and Azure environment.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Expressroute",
            "text": "Upgrade ExpressRoute circuit bandwidth",
            "description": "Upgrade your circuit bandwidth to meet your work load requirements. Circuit bandwidth is shared between all virtual networks connected to the ExpressRoute circuit. Depending on your work load, one or more virtual networks can use up all the bandwidth on the circuit.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Expressroute",
            "text": "Enable ExpressRoute FastPath for higher throughput",
            "description": "If you're using an Ultra performance or an ErGW3AZ virtual network gateway, you can enable FastPath to improve the data path performance between your on-premises network and Azure virtual network.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Expressroute",
            "text": "Monitor ExpressRoute circuit and gateway metrics",
            "description": "Set up alerts base on ExpressRoute metrics to proactively notify you when a certain threshold is met. These metrics are useful to understand anomalies that can happen with your ExpressRoute connection such as outages and maintenance happening to your ExpressRoute circuits.",
            "type": "recommendation"
        },
        {
            "waf": "reliability",
            "service": "Azure Files",
            "text": "Use failure mode analysis: Minimize points of failure by considering internal dependencies such as the availability of virtual networks, Azure Key Vault, or Azure Content Delivery Network or Azure Front Door endpoints. Failures can occur if you need credentials to access Azure Files, and the credentials go missing from Key Vault. Or you might have a failure if your workloads use an endpoint that's based on a missing content delivery network. In these cases, you might need to configure your workloads to connect to an alternative endpoint. For general information about failure mode analysis, see Recommendations for performing failure mode analysis.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Files",
            "text": "Define reliability and recovery targets: Review the Azure service-level agreements (SLAs). Derive the service-level objective (SLO) for the storage account. For example, the redundancy configuration that you chose might affect the SLO. Consider the effect of a regional outage, the potential for data loss, and the time required to restore access after an outage. Also consider the availability of internal dependencies that you identified as part of your failure mode analysis.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Files",
            "text": "Configure data redundancy: For maximum durability, choose a configuration that copies data across availability zones or global regions. For maximum availability, choose a configuration that allows clients to read data from the secondary region during an outage of the primary region.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Files",
            "text": "Design applications: Design your applications to seamlessly shift so that they read data from a secondary region if the primary region is unavailable. This design consideration only applies to geo-redundant storage (GRS) and geo-zone-redundant storage (GZRS) configurations. Design your applications to properly handle outages, which reduces downtime for customers.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Files",
            "text": "Explore features to help you meet your recovery targets: Make files restorable so that you can recover corrupted, edited, or deleted files.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Files",
            "text": "Create a recovery plan: Consider data protection features, backup and restore operations, or failover procedures. Prepare for potential data loss and data inconsistencies and the time and cost of failing over. For more information, see Recommendations for designing a disaster recovery strategy.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Files",
            "text": "Monitor potential availability problems: Subscribe to the Azure Service Health dashboard to monitor potential availability problems. Use storage metrics and diagnostic logs in Azure Monitor to investigate alerts.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Reliability",
            "service": "Azure Files",
            "text": "Configure your storage account for redundancy. For maximum availability and durability, configure your account with\u202fzone-redundant storage (ZRS), GRS, or\u202fGZRS. Limited Azure regions support ZRS for standard and premium file shares. Only standard SMB accounts support GRS and GZRS. Premium SMB shares and NFS shares don't support GRS and GZRS. Azure Files doesn't support read-access geo-redundant storage (RA-GRS) or read-access geo-zone-redundant storage (RA-GZRS). If you configure a storage account to use RA-GRS or RA-GZRS, the file shares are configured and billed as GRS or GZRS.",
            "description": "Redundancy protects your data against unexpected failures. The ZRS and GZRS configuration options replicate across various availability zones and enable applications to continue reading data during an outage. For more information, see Durability and availability by outage scenario and Durability and availability parameters.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Files",
            "text": "Before you initiate a failover or failback, check the value of the last synchronization time property to evaluate the potential for data loss. This recommendation applies only to GRS and GZRS configurations.",
            "description": "This property helps you estimate how much data you might lose if you initiate an account failover. All data and metadata that's written before the last synchronization time is available on the secondary region, but you might lose data and metadata that's written after the last synchronization time because it's not written to the secondary region.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Files",
            "text": "As a part of your backup and recovery strategy, enable\u202fsoft delete\u202fand\u202fuse snapshots for point-in-time restore. You can use Azure Backup to back up your SMB file shares. You can also use Azure File Sync to back up on-premises SMB file shares to an Azure file share.  Azure Backup also allows you to do a vaulted backup (preview) of Azure Files to protect your data from ransomware attacks or source data loss due to a malicious actor or rogue admin. By using vaulted backup, Azure Backup copies and stores data in the Recovery Services vault. This creates an offsite copy of data that you can retain for up to 99 years. Azure Backup creates and manages the recovery points as per the schedule and retention defined in the backup policy. Learn more.",
            "description": "Soft delete works on a file share level to protect Azure file shares against accidental deletion. Point-in-time restore protects against accidental deletion or corruption because you can restore file shares to an earlier state. For more information, see Data protection overview.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "Azure Files",
            "text": "Review the security baseline for Azure Storage: To get started, review the security baseline for Storage.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Files",
            "text": "Consider using network controls to restrict ingress and egress traffic: You might be comfortable exposing your storage account to the public internet under certain conditions, like if you use identity-based authentication to grant access to file shares. But we recommend that you use network controls to grant the minimum required level of access to users and applications. For more information, see How to approach network security for your storage account.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Files",
            "text": "Reduce the attack surface: Use encryption in transit and prevent access over non-secure (HTTP) connections to reduce the attack surface. Require clients to send and receive data by using the latest version of the Transport Layer Security (TLS) protocol.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Files",
            "text": "Minimize the use of storage account keys: Identity-based authentication provides superior security compared to using a storage account key. But you must use a storage account key to get full administrative control of a file share, including the ability to take ownership of a file. Grant security principals only the necessary permissions that they need to perform their tasks.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Files",
            "text": "Protect sensitive information: Protect sensitive information, such as storage account keys and passwords. We don't recommend that you use these forms of authorization, but if you do, you should make sure to rotate, expire, and store them securely.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Files",
            "text": "Detect threats: Enable Microsoft Defender for Storage to detect potentially harmful attempts to access or exploit your Azure file shares over SMB or FileREST protocols. Subscription administrators get email alerts with details of suspicious activity and recommendations about how to investigate and remediate threats. Defender for Storage doesn't support antivirus capabilities for Azure file shares. If you use Defender for Storage, transaction-heavy file shares incur significant costs, so consider opting out of Defender for Storage for specific storage accounts.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "Apply an Azure Resource Manager lock  on the storage account.",
            "description": "Lock the account to prevent accidental or malicious deletion of the storage account, which can cause data loss.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "Open TCP port 445 outbound or set up a VPN gateway or Azure ExpressRoute connection for clients outside of Azure to access the file share.",
            "description": "SMB 3.x is an internet-safe protocol, but you might not have the ability to change organizational or ISP policies. You can use a VPN gateway or an ExpressRoute connection as an alternative option.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "If you open port 445, be sure to disable SMBv1 on Windows and Linux clients. Azure Files doesn't support SMB 1, but you should still disable it on your clients.",
            "description": "SMB 1 is an outdated, inefficient, and insecure protocol. Disable it on clients to improve your security posture.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "Consider disabling public network access to your storage account. Enable public network access only if SMB clients and services that are external to Azure require access to your storage account. If you disable public network access,create a private endpoint for your storage account. Standard data processing rates for private endpoints apply. A private endpoint doesn't block connections to the public endpoint. You should still disable public network access as previously described. If you don't require a static IP address for your file share and want to avoid the cost of private endpoints, you can instead restrict public endpoint access to specific virtual networks and IP addresses.",
            "description": "Network traffic travels over the Microsoft backbone network instead of the public internet, which eliminates risk exposure from the public internet.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "Enable firewall rules that limit access to specific virtual networks. Start with zero access, and then methodically and incrementally provide the least amount of access required for clients and services.",
            "description": "Minimize the risk of creating openings for attackers.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "When possible, use identity-based authentication with AES-256 Kerberos ticket encryption to authorize access to SMB Azure file shares.",
            "description": "Use identity-based authentication to decrease the possibility of an attacker using a storage account key to access file shares.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "If you use storage account keys, store them in Key Vault, and make sure to regenerate them periodically. You can completely disallow storage account key access to the file share by removing NTLMv2 from the share's SMB security settings. But you generally shouldn't remove NTLMv2 from the share's SMB security settings because administrators still need to use the account key for some tasks.",
            "description": "Use Key Vault to retrieve keys at runtime instead of saving them with your application. Key Vault also makes it easy to rotate your keys without interruption to your applications. Periodically rotate the account keys to reduce the risk of exposing your data to malicious attacks.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "In most cases, you should enable the Secure transfer required option on all your storage accounts to enable encryption in transit for SMB file shares. Don't enable this option if you need to allow very old clients to access the share. If you disable secure transfer, be sure to use network controls to restrict traffic.",
            "description": "This setting ensures that all requests that are made against the storage account take place over secure connections (HTTPS). Any requests made over HTTP will fail.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "Configure your storage account so that TLS 1.2 is the minimum version for clients to send and receive data.",
            "description": "TLS 1.2 is more secure and faster than TLS 1.0 and 1.1, which don't support modern cryptographic algorithms and cipher suites.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "Use only the most recent supported SMB protocol version (currently 3.1.1.), and use only AES-256-GCM for SMB channel encryption. Azure Files exposes settings that you can use to toggle the SMB protocol and make it more compatible or more secure, depending on your organization's requirements. By default, all SMB versions are allowed. However, SMB 2.1 is disallowed if you enable Require secure transfer because SMB 2.1 doesn't support encryption of data in transit. If you restrict these settings to a high level of security, some clients might not be able to connect to the file share.",
            "description": "SMB 3.1.1, released with Windows 10, contains important security and performance updates. AES-256-GCM offers more secure channel encryption.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "Azure Files",
            "text": "Review the security baseline for Storage: To get started, review the security baseline for Storage.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Files",
            "text": "Understand your organization's security requirements: NFS Azure file shares only support Linux clients that use the NFSv4.1 protocol, with support for most features from the 4.1 protocol specification. Some security features, such as Kerberos authentication, access control lists (ACLs), and encryption in transit, aren't supported.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Files",
            "text": "Use network-level security and controls to restrict ingress and egress traffic: Identity-based authentication isn't available for NFS Azure file shares, so you must use network-level security and controls to grant the minimum required level of access to users and applications. For more information, see How to approach network security for your storage account.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "Apply a Resource Manager lock on the storage account.",
            "description": "Lock the account to prevent accidental or malicious deletion of the storage account, which might cause data loss.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "You must open port 2049 on the clients that you want to mount your NFS share to.",
            "description": "Open port 2049 to let clients communicate with the NFS Azure file share.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "NFS Azure file shares are only accessible through restricted networks. So you must create a private endpoint for your storage account or restrict public endpoint access to selected virtual networks and IP addresses. We recommend that you create a private endpoint. You must configure network-level security for NFS shares because Azure Files doesn't support encryption in transit with the NFS protocol. You need to disable the Require secure transfer setting on the storage account to use NFS Azure file shares. Standard data processing rates apply for private endpoints. If you don't require a static IP address for your file share and want to avoid the cost of private endpoints, you can restrict public endpoint access instead.",
            "description": "Network traffic travels over the Microsoft backbone network instead of the public internet, which eliminates risk exposure from the public internet.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Files",
            "text": "Consider disallowing storage account key access at the storage account level. You don't need this access to mount NFS file shares. But keep in mind that full administrative control of a file share, including the ability to take ownership of a file, requires use of a storage account key.",
            "description": "Disallow the use of storage account keys to make your storage account more secure.",
            "type": "recommendation"
        },
        {
            "waf": "cost",
            "service": "Azure Files",
            "text": "Decide whether your workload requires the performance of premium file shares (Azure Premium SSD) or if Azure Standard HDD storage is sufficient: Determine your storage account type and billing model based on the type of storage that you need. If you require large amounts of input/output operations per second (IOPS), extremely fast data transfer speeds, or very low latency, then you should choose premium Azure file shares. NFS Azure file shares are only available on the premium tier. NFS and SMB file shares are the same price on the premium tier.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Files",
            "text": "Create a storage account for your file share, and choose a redundancy level: Choose either a standard (GPv2) or premium (FileStorage) account. The redundancy level that you choose affects cost. The more redundancy, the higher the cost. Locally redundant storage (LRS) is the most affordable. GRS is only available for standard SMB file shares. Standard file shares only show transaction information at the storage account level, so we recommend that you deploy only one file share in each storage account to ensure full billing visibility.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Files",
            "text": "Understand how your bill is calculated: Standard Azure file shares provide a pay-as-you-go model. Premium shares use a provisioned model in which you specify and pay for a certain amount of capacity, IOPS, and throughput up front. In the pay-as-you-go model, meters track the amount of data that's stored in the account, or the capacity, and the number and type of transactions based on your usage of that data. The pay-as-you-go model can be cost efficient because you pay only for what you use. With the pay-as-you-go model, you don't need to overprovision or deprovision storage based on performance requirements or demand fluctuations.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Files",
            "text": "Estimate the cost of capacity and operations: You can use the Azure pricing calculator to model the costs associated with data storage, ingress, and egress. Compare the cost associated with various regions, account types, and redundancy configurations. For more information, see Azure Files pricing.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Files",
            "text": "Choose the most cost-effective access tier: Standard SMB Azure file shares offer three access tiers: transaction optimized, hot, and cool. All three tiers are stored on the same standard storage hardware. The main difference for these three tiers is their data at rest storage prices, which are lower in cooler tiers, and the transaction prices, which are higher in cooler tiers. For more information, see Differences in standard tiers.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Files",
            "text": "Decide which value-added services you need: Azure Files supports integrations with value-added services such as Backup, Azure File Sync, and Defender for Storage. These solutions have their own licensing and product costs but are often considered part of the total cost of ownership for file storage. Consider other cost aspects if you use Azure File Sync.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Files",
            "text": "Create guardrails: Create budgets based on subscriptions and resource groups. Use governance policies to restrict resource types, configurations, and locations. Additionally, use role-based access control (RBAC) to block actions that can lead to overspending.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Files",
            "text": "Monitor costs: Ensure costs stay within budgets, compare costs against forecasts, and see where overspending occurs. You can use the cost analysis pane in the Azure portal to monitor costs. You can also export cost data to a storage account, and use Excel or Power BI to analyze that data.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Files",
            "text": "Monitor usage: Continuously monitor usage patterns to detect unused or underused storage accounts and file shares. Check for unexpected increases in capacity, which might indicate that you're collecting numerous log files or soft-deleted files. Develop a strategy for deleting files or moving files to more cost-effective access tiers.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Cost",
            "service": "Azure Files",
            "text": "When you migrate to standard Azure file shares, we recommend that you start in the transaction-optimized tier during the initial migration. Transaction usage during migration isn't typically indicative of normal transaction usage. This consideration doesn't apply for premium file shares because the provisioned billing model doesn't charge for transactions.",
            "description": "Migrating to Azure Files is a temporary, transaction-heavy workload. Optimize the price for high-transaction workloads to help reduce migration costs.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Files",
            "text": "After you migrate your workload, if you use standard file shares, carefully choose the most cost effective access tier for your file share: hot, cool, or transaction optimized. After you operate for a few days or weeks with regular usage, you can insert your transaction counts in the pricing calculator to figure out which tier best suits your workload. Most customers should choose cool even if they actively use the share. But you should examine each share and compare the balance of storage capacity to transactions to determine your tier. If transaction costs make up a significant percentage of your bill, the savings from using the cool access tier often offsets this cost and minimizes the total overall cost. We recommend that you move standard file shares between access tiers only when necessary to optimize for changes in your workload pattern. Each move incurs transactions. For more information, see Switching between standard tiers.",
            "description": "Select the appropriate access tier for standard file shares to considerably reduce your costs.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Files",
            "text": "If you use premium shares, ensure that you provision more than enough capacity and performance for your workload but not so much that you incur unnecessary costs. We recommend overprovisioning by two to three times. You can dynamically scale premium file shares up or down depending on your storage and input/output (IO) performance characteristics.",
            "description": "Overprovision premium file shares by a reasonable amount to help maintain performance and account for future growth and performance requirements.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Files",
            "text": "Use Azure Files reservations, also referred to as reserved instances, to precommit to storage usage and get a discount. Use reservations for production workloads or dev/test workloads with consistent footprints. For more information, see Optimize costs with storage reservations. Reservations don't include transaction, bandwidth, data transfer, and metadata storage charges.",
            "description": "Three-year reservations can provide a discount up to 36% on the total cost of file storage. Reservations don't affect performance.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Files",
            "text": "Monitor snapshot usage. Snapshots incur charges, but they're billed based on the differential storage usage of each snapshot. You pay only for the difference in each snapshot. For more information, see Snapshots. Azure File Sync takes share-level and file-level snapshots as part of regular usage, which can increase your total Azure Files bill.",
            "description": "Differential snapshots ensure that you're not billed multiple times for storing the same data. However, you should still monitor snapshot usage to help reduce your Azure Files bill.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Files",
            "text": "Set retention periods for the soft-delete feature, especially when you first start using it. Consider starting with a short retention period to better understand how the feature affects your bill. The minimum recommended retention period is seven days. When you soft delete standard and premium file shares, they're billed as used capacity rather than provisioned capacity. And premium file shares are billed at the snapshot rate while in the soft-delete state. Standard file shares are billed at the regular rate while in the soft-delete state.",
            "description": "Set a retention period so that soft-deleted files don't pile up and increase the cost of capacity. After the configured retention period, permanently deleted data doesn't incur cost.",
            "type": "recommendation"
        },
        {
            "waf": "operations",
            "service": "Azure Files",
            "text": "Create maintenance and emergency recovery plans: Consider data protection features, backup and restore operations, and failover procedures. Prepare for potential data loss and data inconsistencies and the time and cost of failing over.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Files",
            "text": "Monitor the health of your storage account: Create Storage insights dashboards to monitor availability, performance, and resiliency metrics. Set up alerts to identify and address problems in your system before your customers notice them. Use diagnostic settings to route resource logs to an Azure Monitor Logs workspace. Then you can query logs to investigate alerts more deeply.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Files",
            "text": "Periodically review file share activity: Share activity can change over time. Move standard file shares to cooler access tiers, or you can provision or deprovision capacity for premium shares. When you move standard file shares to a different access tier, you incur a transaction charge. Move standard file shares only when needed to reduce your monthly bill.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Operations",
            "service": "Azure Files",
            "text": "Use infrastructure as code (IaC) to define the details of your storage accounts in Azure Resource Manager templates (ARM templates), Bicep, or Terraform.",
            "description": "You can use your existing DevOps processes to deploy new storage accounts, and use Azure Policy to enforce their configuration.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Files",
            "text": "Use Storage insights to track the health and performance of your storage accounts. Storage insights provides a unified view of the failures, performance, availability, and capacity for all your storage accounts.",
            "description": "You can track the health and operation of each of your accounts. Easily create dashboards and reports that stakeholders can use to track the health of your storage accounts.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Files",
            "text": "Use Monitor to analyze metrics, such as availability, latency, and usage, and to create alerts.",
            "description": "Monitor provides a view of availability, performance, and resiliency for your file shares.",
            "type": "recommendation"
        },
        {
            "waf": "performance",
            "service": "Azure Files",
            "text": "Plan for scale: Understand the scalability and performance targets for storage accounts, Azure Files, and Azure File Sync.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Files",
            "text": "Understand your application and usage patterns to achieve predictable performance: Determine latency sensitivity, IOPS and throughput requirements, workload duration and frequency, and workload parallelization. Use Azure Files for multi-threaded applications to help you achieve the upper performance limits of a service. If most of your requests are metadata-centric, such as createfile, openfile, closefile, queryinfo, or querydirectory, the requests create poor latency that's higher than the read and write operations. If you have this problem, consider separating the file share into multiple file shares within the same storage account.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Files",
            "text": "Choose the optimal storage account type: If your workload requires large amounts of IOPS, extremely fast data transfer speeds, or very low latency, then you should choose premium (FileStorage) storage accounts. You can use a standard general-purpose v2 account for most SMB file share workloads. The primary tradeoff between the two storage account types is cost versus performance.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Files",
            "text": "Create storage accounts in the same regions as connecting clients to reduce latency: The farther you are from the Azure Files service, the greater the latency and the more difficult to achieve performance scale limits. This consideration is especially true when you access Azure Files from on-premises environments. If possible, ensure that your storage account and your clients are co-located in the same Azure region. Optimize for on-premises clients by minimizing network latency or by using an ExpressRoute connection to extend on-premises networks into the Microsoft cloud over a private connection.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Files",
            "text": "Collect performance data: Monitor workload performance, including latency, availability, and usage metrics. Analyze logs to diagnose problems such as timeouts and throttling. Create alerts to notify you if a file share is being throttled, about to be throttled, or experiencing high latency.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Files",
            "text": "Optimize for hybrid deployments: If you use Azure File Sync, sync performance depends on many factors: your Windows Server and the underlying disk configuration, network bandwidth between the server and the Azure storage, file size, total dataset size, and the activity on the dataset. To measure the performance of a solution that's based on Azure File Sync, determine the number of objects, such as files and directories, that you process per second.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Performance",
            "service": "Azure Files",
            "text": "Enable SMB Multichannel for premium SMB file shares. SMB Multichannel allows an SMB 3.1.1 client to establish multiple network connections to an SMB Azure file share. SMB Multichannel only works when the feature is enabled on both client-side (your client) and service-side (Azure). On Windows clients, SMB Multichannel is enabled by default, but you need to enable it on your storage account.",
            "description": "Increase throughput and IOPS while reducing the total cost of ownership. Performance benefits increase with the number of files that distribute load.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Files",
            "text": "Use the nconnect client-side mount option with NFS Azure file shares on Linux clients. Nconnect enables you to use more TCP connections between the client and the Azure Files premium service for NFSv4.1.",
            "description": "Increase performance at scale, and reduce the total cost of ownership for NFS file shares.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Files",
            "text": "Make sure your file share or storage account isn't being throttled, which can result in high latency, low throughput, or low IOPS. Requests are throttled when the IOPS, ingress, or egress limits are reached. For standard storage accounts, throttling occurs at the account level. For premium file shares, throttling usually occurs at the share level.",
            "description": "Avoid throttling to provide the best possible client experience.",
            "type": "recommendation"
        },
        {
            "waf": "reliability",
            "service": "Azure Firewall",
            "text": "Deploy Azure Firewall in hub virtual networks or as part of Azure Virtual WAN hubs.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Firewall",
            "text": "Leverage Availability Zones resiliency.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Firewall",
            "text": "Create Azure Firewall Policy structure.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Firewall",
            "text": "Review the Known Issue list.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Firewall",
            "text": "Monitor Azure Firewall health state.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Reliability",
            "service": "Azure Firewall",
            "text": "Use Azure Firewall Manager with traditional Hub & Spokes or Azure Virtual WAN network topologies to deploy and manage instances of Azure Firewall.",
            "description": "Easily create hub-and-spoke and transitive architectures with native security services for traffic governance and protection.  For more information on network topologies, see the Azure Cloud Adoption Framework documentation.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Firewall",
            "text": "Create Azure Firewall Policies to govern the security posture across global network environments. Assign policies to all instances of Azure Firewall.",
            "description": "Azure Firewall Policies can be arranged in an hierarchical structure to overlay a central base policy. Allow for granular policies to meet the requirements of specific regions. Delegate incremental firewall policies to local security teams through role-based access control (RBAC). Some settings are specific per instance, for example DNAT Rules and DNS configuration, then multiple specialized policies might be required.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Firewall",
            "text": "Migrate Azure Firewall Classic Rules to Azure Firewall Manager Policies for existing deployments.",
            "description": "For existing deployments, migrate Azure Firewall rules to Azure Firewall Manager policies. Use Azure Firewall Manager to centrally manage your firewalls and policies.  For more information, see Migrate to Azure Firewall Premium.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Firewall",
            "text": "Review the list of Azure Firewall Known Issues.",
            "description": "Azure Firewall Product Group maintains an updated list of known-issues at this location. This list contains important information related to by-design behavior, fixes under construction, platform limitations, along with possible workarounds or mitigation.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Firewall",
            "text": "Ensure your Azure Firewall Policy adheres to Azure Firewall limits and recommendations.",
            "description": "There are limits on the policy structure, including numbers of Rules and Rule Collection Groups, total policy size, source/target destinations. Be sure to compose your policy and stay behind the documented thresholds.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Firewall",
            "text": "Deploy Azure Firewall across multiple availability zones for higher service-level agreement (SLA).",
            "description": "Azure Firewall provides different SLAs when it's deployed in a single availability zone and when it's deployed in multiple zones. For more information, see SLA for Azure Firewall. For information about all Azure SLAs, see SLA summary for Azure services.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Firewall",
            "text": "In multi-region environments, deploy an Azure Firewall instance per region.",
            "description": "For traditional Hub & Spokes architectures, multi-region details are explained in this article. For secured virtual hubs (Azure Virtual WAN), Routing Intent and Policies must be configured to secure inter-hub and branch-to-branch communications. For workloads designed to be resistant to failures and fault tolerant, remember to consider that instances of Azure Firewall and Azure Virtual Network as regional resources.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Firewall",
            "text": "Monitor Azure Firewall Metrics and Resource Health state.",
            "description": "Closely monitor key metrics indicator of Azure Firewall health state such as Throughput, Firewall health state, SNAT port utilization and AZFW Latency Probe metrics. Additionally, Azure Firewall now integrates with Azure Resource Health. With the Azure Firewall Resource Health check, you can now view the health status of your Azure Firewall and address service problems that might affect your Azure Firewall resource.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "Azure Firewall",
            "text": "Determine if you need Forced Tunneling.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Firewall",
            "text": "Create rules for Policies based on least privilege access criteria.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Firewall",
            "text": "Leverage Threat Intelligence.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Firewall",
            "text": "Enable Azure Firewall DNS proxy.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Firewall",
            "text": "Direct network traffic through Azure Firewall.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Firewall",
            "text": "Determine if you want to use third-party security as a service (SECaaS) providers.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Firewall",
            "text": "Protect your Azure Firewall public IP addresses with DDoS.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "If required to route all internet-bound traffic to a designated next hop instead of going directly to the internet, configure Azure Firewall in forced tunneling mode (does not apply to Azure Virtual WAN).",
            "description": "Azure Firewall must have direct internet connectivity. If your AzureFirewallSubnet learns a default route to your on-premises network via the Border Gateway Protocol, you must configure Azure Firewall in the forced tunneling mode. Using the forced tunneling feature, you'll need another /26 address space for the Azure Firewall Management subnet. You're required to name it AzureFirewallManagementSubnet.If this is an existing Azure Firewall instance that can't be reconfigured in the forced tunneling mode, create a UDR with a 0.0.0.0/0 route. Set the NextHopType value as Internet. Associate it with AzureFirewallSubnet to maintain internet connectivity.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Set the public IP address to None to deploy a fully private data plane when you configure Azure Firewall in the forced tunneling mode (does not apply to Azure Virtual WAN).",
            "description": "When you deploy a new Azure Firewall instance, if you enable the forced tunneling mode, you can set the public IP address to None to deploy a fully private data plane. However, the management plane still requires a public IP for management purposes only. The internal traffic from virtual and on-premises networks won't use that public IP. For more about forced tunneling, see Azure Firewall forced tunneling.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Create rules for Firewall Policies based on least privilege access criteria.",
            "description": "Azure Firewall Policies can be arranged in an hierarchical structure to overlay a central base policy. Allow for granular policies to meet the requirements of specific regions. Each policy can contains different sets of DNAT, Network and Application rules with specific priority, action and processing order. Create your rules based on least privilege access Zero Trust principle . How rules are processed is explained in this article.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Enable IDPS in  Alert or Alert and deny mode.",
            "description": "IDPS is one of the most powerful Azure Firewall (Premium) security features and should be enabled. Based on security and application requirements, and considering the performance impact (see the Cost section below), Alert or Alert and deny modes can be selected.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Enable Azure Firewall (DNS) proxy configuration.",
            "description": "Enabling this feature points clients in the VNets to Azure Firewall as a DNS server. It will protect internal DNS infrastructure that will not be directly accessed and exposed. Azure Firewall must be also configured to use custom DNS that will be used to forward DNS queries.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Configure user-defined routes (UDR) to force traffic through Azure Firewall.",
            "description": "In a traditional Hub & Spokes architecture, configure UDRs to force traffic through Azure Firewall for `SpoketoSpoke`, `SpoketoInternet`, and `SpoketoHybrid` connectivity. In Azure Virtual WAN, instead, configure Routing Intent and Policies to redirect private and/or Internet traffic through the Azure Firewall instance integrated into the hub.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "If not possible to apply UDR, and only web traffic redirection is required, consider using Azure Firewall as an Explicit Proxy",
            "description": "With explicit proxy feature enabled on the outbound path, you can configure a proxy setting on the sending web application (such as a web browser) with Azure Firewall configured as the proxy. As a result, web traffic will reach the firewall's private IP address and therefore egresses directly from the firewall without using a UDR. This feature also facilitates the usage of multiple firewalls without modifying existing network routes.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Configure supported third-party software as a service (SaaS) security providers within Firewall Manager if you want to use these solutions to protect outbound connections.",
            "description": "You can use your familiar, best-in-breed, third-party SECaaS offerings to protect internet access for your users. This scenario does require Azure Virtual WAN with a S2S VPN Gateway in the Hub, as it uses an IPSec tunnel to connect to the provider's infrastructure. SECaaS providers might charge additional license fees and limit throughput on IPSec connections. Alternative solutions such as ZScaler Cloud Connector exist and might be more suitable.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Use Fully Qualified Domain Name (FQDN) filtering in network rules.",
            "description": "You can use FQDN based on DNS resolution in Azure Firewall and firewall policies. This capability allows you to filter outbound traffic with any TCP/UDP protocol (including NTP, SSH, RDP, and more). You must enable the Azure Firewall DNS Proxy configuration to use FQDNs in your network rules. To learn how it works, see Azure Firewall FQDN filtering in network rules.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Use Service Tags in Network Rules to enable selective access to specific Microsoft services.",
            "description": "A service tag represents a group of IP address prefixes to help minimize complexity for security rule creation. Using Service Tags in Network Rules, it is possible to enable outbound access to specific services in Azure, Dynamics and Office 365 without opening wide ranges of IP addresses. Azure will maintain automatically the mapping between these tags and underlying IP addresses used by each service. The list of Service Tags available to Azure Firewall are listed here: Az Firewall Service Tags.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Use FQDN Tags in Application Rules to enable selective access to specific Microsoft services.",
            "description": "An FQDN tag represents a group of fully qualified domain names (FQDNs) associated with well known Microsoft services. You can use an FQDN tag in application rules to allow the required outbound network traffic through your firewall for some specific Azure services, Office 365, Windows 365 and Intune.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Use Azure Firewall Manager to create and associate a DDoS protection plan with your hub virtual network (does not apply to Azure Virtual WAN).",
            "description": "A DDoS protection plan provides enhanced mitigation features to defend your firewall from DDoS attacks. Azure Firewall Manager is an integrated tool to create your firewall infrastructure and DDoS protection plans. For more information, see Configure an Azure DDoS Protection Plan using Azure Firewall Manager.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Use an Enterprise PKI to generate certificates for TLS Inspection.",
            "description": "With Azure Firewall Premium, if TLS Inspection feature is used, it is recommended to leverage an internal Enterprise Certification Authority (CA) for production environment. Self-signed certificates should be used for testing/PoC purposes only.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Firewall",
            "text": "Review Zero-Trust configuration guide for Azure Firewall and Application Gateway",
            "description": "If your security requirements necessitate implementing a Zero-Trust approach for web applications (inspection and encryption), it is recommended to follow this guide. In this document, how to integrate together Azure Firewall and Application Gateway will be explained, in both traditional Hub & Spoke and Virtual WAN scenarios.",
            "type": "recommendation"
        },
        {
            "waf": "cost",
            "service": "Azure Firewall",
            "text": "Select the Azure Firewall SKU to deploy.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Firewall",
            "text": "Determine if some instances don't need permanent 24x7 allocation.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Firewall",
            "text": "Determine where you can optimize firewall use across workloads.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Firewall",
            "text": "Monitor and optimize firewall instances usage to determine cost-effectiveness.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Firewall",
            "text": "Review and optimize the number of public IP addresses required and Policies used.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Firewall",
            "text": "Review logging requirements, estimate cost and control over time.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Cost",
            "service": "Azure Firewall",
            "text": "Deploy the proper Azure Firewall SKU.",
            "description": "Azure Firewall can be deployed in three different SKUs: Basic, Standard and Premium. Azure Firewall Premium is recommended to secure highly sensitive applications (such as payment processing). Azure Firewall Standard is recommended for customers looking for Layer 3\u2013Layer 7 firewall and needs autoscaling to handle peak traffic periods of up to 30 Gbps. Azure Firewall Basic is recommended for SMB customers with throughput needs of 250 Mbps. If required, downgrade or upgrade is possible between Standard and Premium as documented here.   For more information, see Choose the right Azure Firewall SKU to meet your needs.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Firewall",
            "text": "Stop Azure Firewall deployments that don't need to run for 24x7.",
            "description": "You might have development or testing environments that are used only during business hours. For more information, see Deallocate and allocate Azure Firewall.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Firewall",
            "text": "Share the same instance of Azure Firewall across multiple workloads and Azure Virtual Networks.",
            "description": "You can use a central instance of Azure Firewall in the hub virtual network or Virtual WAN secure hub and share the same firewall across many spoke virtual networks that are connected to the same hub from the same region. Ensure there's no unexpected cross-region traffic as part of the hub-spoke topology.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Firewall",
            "text": "Regularly review traffic processed by Azure Firewall and look for originating workload optimizations",
            "description": "Top Flows log (known in the industry as Fat Flows), shows the top connections that are contributing to the highest throughput through the firewall. It is recommended to regularly review traffic processed by the Azure Firewall and search for possible optimizations to reduce the amount of traffic traversing the firewall.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Firewall",
            "text": "Review under-utilized Azure Firewall instances. Identify and delete unused Azure Firewall deployments.",
            "description": "To identify unused Azure Firewall deployments, start by analyzing the monitoring metrics and UDRs associated with subnets pointing to the firewall's private IP. Combine that information with other validations, such as if your instance of Azure Firewall has any rules (classic) for NAT, Network and Application, or even if the DNS Proxy setting is configured to Disabled, and with internal documentation about your environment and deployments. You can detect deployments that are cost-effective over time.  For more information about monitoring logs and metrics, see Monitor Azure Firewall logs and metrics and SNAT port utilization.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Firewall",
            "text": "Use Azure Firewall Manager and its Policies to reduce operational costs, increase efficiency, and reduce management overhead.",
            "description": "Review your Firewall Manager policies, associations, and inheritance carefully. Policies are billed based on firewall associations. A policy with zero or one firewall association is free of charge. A policy with multiple firewall associations is billed at a fixed rate.For more information, see Pricing - Azure Firewall Manager.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Firewall",
            "text": "Delete unused public IP addresses.",
            "description": "Validate whether all the associated public IP addresses are in use. If they aren't in use, disassociate and delete them. Evaluate SNAT port utilization before removing any IP addresses.You'll only use the number of public IPs your firewall needs. For more information, see Monitor Azure Firewall logs and metrics and SNAT port utilization.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Firewall",
            "text": "Review logging requirements.",
            "description": "Azure Firewall has the ability to comprehensively log metadata of all traffic it sees, to Log Analytics Workspaces, Storage or third party solutions through Event Hubs. However, all logging solutions incur costs for data processing and storage. At very large volumes these costs can be significant, a cost effective approach and alternative to Log Analytics should be considered and cost estimated. Consider whether it is required to log traffic metadata for all logging categories and modify in Diagnostic Settings if needed.",
            "type": "recommendation"
        },
        {
            "waf": "operations",
            "service": "Azure Firewall",
            "text": "Maintain inventory and backup of Azure Firewall configuration and Policies.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Firewall",
            "text": "Leverage diagnostic logs for firewall monitoring and troubleshooting.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Firewall",
            "text": "Leverage Azure Firewall Monitoring workbook.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Firewall",
            "text": "Regularly review your Policy insights and analytics.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Firewall",
            "text": "Integrate Azure Firewall with Microsoft Defender for Cloud and Microsoft Sentinel.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Operations",
            "service": "Azure Firewall",
            "text": "Do not use Azure Firewall for intra-VNet traffic control.",
            "description": "Azure Firewall should be used to control traffic across VNets, between VNets and on-premises networks, outbound traffic to the Internet and incoming non-HTTP/s traffic. For intra-VNet traffic control, it is recommended to use Network Security Groups.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Firewall",
            "text": "Maintain regular backups of Azure Policy artifacts.",
            "description": "If Infrastructure-as-Code (IaC) approach is used to maintain Azure Firewall and all dependencies then backup and versioning of Azure Firewall Policies should be already in place. If not, a companion mechanism based on external Logic App can be deployed to automate and provide an effective solution.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Firewall",
            "text": "Enable Diagnostic Logs for Azure Firewall.",
            "description": "Diagnostic Logs is a key component for many monitoring tools and strategies for Azure Firewall and should be enabled. You can monitor Azure Firewall by using firewall logs or workbooks. You can also use activity logs for auditing operations on Azure Firewall resources.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Firewall",
            "text": "Use Structured Firewall Logs format.",
            "description": "Structured Firewall Logs are a type of log data that are organized in a specific new format. They use a predefined schema to structure log data in a way that makes it easy to search, filter, and analyze. The latest monitoring tools are based on this type of logs hence it is often a pre-requisite. Use the previous Diagnostic Logs format only if there is an existing tool with a pre-requisite on that. Do not enable both logging formats at the same time.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Firewall",
            "text": "Use the built-in Azure Firewall Monitoring Workbook.",
            "description": "Azure Firewall portal experience now includes a new workbook under the Monitoring section UI, a separate installation is no more required. With the Azure Firewall Workbook, you can extract valuable insights from Azure Firewall events, delve into your application and network rules, and examine statistics regarding firewall activities across URLs, ports, and addresses.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Firewall",
            "text": "Monitor key metrics and create alerts for indicators of the utilization of Azure Firewall capacity.",
            "description": "Alerts should be created to monitor at least Throughput, Firewall health state, SNAT port utilization and AZFW Latency Probe metrics.For information about monitoring logs and metrics, see Monitor Azure Firewall logs and metrics.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Firewall",
            "text": "Configure Azure Firewall integration with Microsoft Defender for Cloud and Microsoft Sentinel.",
            "description": "If these tools are available in the environment, it is recommended to leverage integration with Microsoft Defender for Cloud and Microsoft Sentinel solutions. With Microsoft Defender for Cloud integration, you can visualize the all-up status of network infrastructure and network security in one place, including Azure Network Security across all VNets and Virtual Hubs spread across different regions in Azure. Integration with Microsoft Sentinel provides threat detection and prevention capabilities.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Firewall",
            "text": "Regularly review Policy Analytics dashboard to identify potential issues.",
            "description": "Policy Analytics is a new feature that provides insights into the impact of your Azure Firewall policies. It helps you identify potential issues (hitting policy limits, low utilization rules, redundant rules, rules too generic, IP Groups usage recommendation) in your policies and provides recommendations to improve your security posture and rule processing performance.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Firewall",
            "text": "Become familiar with KQL (Kusto Query Language) queries to allow quick analysis and troubleshooting using Azure Firewall logs.",
            "description": "Sample queries are provided for Azure Firewall. Those will enable you to quickly identify what's happening inside your firewall and check to see which rule was triggered, or which rule is allowing/blocking a request.",
            "type": "recommendation"
        },
        {
            "waf": "performance",
            "service": "Azure Firewall",
            "text": "Regularly review and optimize firewall rules.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Firewall",
            "text": "Review policy requirements and opportunities to summarize IP ranges and URLs list.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Firewall",
            "text": "Assess your SNAT port requirements.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Firewall",
            "text": "Plan load tests to test auto-scale performance in your environment.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Firewall",
            "text": "Do not enable diagnostic tools and logging if not required.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Performance",
            "service": "Azure Firewall",
            "text": "Use Policy Analytics dashboard to identify potential optimizations for Firewall Policies.",
            "description": "Policy Analytics is a new feature that provides insights into the impact of your Azure Firewall policies. It helps you identify potential issues (hitting policy limits, low utilization rules, redundant rules, rules too generic, IP Groups usage recommendation) in your policies and provides recommendations to improve your security posture and rule processing performance.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Firewall",
            "text": "Consider Web Categories to allow or deny outbound access in bulk.",
            "description": "Instead of explicitly building and maintaining a long list of public Internet sites, consider the usage of Azure Firewall Web Categories. This feature will dynamically categorize web content and will permit the creation of compact Application Rules.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Firewall",
            "text": "Evaluate the performance impact of IDPS in Alert and deny mode.",
            "description": "If Azure Firewall is required to operate in IDPS mode Alert and deny, carefully consider the performance impact as documented in this page.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Firewall",
            "text": "Assess potential SNAT port exhaustion problem.",
            "description": "Azure Firewall currently supports 2496 ports per Public IP address per backend Virtual Machine Scale Set instance. By default, there are two Virtual Machine Scale Set instances. So, there are 4992 ports per flow destination IP, destination port and protocol (TCP or UDP). The firewall scales up to a maximum of 20 instances. You can work around the limits by configuring Azure Firewall deployments with a minimum of five public IP addresses for deployments susceptible to SNAT exhaustion.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Firewall",
            "text": "Properly warm up Azure Firewall before any performance test.",
            "description": "Create initial traffic that isn't part of your load tests 20 minutes before the test. Use diagnostics settings to capture scale-up and scale-down events. You can use the Azure Load Testing service to generate the initial traffic. Allows the Azure Firewall instance to scale up its instances to the maximum.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Firewall",
            "text": "Configure an Azure Firewall subnet (AzureFirewallSubnet) with a /26 address space.",
            "description": "Azure Firewall is a dedicated deployment in your virtual network. Within your virtual network, a dedicated subnet is required for the instance of Azure Firewall. Azure Firewall provisions more capacity as it scales.A /26 address space for its subnets ensures that the firewall has enough IP addresses available to accommodate the scaling. Azure Firewall doesn't need a subnet bigger than /26. The Azure Firewall subnet name must be AzureFirewallSubnet.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Firewall",
            "text": "Do not enable advanced logging if not required",
            "description": "Azure Firewall provides some advanced logging capabilities that can be expensive to maintain always active. Instead, they should be used for troubleshooting purposes only, and limited in duration, then disabled when no more necessary. For example, Top flows and Flow trace logs are expensive can cause excessive CPU and storage usage on the Azure Firewall infrastructure.",
            "type": "recommendation"
        },
        {
            "waf": "reliability",
            "service": "Azure Front Door",
            "text": "Estimate the traffic pattern and volume. The number of requests from the client to the Azure Front Door edge might influence your tier choice. If you need to support a high volume of requests, consider the Azure Front Door Premium tier because performance ultimately impacts availability. However, there's a cost tradeoff. These tiers are described in Performance Efficiency.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Front Door",
            "text": "Choose your deployment strategy. The fundamental deployment approaches are active-active and active-passive. Active-active deployment means that multiple environments or stamps that run the workload serve traffic. Active-passive deployment means that only the primary region handles all traffic, but it fails over to the secondary region when necessary. In a multiregion deployment, stamps run in different regions for higher availability with a global load balancer, like Azure Front Door, that distributes traffic. Therefore, it's important to configure the load balancer for the appropriate deployment approach.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Front Door",
            "text": "Use the same host name on Azure Front Door and origin servers. To ensure that cookies or redirect URLs work properly, preserve the original HTTP host name when you use a reverse proxy, like a load balancer, in front of a web application.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Front Door",
            "text": "Implement the health endpoint monitoring pattern. Your application should expose health endpoints, which aggregate the state of the critical services and dependencies that your application needs to serve requests. Azure Front Door health probes use the endpoint to detect origin servers' health. For more information, see Health Endpoint Monitoring pattern.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Front Door",
            "text": "Take advantage of the built-in content delivery network functionality in Azure Front Door. The content delivery network feature of Azure Front Door has hundreds of edge locations and can help withstand distributed denial of service (DDoS) attacks. These capabilities help improve reliability.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Front Door",
            "text": "Consider a redundant traffic management option. Azure Front Door is a globally distributed service that runs as a singleton in an environment. Azure Front Door is a potential single point of failure in the system. If the service fails, then clients can't access your application during the downtime.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Reliability",
            "service": "Azure Front Door",
            "text": "Choose a routing method that supports your deployment strategy.  The weighted method, which distributes traffic based on the configured weight coefficient, supports active-active models.  A priority-based value that configures the primary region to receive all traffic and send traffic to the secondary region as a backup supports active-passive models.  Combine the preceding methods with latency so that the origin with the lowest latency receives traffic.",
            "description": "You can select the best origin resource by using a series of decision steps and your design. The selected origin serves traffic within the allowable latency range in the specified ratio of weights.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Front Door",
            "text": "Support redundancy by having multiple origins in one or more back-end pools. Always have redundant instances of your application and make sure each instance exposes an endpoint or origin. You can place those origins in one or more back-end pools.",
            "description": "Multiple origins support redundancy by distributing traffic across multiple instances of the application. If one instance is unavailable, then other back-end origins can still receive traffic.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Front Door",
            "text": "Set up health probes on the origin. Configure Azure Front Door to conduct health checks to determine if the back-end instance is available and ready to continue receiving requests.",
            "description": "Enabled health probes are part of the health monitoring pattern implementation. Health probes make sure that Azure Front Door only routes traffic to instances that are healthy enough to handle requests.  For more information, see Best practices on health probes.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Front Door",
            "text": "Set a timeout on forwarding requests to the back end.  Adjust the timeout setting according to your endpoints' needs. If you don't, Azure Front Door might close the connection before the origin sends the response.  You can also lower the default timeout for Azure Front Door if all of your origins have a shorter timeout.  For more information, see Troubleshooting unresponsive requests.",
            "description": "Timeouts help prevent performance issues and availability issues by terminating requests that take longer than expected to complete.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Front Door",
            "text": "Use the same host name on Azure Front Door and your origin. Azure Front Door can rewrite the host header of incoming requests, which is useful when you have multiple custom domain names that route to one origin. However, rewriting the host header might cause issues with request cookies and URL redirection.",
            "description": "Set the same host name to prevent malfunction with session affinity, authentication, and authorization. For more information, see Preserve the original HTTP host name between a reverse proxy and its back-end web application.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Front Door",
            "text": "Decide if your application requires session affinity. If you have high reliability requirements, we recommend that you disable session affinity.",
            "description": "With session affinity, user connections stay on the same origin during the user session. If that origin becomes unavailable, the user experience might be disrupted.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Front Door",
            "text": "Take advantage of the rate-limiting rules that are included with a web application firewall (WAF).",
            "description": "Limit requests to prevent clients from sending too much traffic to your application. Rate limiting can help you avoid problems like a retry storm.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "Azure Front Door",
            "text": "Review the security baseline for Azure Front Door.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Front Door",
            "text": "Protect the back-end servers. The front end acts as the single point of ingress to the application.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Front Door",
            "text": "Allow only authorized access to the control plane. Use Azure Front Door role-based access control (RBAC) to restrict access to only the identities that need it.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Front Door",
            "text": "Block common threats at the edge. WAF is integrated with Azure Front Door. Enable WAF rules on the front ends to protect applications from common exploits and vulnerabilities at the network edge, closer to the attack source.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Front Door",
            "text": "Protect Azure Front Door against unexpected traffic. Azure Front Door uses the basic plan of Azure DDoS protection to protect application endpoints from DDoS attacks. If you need to expose other public IP addresses from your application, consider adding the DDoS Protection standard plan for those addresses for advanced protection and detection capabilities.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Front Door",
            "text": "Protect data in transit. Enable end-to-end Transport Layer Security (TLS), HTTP to HTTPS redirection, and managed TLS certificates when applicable. For more information, see TLS best practices for Azure Front Door.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Front Door",
            "text": "Monitor anomalous activity. Regularly review the logs to check for attacks and false positives. Send WAF logs from Azure Front Door to your organization's centralized security information and event management (SIEM), such as Microsoft Sentinel, to detect threat patterns and incorporate preventative measures in the workload design.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "Azure Front Door",
            "text": "Enable WAF rule sets that detect and block potentially malicious traffic. This feature is available on the Premium tier. We recommend these rule sets:  - Default- Bot protection- IP restriction- Geo-filtering- Rate limiting",
            "description": "Default rule sets are updated frequently based on OWASP top-10 attack types and information from Microsoft Threat Intelligence.  The specialized rule sets detect certain use cases. For example, bot rules classify bots as good, bad, or unknown based on the client IP addresses. They also block bad bots and known IP addresses and restrict traffic based on geographical location of the callers.  By using a combination of rule sets, you can detect and block attacks with various intents.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Front Door",
            "text": "Create exclusions for managed rule sets.  Test a WAF policy in detection mode for a few weeks and adjust any false positives before you deploy it.",
            "description": "Reduce false positives and allow legitimate requests for your application.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Front Door",
            "text": "Enable end-to-end TLS, HTTP to HTTPS redirection, and managed TLS certificates when applicable.  Review the TLS best practices for Azure Front Door.  Use TLS version 1.2 as the minimum allowed version with ciphers that are relevant for your application.  Azure Front Door managed certificates should be your default choice for ease of operations. However, if you want to manage the lifecycle of the certificates, use your own certificates in Azure Front Door custom domain endpoints and store them in Key Vault.",
            "description": "TLS ensures that data exchanges between the browser, Azure Front Door, and the back-end origins are encrypted to prevent tampering.  Key Vault offers managed certificate support and simple certificate renewal and rotation.",
            "type": "recommendation"
        },
        {
            "waf": "cost",
            "service": "Azure Front Door",
            "text": "Review Azure Front Door tiers and pricing. Use the pricing calculator to estimate the realistic costs for each tier. Compare the features and suitability of each tier for your scenario. For instance, only the Premium tier supports connecting to your origin via Private Link.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Front Door",
            "text": "Consider bandwidth costs. The bandwidth costs of Azure Front Door depend on the tier that you choose and the type of data transfer. Azure Front Door provides built-in reports for billable metrics. To assess your costs related to bandwidth and where you can focus your optimization efforts, see Azure Front Door reports.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Front Door",
            "text": "Optimize incoming requests. Azure Front Door bills the incoming requests. You can set restrictions in your design configuration.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Front Door",
            "text": "Use resources efficiently. Azure Front Door uses a routing method that helps with resource optimization. Unless the workload is extremely latency sensitive, distribute traffic evenly across all environments to effectively use deployed resources.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Front Door",
            "text": "Consider using a shared instance that's provided by the organization. Costs incurred from centralized services are shared between the workloads. However, consider the tradeoff with reliability. For mission-critical applications that have high availability requirements, we recommend an autonomous instance.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Front Door",
            "text": "Pay attention to the amount of data logged. Costs related to both bandwidth and storage can accrue if certain requests aren't necessary or if logging data is retained for a long period of time.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Cost",
            "service": "Azure Front Door",
            "text": "Use caching for endpoints that support it.",
            "description": "Caching optimizes data transfer costs because it reduces the number of calls from your Azure Front Door instance to the origin.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Front Door",
            "text": "Consider enabling file compression. For this configuration, the application must support compression and caching must be enabled.",
            "description": "Compression reduces bandwidth consumption and improves performance.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Front Door",
            "text": "Disable health checks in single back-end pools.If you have only one origin configured in your Azure Front Door origin group, these calls are unnecessary.",
            "description": "You can save on bandwidth costs by disabling requests that aren't required to make routing decisions.",
            "type": "recommendation"
        },
        {
            "waf": "operations",
            "service": "Azure Front Door",
            "text": "Use infrastructure as code (IaC) technologies. Use IaC technologies like Bicep and Azure Resource Manager templates to provision the Azure Front Door instance. These declarative approaches provide consistency and straightforward maintenance. For example, by using IaC technologies, you can easily adopt new ruleset versions.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Front Door",
            "text": "Simplify configurations. Use Azure Front Door to easily manage configurations. For example, suppose your architecture supports microservices. Azure Front Door supports redirection capabilities, so you can use path-based redirection to target individual services.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Front Door",
            "text": "Handle progressive exposure by using Azure Front Door routing methods. For a weighted load balancing approach you can use a canary deployment to send a specific percentage of traffic to a back end. This approach helps you test new features and releases in a controlled environment before you roll them out.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Front Door",
            "text": "Collect and analyze Azure Front Door operational data as part of your workload monitoring. Capture relevant Azure Front Door logs and metrics with Azure Monitor Logs. This data helps you troubleshoot, understand user behaviors, and optimize operations.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Front Door",
            "text": "Offload certificate management to Azure. Ease the operational burden associated with certification rotation and renewals.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Operations",
            "service": "Azure Front Door",
            "text": "Use HTTP to HTTPS redirection to support forward compatibility.",
            "description": "When redirection is enabled, Azure Front Door automatically redirects clients that are using older protocol to use HTTPS for a secure experience.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Front Door",
            "text": "Capture logs and metrics.  Include resource activity logs, access logs, health probe logs, and WAF logs. Set up alerts.",
            "description": "Monitoring ingress flow is a crucial part of monitoring an application. You want to track requests and make performance and security improvements. You need data to debug your Azure Front Door configuration.  With alerts in place, you can get instant notifications of any critical operational issues.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Front Door",
            "text": "Review the built-in analytics reports.",
            "description": "A holistic view of your Azure Front Door profile helps drive improvements based on traffic and security reports through WAF metrics.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Front Door",
            "text": "Use managed TLS certificates when possible.",
            "description": "Azure Front Door can issue and manage certificates for you. This feature eliminates the need for certificate renewals and minimizes the risk of an outage due to an invalid or expired TLS certificate.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Front Door",
            "text": "Use wildcard TLS certificates.",
            "description": "You don't need to modify the configuration to add or specify each subdomain separately.",
            "type": "recommendation"
        },
        {
            "waf": "performance",
            "service": "Azure Front Door",
            "text": "Plan capacity by analyzing your expected traffic patterns. Conduct thorough testing to understand how your application performs under different loads. Consider factors like simultaneous transactions, request rates, and data transfer.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Front Door",
            "text": "Analyze performance data by regularly reviewing Azure Front Door reports. These reports provide insights into various metrics that serve as performance indicators at the technology level.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Front Door",
            "text": "Optimize data transfers.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Front Door",
            "text": "Optimize the use of health probes. Get health information from health probes only when the state of the origins change. Strike a balance between monitoring accuracy and minimizing unnecessary traffic.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Front Door",
            "text": "Review the origin routing method. Azure Front Door provides various routing methods, including latency-based, priority-based, weighted, and session affinity-based routing, to the origin. These methods significantly affect your application's performance. To learn more about the best traffic routing option for your scenario, see Traffic routing methods to origin.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Front Door",
            "text": "Review the location of origin servers. Your origin servers' location impacts the responsiveness of your application. Origin servers should be closer to the users. Azure Front Door ensures that users from a specific location access the nearest Azure Front Door entry point. The performance benefits include faster user experience, better use of latency-based routing by Azure Front Door, and minimized data transfer time by using caching, which stores content closer to users.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Performance",
            "service": "Azure Front Door",
            "text": "Enable caching.  You can optimize query strings for caching. For purely static content, ignore query strings to maximize your use of the cache.  If your application uses query strings, consider including them in the cache key. Including the query strings in the cache key allows Azure Front Door to serve cached responses or other responses, based on your configuration.",
            "description": "Azure Front Door offers a robust content delivery network solution that caches content at the edge of the network. Caching reduces the load on the back-end servers and reduces data movement across the network, which helps offload bandwidth usage.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Front Door",
            "text": "Use file compression when you're accessing downloadable content.",
            "description": "Compression in Azure Front Door helps deliver content in the optimal format, has a smaller payload, and delivers content to the users faster.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Front Door",
            "text": "When you configure health probes in Azure Front Door, consider using `HEAD` requests instead of `GET` requests.  The health probe reads only the status code, not the content.",
            "description": "`HEAD` requests let you query a state change without fetching its entire content.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Front Door",
            "text": "Evaluate whether you should enable session affinity when requests from the same user should be directed to the same back-end server.  From a reliability perspective, we don't recommend this approach. If you use this option, the application should gracefully recover without disrupting user sessions.  There's also a tradeoff on load balancing because it restricts the flexibility of distributing traffic across multiple back ends evenly.",
            "description": "Optimize performance and maintain continuity for user sessions, especially when applications rely on maintaining state information locally.",
            "type": "recommendation"
        },
        {
            "waf": "reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: For critical workloads, use availability zones for your AKS clusters.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Plan the IP address space to ensure your cluster can reliably scale, including handling of failover traffic in multi-cluster topologies.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Enable Container insights to monitor your cluster and configure alerts for reliability-impacting events.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Ensure workloads are built to support horizontal scaling and report application readiness and health.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Ensure your workload is running on user node pools and chose the right size SKU. At a minimum, include two nodes for user node pools and three nodes for the system node pool.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use the AKS Uptime SLA to meet availability targets for production workloads.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Control pod scheduling using node selectors and affinity.",
            "description": "Allows the Kubernetes scheduler to logically isolate workloads by hardware in the node. Unlike tolerations, pods without a matching node selector can be scheduled on labeled nodes, which allows unused resources on the nodes to consume, but gives priority to pods that define the matching node selector. Use node affinity for more flexibility, which allows you to define what happens if the pod can't be matched with a node.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Ensure proper selection of network plugin based on network requirements and cluster sizing.",
            "description": "Azure CNI is required for specific scenarios, for example, Windows-based node pools, specific networking requirements and Kubernetes Network Policies. Reference Kubenet versus Azure CNI for more information.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Use the AKS Uptime SLA for production grade clusters.",
            "description": "The AKS Uptime SLA guarantees: - `99.95%` availability of the Kubernetes API server endpoint for AKS Clusters that use Azure Availability Zones, or  - `99.9%` availability for AKS Clusters that don't use Azure Availability Zones.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Configure monitoring of cluster with Container insights.",
            "description": "Container insights help monitor the health and performance of controllers, nodes, and containers that are available in Kubernetes through the Metrics API. Integration with Prometheus enables collection of application and workload metrics.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use availability zones to maximize resilience within an Azure region by distributing AKS agent nodes across physically separate data centers.",
            "description": "By spreading node pools across multiple zones, nodes in one node pool will continue running even if another zone has gone down. If colocality requirements exist, either a regular VMSS-based AKS deployment into a single zone or proximity placement groups can be used to minimize internode latency.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Adopt a multiregion strategy by deploying AKS clusters deployed across different Azure regions to maximize availability and provide business continuity.",
            "description": "Internet facing workloads should leverage Azure Front Door or Azure Traffic Manager to route traffic globally across AKS clusters.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Define Pod resource requests and limits in application deployment manifests, and enforce with Azure Policy.",
            "description": "Container CPU and memory resource limits are necessary to prevent resource exhaustion in your Kubernetes cluster.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Keep the System node pool isolated from application workloads.",
            "description": "System node pools require a VM SKU of at least 2 vCPUs and 4 GB memory, but 4 vCPU or more is recommended. Reference System and user node pools for detailed requirements.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Separate applications to dedicated node pools based on specific requirements.",
            "description": "Applications may share the same configuration and need GPU-enabled VMs, CPU or memory optimized VMs, or the ability to scale-to-zero. Avoid large number of node pools to reduce extra management overhead.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use a NAT gateway for clusters that run workloads that make many concurrent outbound connections.",
            "description": "To avoid reliability issues with Azure Load Balancer limitations with high concurrent outbound traffic, us a NAT Gateway instead to support reliable egress traffic at scale.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use Managed Identities to avoid managing and rotating service principles.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use Kubernetes role-based access control (RBAC) with Microsoft Entra ID for least privilege access and minimize granting administrator privileges to protect configuration, and secrets access.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use Microsoft Defender for containers with Azure Sentinel to detect and quickly respond to threats across your cluster and workloads running on them.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Deploy a private AKS cluster to ensure cluster management traffic to your API server remains on your private network. Or use the API server allow list for non-private clusters.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Use a Web Application Firewall to secure HTTP(S) traffic.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Ensure your CI/CID pipeline is hardened with container-aware scanning.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use Microsoft Entra integration.",
            "description": "Using Microsoft Entra ID centralizes the identity management component. Any change in user account or group status is automatically updated in access to the AKS cluster. The developers and application owners of your Kubernetes cluster need access to different resources.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Authenticate with Microsoft Entra ID to Azure Container Registry.",
            "description": "AKS and Microsoft Entra ID enables authentication with Azure Container Registry without the use of `imagePullSecrets` secrets. Review Authenticate with Azure Container Registry from Azure Kubernetes Service for more information.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Secure network traffic to your API server with private AKS cluster.",
            "description": "By default, network traffic between your node pools and the API server travels the Microsoft backbone network; by using a private cluster, you can ensure network traffic to your API server remains on the private network only.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: For non-private AKS clusters, use API server authorized IP ranges.",
            "description": "When using public clusters, you can still limit the traffic that can reach your clusters API server by using the authorized IP range feature. Include sources like the public IPs of your deployment build agents, operations management, and node pools' egress point (such as Azure Firewall).",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Protect the API server with Microsoft Entra RBAC.",
            "description": "Securing access to the Kubernetes API Server is one of the most important things you can do to secure your cluster. Integrate Kubernetes role-based access control (RBAC) with Microsoft Entra ID to control access to the API server. Disable local accounts to enforce all cluster access using Microsoft Entra ID-based identities.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use Azure network policies or Calico.",
            "description": "Secure and control network traffic between pods in a cluster.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Secure clusters and pods with Azure Policy.",
            "description": "Azure Policy can help to apply at-scale enforcement and safeguards on your clusters in a centralized, consistent manner. It can also control what functions pods are granted and if anything is running against company policy.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Secure container access to resources.",
            "description": "Limit access to actions that containers can perform. Provide the least number of permissions, and avoid the use of root or privileged escalation.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Use a Web Application Firewall to secure HTTP(S) traffic.",
            "description": "To scan incoming traffic for potential attacks, use a web application firewall such as Azure Web Application Firewall (WAF) on Azure Application Gateway or Azure Front Door.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Control cluster egress traffic.",
            "description": "Ensure your cluster's outbound traffic is passing through a network security point such as Azure Firewall or an HTTP proxy.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use the open-source Microsoft Entra Workload ID and Secrets Store CSI Driver with Azure Key Vault.",
            "description": "Protect and rotate secrets, certificates, and connection strings in Azure Key Vault with strong encryption. Provides an access audit log, and keeps core secrets out of the deployment pipeline.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use Microsoft Defender for Containers.",
            "description": "Monitor and maintain the security of your clusters, containers, and their applications.",
            "type": "recommendation"
        },
        {
            "waf": "cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use appropriate VM SKU per node pool and reserved instances where long-term capacity is expected.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Use appropriate managed disk tier and size.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Review performance metrics, starting with CPU, memory, storage, and network, to identify cost optimization opportunities by cluster, nodes, and namespace.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architecture: Use autoscalers to scale in when workloads are less active.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Align SKU selection and managed disk size with workload requirements.",
            "description": "Matching your selection to your workload demands ensures you don't pay for unneeded resources.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Select the right virtual machine instance type.",
            "description": "Selecting the right virtual machine instance type is critical as it directly impacts the cost of running applications on AKS. Choosing a high-performance instance without proper utilization can lead to wasteful spending, while choosing a powerful instance can lead to performance issues and increased downtime. To determine the right virtual machine instance type, consider workload characteristics, resource requirements, and availability needs.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Select virtual machines based on the Arm architecture.",
            "description": "AKS supports creating ARM64 Ubuntu agent nodes, as well as a of mix Intel and ARM architecture nodes within a cluster that can bring better performance at a lower cost.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Select Azure Spot Virtual Machines.",
            "description": "Spot VMs allow you to take advantage of unutilized Azure capacity with significant discounts (up to 90% as compared to pay-as-you-go prices). If Azure needs capacity back, the Azure infrastructure evicts the Spot nodes.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Select the appropriate region.",
            "description": "Due to many factors, cost of resources varies per region in Azure. Evaluate the cost, latency, and compliance requirements to ensure you are running your workload cost-effectively and it doesn't affect your end-users or create extra networking charges.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Maintain small and optimized images.",
            "description": "Streamlining your images helps reduce costs since new nodes need to download these images. Build images in a way that allows the container start as soon as possible to help avoid user request failures or timeouts while the application is starting up, potentially leading to overprovisioning.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Enable Cluster Autoscaler to automatically reduce the number of agent nodes in response to excess resource capacity.",
            "description": "Automatically scaling down the number of nodes in your AKS cluster lets you run an efficient cluster when demand is low and scale up when demand returns.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Enable Node Autoprovision to automate VM SKU selection.",
            "description": "Node Autoprovision simplifies the SKU selection process and decides, based on pending pod resource requirements, the optimal VM configuration to run workloads in the most efficient and cost effective manner.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Use the Horizontal Pod Autoscaler.",
            "description": "Adjust the number of pods in a deployment depending on CPU utilization or other select metrics, which support cluster scale-in operations.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Use Vertical Pod Autoscaler (preview).",
            "description": "Rightsize your pods and dynamically set requests and limits based on historic usage.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Use Kubernetes Event Driven Autoscaling (KEDA).",
            "description": "Scale based on the number of events being processed. Choose from a rich catalogue of 50+ KEDA scalers.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Adopt a cloud financial discipline and cultural practice to drive ownership of cloud usage.",
            "description": "The foundation of enabling cost optimization is the spread of a cost saving cluster. A financial operations approach (FinOps) is often used to help organizations reduce cloud costs. It is a practice involving collaboration between finance, operations, and engineering teams to drive alignment on cost saving goals and bring transparency to cloud costs.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Sign up for Azure Reservations or Azure Savings Plan.",
            "description": "If you properly planned for capacity, your workload is predictable and exists for an extended period of time, sign up for an Azure Reservation or a savings plan to further reduce your resource costs.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Configure monitoring of cluster with Container insights.",
            "description": "Container insights help provides actionable insights into your clusters idle and unallocated resources. Container insights also supports collecting Prometheus metrics and integrates with Azure Managed Grafana to get a holistic view of your application and infrastructure.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Configure the AKS Cost Analysis add-on.",
            "description": "The cost analysis cluster extension enables you to obtain granular insight into costs associated with various Kubernetes resources in your clusters or namespaces.",
            "type": "recommendation"
        },
        {
            "waf": "operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use a template-based deployment using Bicep, Terraform, or others. Make sure that all deployments are repeatable, traceable, and stored in a source code repo.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Build an automated process to ensure your clusters are bootstrapped with the necessary cluster-wide configurations and deployments. This is often performed using GitOps.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Use a repeatable and automated deployment processes for your workload within your software development lifecycle.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Enable diagnostics settings to ensure control plane or core API server interactions are logged.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Enable Container insights to collect metrics, logs, and diagnostics to monitor the availability and performance of the cluster and workloads running on it.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: The workload should be designed to emit telemetry that can be collected, which should also include liveliness and readiness statuses.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Use chaos engineering practices that target Kubernetes to identify application or platform reliability issues.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Optimize your workload to operate and deploy efficiently in a container.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Enforce cluster and workload governance using Azure Policy.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Review AKS best practices documentation.",
            "description": "To build and run applications successfully in AKS, there are key considerations to understand and implement. These areas include multi-tenancy and scheduler features, cluster, and pod security, or business continuity and disaster recovery.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Review Azure Chaos Studio.",
            "description": "Azure Chaos Studio can help simulate faults and trigger disaster recovery situations.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Configure monitoring of cluster with Container insights.",
            "description": "Container insights help monitor the performance of containers by collecting memory and processor metrics from controllers, nodes, and containers that are available in Kubernetes through the Metrics API and container logs.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Monitor application performance with Azure Monitor.",
            "description": "Configure Application Insights for code-based monitoring of applications running in an AKS cluster.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Configure scraping of Prometheus metrics with Container insights.",
            "description": "Container insights, which are part of Azure Monitor, provide a seamless onboarding experience to collect Prometheus metrics. Reference Configure scraping of Prometheus metrics for more information.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Adopt a multiregion strategy by deploying AKS clusters deployed across different Azure regions to maximize availability and provide business continuity.",
            "description": "Internet facing workloads should leverage Azure Front Door or Azure Traffic Manager to route traffic globally across AKS clusters.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Operationalize clusters and pods configuration standards with Azure Policy.",
            "description": "Azure Policy can help to apply at-scale enforcement and safeguards on your clusters in a centralized, consistent manner. It can also control what functions pods are granted and if anything is running against company policy.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Use platform capabilities in your release engineering process.",
            "description": "Kubernetes and ingress controllers support many advanced deployment patterns for inclusion in your release engineering process. Consider patterns like blue-green deployments or canary releases.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: For mission-critical workloads, use stamp-level blue/green deployments.",
            "description": "Automate your mission-critical design areas, including deployment and testing.",
            "type": "recommendation"
        },
        {
            "waf": "performance",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Perform and iterate on a detailed capacity plan exercise that includes SKU, autoscale settings, IP addressing, and failover considerations.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Enable cluster autoscaler to automatically adjust the number of agent nodes in response workload demands.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Use the Horizontal pod autoscaler to adjust the number of pods in a deployment depending on CPU utilization or other select metrics.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Perform ongoing load testing activities that exercise both the pod and cluster autoscaler.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Separate workloads into different node pools allowing independent scalling.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Performance",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Develop a detailed capacity plan and continually review and revise.",
            "description": "After formalizing your capacity plan, it should be frequently updated by continuously observing the resource utilization of the cluster.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Kubernetes Service",
            "text": "Cluster architecture: Enable cluster autoscaler to automatically adjust the number of agent nodes in response to resource constraints.",
            "description": "The ability to automatically scale up or down the number of nodes in your AKS cluster lets you run an efficient, cost-effective cluster.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Kubernetes Service",
            "text": "Cluster and workload architectures: Separate workloads into different node pools and consider scaling user node pools.",
            "description": "Unlike System node pools that always require running nodes, user node pools allow you to scale up or down.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Use AKS advanced scheduler features.",
            "description": "Helps control balancing of resources for workloads that require them.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Kubernetes Service",
            "text": "Workload architecture: Use meaningful workload scaling metrics.",
            "description": "Not all scale decisions can be derived from CPU or memory metrics. Often scale considerations will come from more complex or even external data points. Use KEDA to build a meaningful auto scale ruleset based on signals that are specific to your workload.",
            "type": "recommendation"
        },
        {
            "waf": "reliability",
            "service": "Azure Machine Learning",
            "text": "Resiliency: Deploy models to environments that support availability zones, such as AKS. By ensuring deployments are distributed across availability zones, you're ensuring a deployment is available even in the event of a datacenter failure. For enhanced reliability and availability, consider a multi-region deployment topology.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Machine Learning",
            "text": "Resiliency: Ensure you have sufficient compute for both training and inferencing. Through resource planning, make sure your compute SKU and scale settings meet the requirements of your workload.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Machine Learning",
            "text": "Resiliency: Segregate Machine Learning workspaces used for exploratory work from those used for production.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Machine Learning",
            "text": "Resiliency: When using managed online endpoints for inferencing, use a release strategy such as blue-green deployments to minimize downtime and reduce the risk associated with deploying new versions.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Machine Learning",
            "text": "Business requirements: Select your use of compute clusters, compute instances, and externalized inference hosts based on reliability needs, considering service-level agreements (SLAs) as a factor.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Machine Learning",
            "text": "Recovery: Ensure you have self-healing capabilities, such as checkpointing features supported by Machine Learning, when training large models.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Machine Learning",
            "text": "Recovery: Ensure you have a recovery strategy defined. Machine Learning doesn't have automatic failover. Therefore, you must design a strategy that encompasses the workspace and all its dependencies, such as Key Vault, Azure Storage, and Azure Container Registry.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Reliability",
            "service": "Azure Machine Learning",
            "text": "Multi-region model deployment: For enhanced reliability and availability, consider a multi-region deployment environment when possible.",
            "description": "A multi-region deployment ensures that your Machine Learning workloads continue to run even if one region experiences an outage. Multi-region deployment improves load distribution across regions, potentially enhancing performance for users located in different geographical areas. For more information, see Failover for business continuity and disaster recovery.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Machine Learning",
            "text": "Model training resiliency: Use checkpointing features supported by Machine Learning including Azure Container for PyTorch, the TensorFlow Estimator class, or the Run object and the FileDataset class that support model checkpointing.",
            "description": "Model checkpointing periodically saves the state of your machine learning model during training, so that it can be restored in case of interruption, failure, or termination. For more information, see Boost checkpoint speed and reduce cost with Nebula.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Machine Learning",
            "text": "Use the Dedicated virtual machine tier for compute clusters: Use the Dedicated virtual machine tier for compute clusters for batch inferencing to ensure your batch job isn't preempted.",
            "description": "Low-priority virtual machines come at a reduced price but are preemptible. Clusters that use the Dedicated virtual machine tier aren't preempted.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "Azure Machine Learning",
            "text": "Availability: Reduce the attack surface of the Machine Learning workspace by restricting access to the workspace to resources within the virtual network.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Machine Learning",
            "text": "Confidentiality: Guard against data exfiltration from the Machine Learning workspace by implementing network isolation. Ensure access to all external resources is explicitly approved and access to all other external resources isn't permitted.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Machine Learning",
            "text": "Integrity: Implement access controls that authenticate and authorize the Machine Learning workspace for external resources based on the least privilege principle.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Machine Learning",
            "text": "Integrity: Implement use case segregation for Machine Learning workspaces by setting up workspaces based on specific use cases or projects. This approach adheres to the principle of least privilege by ensuring that workspaces are only accessible to individuals that require access to data and experimentation assets for the use case or project.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Machine Learning",
            "text": "Integrity: Regulate access to foundational models. Ensure only approved registries have access to models in the model registry.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Machine Learning",
            "text": "Integrity: Regulate access to approved container registries. Ensure Machine Learning compute can only access approved registries.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Machine Learning",
            "text": "Integrity: Regulate the Python packages that can be run on Machine Learning compute. Regulating the Python packages ensures only trusted packages are run.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Machine Learning",
            "text": "Integrity: Require code used for training in Machine Learning compute environments to be signed. Requiring code signing ensures that the code running is from a trusted source and hasn't been tampered with.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Machine Learning",
            "text": "Confidentiality: Adhere to the principle of least privilege for role-based access control (RBAC) to the Machine Learning workspace and related resources, such as the workspace storage account, to ensure individuals have only the necessary permissions for their role, thereby minimizing potential security risks.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Machine Learning",
            "text": "Integrity: Establish trust and verified access by implementing encryption for data at rest and data in transit.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Security baseline: To enhance the security and compliance of your Machine Learning Service, apply the Azure security baseline for Machine Learning.",
            "description": "The security baseline provides tailored guidance on crucial security aspects such as network security, identity management, data protection, and privileged access. For optimal security, use Microsoft Defender for Cloud to monitor these aspects.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Managed virtual network isolation: Configure managed virtual network isolation for Machine Learning. When you enable managed virtual network isolation, a managed virtual network is created for the workspace. Managed compute resources you create for the workspace automatically use this managed virtual network. If you can't implement managed virtual network isolation, then you must follow the network topology recommendations to separate compute into a dedicated subnet away from the rest of the resources in the solution, including the private endpoints for workspace resources.",
            "description": "Managed virtual network isolation enhances security by isolating your workspace from other networks, reducing the risk of unauthorized access. In a scenario in which a breach occurs in another network within your organization, the isolated network of your Machine Learning workspace remains unaffected, protecting your machine learning workloads.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Machine Learning network isolation: Configure a private endpoint for your Machine Learning workspace and connect to the workspace over that private endpoint.",
            "description": "Machine Learning network isolation enhances security by ensuring that access to your workspace is secure and controlled. With a private endpoint configured for your workspace, you can then limit access to your workspace to only occur over the private IP addresses.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Allow only approved outbound access: Configure the outbound mode on the Machine Learning workspace managed outbound access to `Allow only approved outbound` to minimize the risk of data exfiltration. Configure private endpoints, service tags, or fully qualified domain names (FQDNs) for resources that you need to access.",
            "description": "This configuration minimizes the risk of data exfiltration, improving data security. With this configuration enabled, a malicious actor who gains access to your system can\u2019t send your data to an unapproved external destination.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Virtual network isolation for dependent services: Configure dependent services, such as Storage, Key Vault, and Container Registry with private endpoints and disable public access.",
            "description": "Network isolation bolsters security by restricting access to Azure platform as a service (PaaS) solutions to private IP addresses only.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Managed identity: Use managed identities for authentication between Machine Learning and other services.",
            "description": "Managed identities improve security by eliminating the need to store credentials and manually manage and rotate service principals.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Disable local authentication: Disable local authentication for Machine Learning compute clusters and instances.",
            "description": "Disabling local authentication increases the security of your Machine Learning compute and provides centralized control and management of identities and resource credentials.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Disable the public SSH port: Ensure the public Secure Shell (SSH) port is closed on the Machine Learning compute cluster by setting `remoteLoginPortPublicAccess` to `Disabled`. Apply a similar configuration if you use a different compute.",
            "description": "Disabling SSH access helps prevent unauthorized individuals from gaining access and potentially causing harm to your system and protects you against brute force attacks.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Don't provision public IP addresses for Machine Learning compute: Set enableNodePublicIp to `false` when provisioning Machine Learning compute clusters or compute instances. Apply a similar configuration if you use a different compute.",
            "description": "Refrain from provisioning public IP addresses to enhance security by limiting the potential for unauthorized access to your compute instance or clusters.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Get the latest operating system image: Recreate compute instances to get the latest operating system image.",
            "description": "Using the latest images ensures you're maintaining a consistent, stable, and secure environment, including ensuring you have the latest security patches.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Strict Machine Learning workspace access controls: Use Microsoft Entra ID groups to manage workspace access and adhere to the principle of least privilege for RBAC.",
            "description": "Strict workspace access controls enhance security by ensuring that individuals have only the necessary permissions for their role. A data scientist, for instance, might have access to run experiments but not to modify security settings, minimizing potential security risks.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Restrict model catalog deployments: Restrict model deployments to specific registries.",
            "description": "Restricting the deployments from the model catalog to specific registries ensures you only deploy models to approved registries. This approach helps regulate access to the open-source foundational models.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Encrypt data at rest: Consider using customer-managed keys with Machine Learning.",
            "description": "Encrypting data at rest enhances data security by ensuring that sensitive data is encrypted by using keys directly managed by you. If you have a regulatory requirement to manage your own encryption keys, use this feature to comply with that requirement.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Machine Learning",
            "text": "Minimize the risk of data exfiltration: Implement data exfiltration prevention. For example, create a service endpoint policy to filter egress virtual network traffic and permit data exfiltration only to specific Azure Storage accounts.",
            "description": "Minimize the risk of data exfiltration by limiting inbound and outbound requirements.",
            "type": "recommendation"
        },
        {
            "waf": "cost",
            "service": "Azure Machine Learning",
            "text": "Usage optimization: Choose the appropriate resources to ensure that they align with your workload requirements. For example, choose between CPUs or GPUs, various SKUs, or low versus regular-priority VMs.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Machine Learning",
            "text": "Usage optimization: Ensure compute resources that aren't being used are scaled down or shut down when idle to reduce waste.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Machine Learning",
            "text": "Usage optimization: Apply policies and configure quotas to comply with the design's upper and lower limits.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Machine Learning",
            "text": "Usage optimization: Test parallelizing training workloads to determine if training requirements can be met on lower cost SKUs.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Machine Learning",
            "text": "Rate optimization: Purchase Azure Reserved Virtual Machine Instances if you have a good estimate of usage over the next one to three years.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Machine Learning",
            "text": "Monitor and optimize: Monitor your resource usage such as CPU and GPU usage when training models. If the resources aren't being fully used, modify your code to better use resources or scale down to smaller or cheaper VM sizes.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Cost",
            "service": "Azure Machine Learning",
            "text": "Optimize compute resources: Optimize your compute resources based on the requirements of your workload. Choose the SKU that best suits your workload:<ul><li>General Purpose \u2013 Balanced CPU to memory ratio, good for all purposes.</li><li>Compute Optimized \u2013 High CPU to memory ratio, good for math-heavy computations.</li><li>Memory Optimized \u2013 High memory to CPU, good for in-memory computations or database applications.</li><li>M Series \u2013 Very large machines that have huge amounts of memory and CPU. </li><li> GPU \u2013 Better for models with a high number of variables that can benefit from higher parallelism and specialized core instructions. Typical applications are deep learning, image or video processing, scientific simulations, data mining, and taking advantage of GPU development frameworks. Test with multiple families and document the results as your baseline. As your model and data evolve, the most adequate compute resource might change. Monitor execution times and reevaluate as needed.",
            "description": "Selecting the right compute is critical as it directly impacts the cost of running your workload. Choosing a GPU or a high-performance SKU without proper usage can lead to wasteful spending, while choosing undersized compute can lead to prohibitively long training times and performance problems.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Machine Learning",
            "text": "Optimize compute scaling: Configure your compute clusters for autoscaling to ensure you only use what you need.For training clusters, set the minimum number of nodes to 0 and configure the amount of time the node is idle to an appropriate time. For less iterative experimentation, reduce the time to save costs. For more iterative experimentation, use a higher time to prevent paying for scaling up or down after each change.",
            "description": "Configure autoscaling for compute clusters to scale down when their usage is low.  Set the minimum number of nodes to 0 for training clusters to scale down to 0 when not in use.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Machine Learning",
            "text": "Set training termination policies: Set early termination policies to limit the duration of training runs or terminate them early.",
            "description": "Setting termination policies can help you save costs by stopping nonperforming runs early.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Machine Learning",
            "text": "Use low-priority virtual machines for batch workloads: Consider using low-priority virtual machines for batch workloads that aren't time-sensitive and in which interruptions are recoverable.",
            "description": "Low-priority virtual machines enable a large amount of compute power to be used for a low cost. They take advantage of surplus capacity in Azure.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Machine Learning",
            "text": "Enable idle shutdown for compute instances: Enable idle shutdown for compute instances or schedule a start and stop time if usage time is known.",
            "description": "By default, compute instances are available to you, accruing cost. Configuring compute instances to shut down when idle or configuring a schedule for them saves cost when they aren't in use.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Machine Learning",
            "text": "Parallelize training workloads: Consider parallelizing training workloads. Test running them with the help of the parallel components in Machine Learning.",
            "description": "Parallel workloads can be run on multiple smaller instances, potentially yielding cost savings.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Machine Learning",
            "text": "Azure Reserved VM Instances: Purchase Azure Reserved VM Instances if you have a good estimate of usage over the next one to three years. Take advantage of reserved capacity options for services when you have good estimates of usage.",
            "description": "Purchase Azure Reserved VM Instances to prepay for virtual machine usage and provide discounts with pay-as-you-go pricing. The discount is automatically applied for virtual machine usage that matches the reservation.",
            "type": "recommendation"
        },
        {
            "waf": "operations",
            "service": "Azure Machine Learning",
            "text": "Development standards: Take advantage of Machine Learning model catalogs and registries to store, version, and share machine learning assets.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Machine Learning",
            "text": "Automate for efficiency: Follow good machine learning operations (MLOps) practices. When possible, build end-to-end automated pipelines for data preparation, training, and scoring processes. In development, use scripts instead of notebooks for training models, as scripts are easier to integrate into automated pipelines.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Machine Learning",
            "text": "Deploy with confidence: Implement infrastructure as code (IaC) for Machine Learning workspaces, compute clusters, compute instances, and other deployment environments.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Machine Learning",
            "text": "Observability: Monitor the performance of your deployed models including data drift.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Machine Learning",
            "text": "Observability: If your models are deployed to online endpoints, enable Application Insights to monitor online endpoints and deployments. Monitor training infrastructure to ensure you're meeting your baseline requirements.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Machine Learning",
            "text": "Simplicity: Use curated environments optimized for Machine Learning, when available.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Operations",
            "service": "Azure Machine Learning",
            "text": "Minimize Machine Learning workspace instances: Minimize the number of workspaces, when possible, to reduce maintenance.",
            "description": "Limiting the number of workspaces reduces the maintenance effort and cost of operation. For requirements, such as security, you might need multiple separate workspaces. Minimize the number of workspaces when possible.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Machine Learning",
            "text": "Take advantage of model catalogs and registries: Take advantage of Machine Learning model catalogs and registries to store, version, and share machine learning assets.Use Machine Learning model catalogs to help you implement A/B testing and deployment of models.",
            "description": "Use Machine Learning model registries to store and version your machine learning models to track changes and maintain lineage with the job and datasets used for training. With Machine Learning model catalogs, your data science teams can discover, evaluate, and fine tune pretrained foundational machine learning models. Storing versioned models in Machine Learning model registries supports deployment strategies such as A/B releases, canary releases, and rollbacks.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Machine Learning",
            "text": "Monitor model performance: Monitor the performance of your deployed models, and detect data drift on datasets.",
            "description": "Monitoring deployed models ensures your models meet the performance requirements.Monitoring data drift helps you detect changes in the input data that can lead to a decline in your model\u2019s performance. Managing data drift helps you ensure that your model provides accurate results over time.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Machine Learning",
            "text": "Monitor infrastructure: If your models are deployed to online endpoints, enable Application Insights to monitor online endpoints and deployments.Monitor training infrastructure to ensure you're meeting your baseline requirements.Ensure you're collecting resource logs for Machine Learning.",
            "description": "Monitoring endpoints gives you visibility into metrics such as request latency and requests per minute. You can compare your performance versus your baseline and use this information to make changes to compute resources accordingly. Monitoring metrics such as network bytes can alert you if you're approaching quota limits and prevent throttling.Likewise, monitoring your training environment provides you with the information to make changes to your training environment. Use that information to decide to scale in or out, scale up or down with different performant SKUs, or choose between CPUs or GPUs.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Azure Machine Learning",
            "text": "Curate model training environments: Use curated environments optimized for Machine Learning, when available.",
            "description": "Curated environments are pre-created environments provided by Machine Learning that speed up deployment time and reduce deployment and training latency. Using curated environments improves training and deployment success rates and avoids unnecessary image builds. Curated environments, such as Azure Container for PyTorch, can also be optimized for training large models on Machine Learning.",
            "type": "recommendation"
        },
        {
            "waf": "performance",
            "service": "Azure Machine Learning",
            "text": "Performance targets: Determine the acceptable training time and retrain frequency for your model. Setting a clear target for training time, along with testing, helps you determine the compute resources, CPU versus GPU, and CPU SKUs required to meet the training time goal.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Machine Learning",
            "text": "Performance targets: Define the acceptable performance targets for your deployed models including response time, requests per second, error rate, and uptime. Performance targets act as a benchmark for your deployed model's efficiency. Targets can help you make CPU versus GPU determinations, CPU SKU choices, and scaling requirements.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Machine Learning",
            "text": "Meet capacity requirements: Choose the right compute resources for model training.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Machine Learning",
            "text": "Meet capacity requirements: Choose the right compute resources for model deployments.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Machine Learning",
            "text": "Meet capacity requirements: Choose deployment environments with autoscaling capabilities to add and remove capacity as demand fluctuates.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Machine Learning",
            "text": "Achieve and sustain performance: Continuously monitor the performance of your deployed models, review results, and take appropriate actions.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Machine Learning",
            "text": "Achieve and sustain performance: Continuously monitor the performance of your infrastructure of deployed models, review results, and take appropriate actions. Monitor training infrastructure to ensure you're meeting your requirements for training time.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Performance",
            "service": "Azure Machine Learning",
            "text": "Select appropriate compute services for model training: Consider Machine Learning compute clusters over compute instances for model training if you require autoscaling.Optimize your compute resources based on the training requirements. First choose between CPUs and GPUs. Default to CPUs, but consider GPUs for workloads such as deep learning, image or video processing, or large amounts of data. Next, choose the image SKU that best suits your workload.Use testing to choose the compute option that optimizes cost against training time when determining your baseline.",
            "description": "Selecting the right compute is critical as it directly impacts the training time. Choosing the right SKU and CPU versus GPU ensures your model training can meet your requirements and performance targets. Choosing a low-performance SKU that's overused can lead to prohibitively long training times and performance problems. Compute clusters provide the ability to improve performance by scaling out workloads that support horizontal scaling. This method provides flexibility for handling workloads with different demands and lets you add or remove machines as needed.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Machine Learning",
            "text": "Model deployment environment scaling: Use the deployment environment\u2019s autoscale capabilities. For AKS deployment environments, use the cluster autoscaler to scale to meet demand. For online endpoints, automatically scale via integration with the Azure Monitor autoscale feature.",
            "description": "Autoscaling adjusts the number of instances of the deployed model to match demand.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Machine Learning",
            "text": "Monitor model performance: Monitor the performance of your deployed models.",
            "description": "Tracking the performance of models in production alerts you to potential problems such as data drift, prediction drift, data quality, and feature attribution drift.Monitoring data drift helps you detect changes in the input data that can lead to a decline in your model\u2019s performance. Managing data drift helps you ensure that your model provides accurate results over time.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Azure Machine Learning",
            "text": "Monitor infrastructure: Monitor online endpoints and integrate with Monitor to track and monitor the appropriate metrics and logs. Enable Application Insights when creating online deployments.Monitor training infrastructure and review resource usage such as memory and CPU or GPU usage when training models to ensure you're meeting your baseline requirements.",
            "description": "Monitoring endpoints gives you visibility into metrics such as request latency and requests per minute. You can compare your performance versus your baseline and use this information to make changes to compute resources accordingly. Monitoring metrics such as network bytes can alert you if you're approaching quota limits and prevent throttling.Likewise, monitoring your training environment provides you with the information to make changes to your training environment. Use that information to decide to scale in or out, scale up or down with different performant SKUs, or choose between CPUs or GPUs.",
            "type": "recommendation"
        },
        {
            "waf": "reliability",
            "service": "Azure Openai",
            "text": "Resiliency: Choose the appropriate deployment option of either pay-as-you-go or provisioned throughput based on your use case. Because reserved capacity increases resiliency, choose provisioned throughput for production solutions. The pay-as-you-go approach is ideal for dev/test environments.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Openai",
            "text": "Redundancy: Add the appropriate gateways in front of your Azure OpenAI deployments. The gateway must have the capability to withstand transient failures like throttling and also route to multiple Azure OpenAI instances. Consider routing to instances in different regions to build regional redundancy.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Openai",
            "text": "Resiliency: If you're using provisioned throughput, consider also deploying a pay-as-you-go instance to handle overflow. You can route calls to the pay-as-you-go instance via your gateway when your provisioned throughput model is throttled. You can also use monitoring to predict when the model will be throttled and preemptively route calls to the pay-as-you-go instance.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Openai",
            "text": "Resiliency: Monitor capacity usage to ensure you aren't exceeding throughput limits. Regularly review capacity usage to achieve more accurate forecasting and help prevent service interruptions due to capacity constraints.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Openai",
            "text": "Resiliency: Follow the guidance for large data files and import the data from an Azure blob store. Large files, 100 MB or larger, can become unstable when uploaded through multipart forms because the requests are atomic and can't be retried or resumed.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Azure Openai",
            "text": "Recovery: Define a recovery strategy that includes a recovery plan for models that are fine-tuned and for training data uploaded to Azure OpenAI. Because Azure OpenAI doesn't have automatic failover, you must design a strategy that encompasses the entire service and all dependencies, such as storage that contains training data.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Reliability",
            "service": "Azure Openai",
            "text": "Monitor rate limits for pay-as-you-go: If you're using the pay-as-you-go approach, manage rate limits for your model deployments and monitor usage of tokens per minute (TPM) and requests per minute (RPM).",
            "description": "This important throughput information provides information required to ensure that you assign enough TPM from your quota to meet the demand for your deployments.Assigning enough quota prevents throttling of calls to your deployed models.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Openai",
            "text": "Monitor provision-managed utilization for provisioned throughput: If you're using the provisioned throughput payment model, monitor provision-managed utilization.",
            "description": "It's important to monitor provision-managed utilization to ensure it doesn't exceed 100%, to prevent throttling of calls to your deployed models.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Azure Openai",
            "text": "Tune content filters: Tune content filters to minimize false positives from overly aggressive filters.",
            "description": "Content filters block prompts or completions based on an opaque risk analysis. Ensure content filters are tuned to allow expected usage for your workload.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "Azure Openai",
            "text": "Protect confidentiality: If you upload training data to Azure OpenAI, use customer-managed keys for data encryption, implement a key-rotation strategy, and delete training, validation, and training results data. If you use an external data store for training data, follow security best practices for that store. For example, for Azure Blob Storage, use customer-managed keys for encryption and implement a key-rotation strategy. Use managed identity-based access, implement a network perimeter by using private endpoints, and enable access logs.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Openai",
            "text": "Protect confidentiality: Guard against data exfiltration by limiting the outbound URLs that Azure OpenAI resources can access.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Openai",
            "text": "Protect integrity: Implement access controls to authenticate and authorize user access to the system by using the least-privilege principle and by using individual identities instead of keys.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Openai",
            "text": "Protect integrity: Implement jailbreak risk detection to safeguard your language model deployments against prompt injection attacks.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Azure Openai",
            "text": "Protect availability: Use security controls to prevent attacks that might exhaust model usage quotas. You might configure controls to isolate the service on a network. If the service must be accessible from the internet, consider using a gateway to block suspected abuse by using routing or throttling.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "Azure Openai",
            "text": "Secure keys: If your architecture requires Azure OpenAI key-based authentication, store those keys in Azure Key Vault, not in application code.",
            "description": "Separating secrets from code by storing them in Key Vault reduces the chance of leaking secrets. Separation also facilitates central management of secrets, easing responsibilities like key rotation.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Openai",
            "text": "Restrict access: Disable public access to Azure OpenAI unless your workload requires it. Create private endpoints if you're connecting from consumers in an Azure virtual network.",
            "description": "Controlling access to Azure OpenAI helps prevent attacks from unauthorized users. Using private endpoints ensures network traffic remains private between the application and the platform.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Openai",
            "text": "Microsoft Entra ID: Use Microsoft Entra ID for authentication and to authorize access to Azure OpenAI by using role-based access control (RBAC). Disable local authentication in Azure AI Services and set `disableLocalAuth` to `true`. Grant identities that perform completions or image generation the Cognitive Services OpenAI User role. Grant model automation pipelines and ad-hoc data-science access a role like Cognitive Services OpenAI Contributor.",
            "description": "Using Microsoft Entra ID centralizes the identity-management component and eliminates the use of API keys. Using RBAC with Microsoft Entra ID ensures that users or groups have exactly the permissions they need to do their job. This kind of fine-grained access control isn't possible with Azure OpenAI API keys.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Openai",
            "text": "Use customer-managed keys: Use customer-managed keys for fine-tuned models and training data that's uploaded to Azure OpenAI.",
            "description": "Using customer-managed keys gives you greater flexibility to create, rotate, disable, and revoke access controls.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Azure Openai",
            "text": "Protect against jailbreak attacks: Use Azure AI Content Safety Studio to detect jailbreak risks.",
            "description": "Detect jailbreak attempts to identify and block prompts that try to bypass the safety mechanisms of your Azure OpenAI deployments.",
            "type": "recommendation"
        },
        {
            "waf": "cost",
            "service": "Azure Openai",
            "text": "Cost management: Develop your cost model, considering prompt sizes. Understanding prompt input and response sizes and how text translates into tokens helps you create a viable cost model.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Openai",
            "text": "Usage optimization: Start with pay-as-you-go pricing for Azure OpenAI until your token usage is predictable.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Openai",
            "text": "Rate optimization: When your token usage is sufficiently high and predictable over a period of time, use the provisioned throughput pricing model for better cost optimization.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Openai",
            "text": "Usage optimization: Consider model pricing and capabilities when you choose models. Start with less-costly models for less-complex tasks like text generation or completion tasks. For more complex tasks like language translation or content understanding, consider using more advanced models. Consider different model capabilities and maximum token usage limits when you choose a model that's appropriate for use cases like text embedding, image generation, or transcription scenarios. By carefully selecting the model that best fits your needs, you can optimize costs while still achieving the desired application performance.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Openai",
            "text": "Usage optimization: Use the token-limiting constraints offered by the API calls, such as `max_tokens` and `n`, which indicate the number of completions to generate.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Openai",
            "text": "Usage optimization: Maximize Azure OpenAI price breakpoints, for example, fine-tuning and model breakpoints like image generation. Because fine-tuning is charged per hour, use as much time as you have available per hour to improve fine-tuning results while avoiding slipping into the next billing period. Similarly, the cost for generating 100 images is the same as the cost for 1 image. Maximize price breakpoints to your advantage.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Openai",
            "text": "Usage optimization: Remove unused fine-tuned models when they're no longer being consumed to avoid incurring an ongoing hosting fee.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Openai",
            "text": "Adjust usage: Optimize prompt input and response length. Longer prompts raise costs by consuming more tokens. However, prompts that are missing sufficient context don't help the models yield good results. Create concise prompts that provide enough context for the model to generate a useful response. Also ensure that you optimize the limit of the response length.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Openai",
            "text": "Cost efficiency: Batch requests where possible to minimize the per-call overhead, which can reduce overall costs. Ensure that you optimize batch size.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Openai",
            "text": "Cost efficiency: Because models have different fine-tuning costs, consider these costs if your solution requires fine-tuning.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Azure Openai",
            "text": "Monitor and optimize: Set up a cost-tracking system that monitors model usage. Use that information to help inform model choices and prompt sizes.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Cost",
            "service": "Azure Openai",
            "text": "Design client code to set limits: Your custom clients should use the limit features of the Azure OpenAI completions API, such as maximum limit on the number of tokens per model (`max_tokens`) or number of completions to generation (`n`). Setting limits ensures that the server doesn't produce more than the client needs.",
            "description": "Using API features to restrict usage aligns service consumption with client needs. This saves money by ensuring the model doesn't generate an overly long response that consumes more tokens than necessary.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Openai",
            "text": "Monitor pay-as-you-go usage: If you use the pay-as-you-go approach, monitor usage of TPM and RPM. Use that information to inform architectural design decisions such as what models to use, and to optimize prompt sizes.",
            "description": "Continuously monitoring TPM and RPM gives you relevant metrics to optimize the cost of Azure OpenAI models. You can couple this monitoring with model features and model pricing to optimize model usage. You can also use this monitoring to optimize prompt sizes.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Openai",
            "text": "Monitor provisioned throughput usage: If you use provisioned throughput, monitor provision-managed utilization to ensure you're not underutilizing the provisioned throughput you purchased.",
            "description": "Continuously monitoring provision-managed utilization gives you the information you need to understand if you're underutilizing your provisioned throughput.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Azure Openai",
            "text": "Cost management: Use cost management features with OpenAI to monitor costs, set budgets to manage costs, and create alerts to notify stakeholders of risks or anomalies.",
            "description": "Cost monitoring, setting budgets, and setting alerts provides governance with the appropriate accountability processes.",
            "type": "recommendation"
        },
        {
            "waf": "operations",
            "service": "Azure Openai",
            "text": "Azure DevOps culture: Ensure deployment of Azure OpenAI instances across your various environments, such as development, test, and production. Ensure that you have environments to support continuous learning and experimentation throughout the development cycle.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Openai",
            "text": "Observability: Monitor, aggregate, and visualize appropriate metrics.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Openai",
            "text": "Observability: If Azure OpenAI diagnostics are insufficient for your needs, consider using a gateway like Azure API Management in front of Azure OpenAI to log both incoming prompts and outgoing responses where permitted. This information can help you understand the effectiveness of the model for incoming prompts.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Openai",
            "text": "Deploy with confidence: Use infrastructure as code (IaC) to deploy Azure OpenAI, model deployments, and other infrastructure required for fine-tuning models.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Openai",
            "text": "Deploy with confidence: Follow large language model operations (LLMOps) practices to operationalize the management of your Azure OpenAI LLMs, including deployment, fine-tuning, and prompt engineering.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Azure Openai",
            "text": "Automate for efficiency: If you use key-based authentication, implement an automated key-rotation strategy.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Operations",
            "service": "Azure Openai",
            "text": "Enable and configure Azure Diagnostics: Enable and configure Diagnostics for the Azure OpenAI Service.",
            "description": "Diagnostics collects and analyzes metrics and logs, helping you monitor the availability, performance, and operation of Azure OpenAI.",
            "type": "recommendation"
        },
        {
            "waf": "performance",
            "service": "Azure Openai",
            "text": "Capacity: Estimate consumers' elasticity demands. Identify high-priority traffic that requires synchronous responses and low-priority traffic that can be asynchronous and batched.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Openai",
            "text": "Capacity: Benchmark token consumption requirements based on estimated demands from consumers. Consider using the Azure OpenAI benchmarking tool to help you validate the throughput if you're using provisioned throughput unit (PTU) deployments.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Openai",
            "text": "Capacity: Use provisioned throughput for production workloads. Provisioned throughput offers dedicated memory and compute, reserved capacity, and consistent maximum latency for the specified model version. The pay-as-you-go offering can suffer from noisy neighbor problems like increased latency and throttling in regions under heavy use. Also, the pay-as-you-go approach doesn't offer guaranteed capacity.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Openai",
            "text": "Capacity: Add the appropriate gateways in front of your Azure OpenAI deployments. Ensure that the gateway can route to multiple instances in the same or different regions.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Openai",
            "text": "Capacity: Allocate PTUs to cover your predicted usage, and complement these PTUs with a TPM deployment to handle elasticity above that limit. This approach combines base throughput with elastic throughput for efficiency. Like other considerations, this approach requires a custom gateway implementation to route requests to the TPM deployment when the PTU limits are reached.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Openai",
            "text": "Capacity: Send high-priority requests synchronously. Queue low-priority requests and send them through in batches when demand is low.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Openai",
            "text": "Capacity: Select a model that aligns with your performance requirements, considering the tradeoff between speed and output complexity. Model performance can vary significantly based on the chosen model type. Models designed for speed offer faster response times, which can be beneficial for applications that require quick interactions. Conversely, more sophisticated models might deliver higher-quality outputs at the expense of increased response time.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Openai",
            "text": "Achieve performance: For applications like chatbots or conversational interfaces, consider implementing streaming. Streaming can enhance the perceived performance of Azure OpenAI applications by delivering responses to users in an incremental manner, improving the user experience.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Openai",
            "text": "Achieve performance: Determine when to use fine-tuning before you commit to fine-tuning. Although there are good use cases for fine-tuning, such as when the information needed to steer the model is too long or complex to fit into the prompt, make sure that prompt engineering and retrieval-augmented generation (RAG) approaches don't work or are demonstrably more expensive.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Azure Openai",
            "text": "Achieve performance: Consider using dedicated model deployments per consumer group to provide per-model usage isolation that can help prevent noisy neighbors between your consumer groups.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Virtual Machines",
            "text": "Review Virtual Machines quotas and limits that might pose design restrictions. VMs have specific limits and quotas, which vary based on the type of VM or the region. There might be subscription restrictions, such as the number of VMs per subscription or the number of cores per VM. If other workloads share your subscription, then your ability to consume data might be reduced.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Virtual Machines",
            "text": "Conduct a failure mode analysis to minimize points of failure by analyzing VM interactions with the network and storage components. Choose configurations like ephemeral operating system (OS) disks to localize disk access and avoid network hops. Add a load balancer to enhance self-preservation by distributing network traffic across multiple VMs, which improves availability and reliability.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Virtual Machines",
            "text": "Calculate your composite service-level objectives (SLOs) based on Azure service-level agreements (SLAs). Ensure that your SLO isn't higher than the Azure SLAs to avoid unrealistic expectations and potential issues.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Virtual Machines",
            "text": "Create state isolation. Workload data should be on a separate data disk to prevent interference with the OS disk. If a VM fails, you can create a new OS disk with the same data disk, which ensures resilience and fault isolation. For more information, see Ephemeral OS disks.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Virtual Machines",
            "text": "Make VMs and their dependencies redundant across zones. If a VM fails, the workload should continue to function because of redundancy. Include dependencies in your redundancy choices. For example, use the built-in redundancy options that are available with disks. Use zone-redundant IPs to ensure data availability and high uptime.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Virtual Machines",
            "text": "Be ready to scale up and scale out to prevent service level degradation and to avoid failures. Virtual Machine Scale Sets have autoscale capabilities that create new instances as required and distribute the load across multiple VMs and availability zones.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Virtual Machines",
            "text": "Explore the automatic recovery options. Azure supports health degradation monitoring and self-healing features for VMs. For example, scale sets provide automatic instance repairs. In more advanced scenarios, self-healing involves using Azure Site Recovery, having a passive standby to fail over to, or redeploying from infrastructure as code (IaC). The method that you choose should align with the business requirements and your organizational operations. For more information, see VM service disruptions.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Virtual Machines",
            "text": "Rightsize the VMs and their dependencies. Understand your VM's expected work to ensure it's not undersized and can handle the maximum load. Have extra capacity to mitigate failures.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Virtual Machines",
            "text": "Create a comprehensive disaster recovery plan. Disaster preparedness involves creating a comprehensive plan and deciding on a technology for recovery.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "reliability",
            "service": "Virtual Machines",
            "text": "Run operations with rigor. Reliability design choices must be supported by effective operations based on the principles of monitoring, resiliency testing in production, automated application VM patches and upgrades, and consistency of deployments. For operational guidance, see Operational Excellence.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Reliability",
            "service": "Virtual Machines",
            "text": "(Scale set) Use Virtual Machine Scale Sets in Flexible orchestration mode to deploy VMs.",
            "description": "Future-proof your application for scaling and take advantage of the high availability guarantees that spread VMs across fault domains in a region or an availability zone.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Virtual Machines",
            "text": "(VMs) Implement heath endpoints that emit instance health statuses on VMs.  (Scale set) Enable automatic repairs on the scale set by specifying the preferred repair action.  Consider setting a time frame during which automatic repairs pause if the VM's state changes.",
            "description": "Maintain availability even if an instance is deemed unhealthy. Automatic repairs initiate recovery by replacing the faulty instance. Setting a time window can prevent inadvertent or premature repair operations.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Virtual Machines",
            "text": "(Scale set) Enable overprovisioning on scale sets.",
            "description": "Overprovisioning reduces deployment times and has a cost benefit because the extra VMs aren't billed.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Virtual Machines",
            "text": "(Scale set) Allow Flexible orchestration to spread the VM instances across as many fault domains as possible.",
            "description": "This option isolates fault domains. During maintenance periods, when one fault domain is updated, VM instances are available in the other fault domains.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Virtual Machines",
            "text": "(Scale set) Deploy across availability zones on scale sets. Set up at least two instances in each zone. Zone balancing equally spreads the instances across zones.",
            "description": "The VM instances are provisioned in physically separate locations within each Azure region that are tolerant to local failures.  Keep in mind that, depending on resource availability, there might be an uneven number of instances across zones. Zone balancing supports availability by making sure that, if one zone is down, the other zones have sufficient instances.  Two instances in each zone provide a buffer during upgrades.",
            "type": "recommendation"
        },
        {
            "waf": "Reliability",
            "service": "Virtual Machines",
            "text": "(VMs) Take advantage of the capacity reservations feature.",
            "description": "Capacity is reserved for your use and is available within the scope of the applicable SLAs. You can delete capacity reservations when you no longer need them, and billing is consumption based.",
            "type": "recommendation"
        },
        {
            "waf": "security",
            "service": "Virtual Machines",
            "text": "Review the security baselines for Linux and Windows VMs and Virtual Machine Scale Sets.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Virtual Machines",
            "text": "Ensure timely and automated security patching and upgrades. Make sure updates are automatically rolled out and validated by using a well-defined process. Use a solution like Azure Automation to manage OS updates and maintain security compliance by making critical updates.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Virtual Machines",
            "text": "Identify the VMs that hold state. Make sure that data is classified according to the sensitivity labels that your organization provided. Protect data by using security controls like appropriate levels of at-rest and in-transit encryption. If you have high sensitivity requirements, consider using high-security controls like double encryption and Azure confidential computing to protect data-in-use.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Virtual Machines",
            "text": "Provide segmentation to the VMs and scale sets by setting network boundaries and access controls. Place VMs in resource groups that share the same lifecycle.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Virtual Machines",
            "text": "Apply access controls to the identities that try to reach the VMs and also to the VMs that reach other resources. Use Microsoft Entra ID for authentication and authorization needs. Put strong passwords, multifactor authentication, and role-based access control (RBAC) in place for your VMs and their dependencies, like secrets, to permit allowed identities to perform only the operations that are expected of their roles.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Virtual Machines",
            "text": "Use network controls to restrict ingress and egress traffic. Isolate VMs and scale sets in Azure Virtual Network and define network security groups to filter traffic. Protect against distributed denial of service (DDoS) attacks. Use load balancers and firewall rules to protect against malicious traffic and data exfiltration attacks.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Virtual Machines",
            "text": "Reduce the attack surface by hardening OS images and removing unused components. Use smaller images and remove binaries that aren't required to run the workload. Tighten the VM configurations by removing features, like default accounts and ports, that you don't need.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Virtual Machines",
            "text": "Protect secrets such as the certificates that you need to protect data in transit. Consider using the Azure Key Vault extension for Windows or Linux that automatically refreshes the certificates stored in a key vault. When it detects a change in the certificates, the extension retrieves and installs the corresponding certificates.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Virtual Machines",
            "text": "Threat detection. Monitor VMs for threats and misconfigurations. Use Defender for Servers to capture VM and OS changes, and maintain an audit trail of access, new accounts, and changes in permissions.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "security",
            "service": "Virtual Machines",
            "text": "Threat prevention. Protect against malware attacks and malicious actors by implementing security controls like firewalls, antivirus software, and intrusion detection systems. Determine if a Trusted Execution Environment (TEE) is required.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Security",
            "service": "Virtual Machines",
            "text": "(Scale set) Assign a managed identity to scale sets. All VMs in the scale set get the same identity through the specified VM profile.  (VMs) You can also assign a managed identity to individual VMs when you create them and then add it to a scale set if needed.",
            "description": "When VMs communicate with other resources, they cross a trust boundary. Scale sets and VMs should authenticate their identity before communication is allowed. Microsoft Entra ID handles that authentication by using managed identities.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Virtual Machines",
            "text": "(Scale set) Choose VM SKUs with security features. For example, some SKUs support BitLocker encryption, and confidential computing provides encryption of data-in-use.  Review the features to understand the limitations.",
            "description": "Azure-provided features are based on signals that are captured across many tenants and can protect resources better than custom controls. You can also use policies to enforce those controls.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Virtual Machines",
            "text": "(VMs, scale set) Apply organization-recommended tags in the provisioned resources.",
            "description": "Tagging is a common way to segment and organize resources and can be crucial during incident management. For more information, see Purpose of naming and tagging.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Virtual Machines",
            "text": "(VMs, scale set) Set a security profile with the security features that you want to enable in the VM configuration.  For example, when you specify encryption at host in the profile, the data that's stored on the VM host is encrypted at rest and flows are encrypted to the storage service.",
            "description": "The features in the security profile are automatically enabled when the VM is created.  For more information, see Azure security baseline for Virtual Machine Scale Sets.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Virtual Machines",
            "text": "(VMs) Choose secure networking options for your VM's network profile.  Don't directly associate public IP addresses to your VMs and don't enable IP forwarding.  Ensure that all virtual network interfaces have an associated network security group.",
            "description": "You can set segmentation controls in the networking profile.  Attackers scan public IP addresses, which makes VMs vulnerable to threats.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Virtual Machines",
            "text": "(VMs) Choose secure storage options for your VM's storage profile.  Enable disk encryption and data-at-rest encryption by default. Disable public network access to the VM disks.",
            "description": "Disabling public network access helps prevent unauthorized access to your data and resources.",
            "type": "recommendation"
        },
        {
            "waf": "Security",
            "service": "Virtual Machines",
            "text": "(VMs, scale set) Include extensions in your VMs that protect against threats.  For example,  - Key Vault extension for Windows and Linux  - Microsoft Entra ID authentication  - Microsoft Antimalware for Azure Cloud Services and Virtual Machines  - Azure Disk Encryption extension for Windows and Linux.",
            "description": "The extensions are used to bootstrap the VMs with the right software that protects access to and from the VMs.  Microsoft-provided extensions are updated frequently to keep up with the evolving security standards.",
            "type": "recommendation"
        },
        {
            "waf": "cost",
            "service": "Virtual Machines",
            "text": "Estimate realistic costs. Use the pricing calculator to estimate the costs of your VMs. Identify the best VM for your workload by using the VM selector. For more information, see Linux and Windows pricing.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Virtual Machines",
            "text": "Implement cost guardrails. Use governance policies to restrict resource types, configurations, and locations. Use RBAC to block actions that can lead to overspending.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Virtual Machines",
            "text": "Choose the right resources. Your selection of VM plan sizes and SKUs directly affect the overall cost. Choose VMs based on workload characteristics. Is the workload CPU intensive or does it run interruptible processes? Each SKU has associated disk options that affect the overall cost.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Virtual Machines",
            "text": "Choose the right capabilities for dependent resources. Save on backup storage costs for the vault-standard tier by using Azure Backup storage with reserved capacity. It offers a discount when you commit to a reservation for either one year or three years.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Virtual Machines",
            "text": "Choose the right billing model. Evaluate whether commitment-based models for computing optimize costs based on the business requirements of workload. Consider these Azure options:",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Virtual Machines",
            "text": "Monitor usage. Continuously monitor usage patterns and detect unused or underutilized VMs. For those instances, shut down VM instances when they're not in use. Monitoring is a key approach of Operational Excellence. For more information, see the recommendations in Operational Excellence.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "cost",
            "service": "Virtual Machines",
            "text": "Look for ways to optimize. Some strategies include choosing the most cost-effective approach between increasing resources in an existing system, or scaling up, and adding more instances of that system, or scaling out. You can offload demand by distributing it to other resources, or you can reduce demand by implementing priority queues, gateway offloading, buffering, and rate limiting. For more information, see the recommendations in Performance Efficiency.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Cost",
            "service": "Virtual Machines",
            "text": "(VMs, scale set) Choose the right VM plan size and SKU. Identify the best VM sizes for your workload.  Use the VM selector to identify the best VM for your workload. See Windows and Linux pricing.  For workloads like highly parallel batch processing jobs that can tolerate some interruptions, consider using Azure Spot Virtual Machines. Spot virtual machines are good for experimenting, developing, and testing large-scale solutions.",
            "description": "SKUs are priced according to the capabilities that they offer. If you don't need advanced capabilities, don't overspend on SKUs.  Spot virtual machines take advantage of the surplus capacity in Azure at a lower cost.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Virtual Machines",
            "text": "(VMs, scale set) Evaluate the disk options that are associated with your VM's SKUs.  Determine your performance needs while keeping in mind your storage capacity needs and accounting for fluctuating workload patterns.  For example, the Azure Premium SSD v2 disk allows you to granularly adjust your performance independent of the disk's size.",
            "description": "Some high-performance disk types offer extra cost optimization features and strategies.  The Premium SSD v2 disk's adjustment capability can reduce costs because it provides high performance without overprovisioning, which could otherwise lead to underutilized resources.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Virtual Machines",
            "text": "(Scale set) Mix regular VMs with spot virtual machines.  Flexible orchestration lets you distribute spot virtual machines based on a specified percentage.",
            "description": "Reduce compute infrastructure costs by applying the deep discounts of spot virtual machines.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Virtual Machines",
            "text": "(Scale set) Reduce the number of VM instances when demand decreases. Set a scale-in policy based on criteria.   Stop VMs during off-hours. You can use the Azure Automation Start/Stop feature and configure it according to your business needs.",
            "description": "Scaling in or stopping resources when they're not in use reduces the number of VMs running in the scale set, which saves costs.  The Start/Stop feature is a low-cost automation option.",
            "type": "recommendation"
        },
        {
            "waf": "Cost",
            "service": "Virtual Machines",
            "text": "(VMs, scale set) Take advantage of license mobility by using Azure Hybrid Benefit. VMs have a licensing option that allows you to bring your own on-premises Windows Server OS licenses to Azure.  Azure Hybrid Benefit also lets you bring certain Linux subscriptions to Azure.",
            "description": "You can maximize your on-premises licenses while getting the benefits of the cloud.",
            "type": "recommendation"
        },
        {
            "waf": "operations",
            "service": "Virtual Machines",
            "text": "Monitor the VM instances. Collect logs and metrics from VM instances to monitor resource usage and measure the health of the instances. Some common metrics include CPU usage, number of requests, and input/output (I/O) latency. Set up Azure Monitor alerts to be notified about issues and to detect configuration changes in your environment.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Virtual Machines",
            "text": "Monitor the health of the VMs and their dependencies.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Virtual Machines",
            "text": "Create a maintenance plan that includes regular system patching as a part of routine operations. Include emergency processes that allow for immediate patch application. You can have custom processes to manage patching or partially delegate the task to Azure.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Virtual Machines",
            "text": "Automate processes for bootstrapping, running scripts, and configuring VMs. You can automate processes by using extensions or custom scripts. We recommend the following options:",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Virtual Machines",
            "text": "Have processes for installing automatic updates. Consider using Automatic VM guest patching for a timely rollout of critical patches and security patches. Use Azure Update Manager to manage OS updates for your Windows and Linux virtual machines in Azure.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Virtual Machines",
            "text": "Build a test environment that closely matches your production environment to test updates and changes before you deploy them to production. Have processes in place to test the security updates, performance baselines, and reliability faults. Take advantage of Azure Chaos Studio fault libraries to inject and simulate error conditions. For more information, see Azure Chaos Studio fault and action library.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "operations",
            "service": "Virtual Machines",
            "text": "Manage your quota. Plan what level of quota your workload requires and review that level regularly as the workload evolves. If you need to increase or decrease your quota, request those changes early.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Operations",
            "service": "Virtual Machines",
            "text": "(Scale set) Virtual Machine Scale Sets in Flexible orchestration mode can help simplify the deployment and management of your workload. For example, you can easily manage self-healing by using automatic repairs.",
            "description": "Flexible orchestration can manage VM instances at scale. Handing individual VMs adds operational overhead.  For example, when you delete VM instances, the associated disks and NICs are also automatically deleted. VM instances are spread across multiple fault domains so that update operations don't disrupt service.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Virtual Machines",
            "text": "(Scale set) Keep your VMs up to date by setting an upgrade policy. We recommend rolling upgrades. However, if you need granular control, choose to upgrade manually.  For Flexible orchestration, you can use  Azure Update Manager.",
            "description": "Security is the primary reason for upgrades. Security assurances for the instances shouldn't decay over time.  Rolling upgrades are done in batches, which ensures all instances aren't down at the same time.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Virtual Machines",
            "text": "(VMs, scale set) Automatically deploy VM applications from the Azure Compute Gallery by defining the applications in the profile.",
            "description": "The VMs in the scale set are created and the specified apps are preinstalled, which makes management easier.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Virtual Machines",
            "text": "Install prebuilt software components as extensions as part of bootstrapping.  Azure supports many extensions that can be used to configure, monitor, secure, and provide utility applications for your VMs.   Enable automatic upgrades on extensions.",
            "description": "Extensions can help simplify the software installation at scale without you having to manually install, configure, or upgrade it on each VM.",
            "type": "recommendation"
        },
        {
            "waf": "Operations",
            "service": "Virtual Machines",
            "text": "(VMs, scale set) Monitor and measure the health of the VM instances.  Deploy the Monitor agent extension to your VMs to collect monitoring data from the guest OS with OS-specific data collection rules.  Enable VM insights to monitor health and performance and to view trends from the collected data. Use boot diagnostics to get information as VMs boot. Boot diagnostics also diagnose boot failures.",
            "description": "Monitoring data is at the core of incident resolution. A comprehensive monitoring stack provides information about how the VMs are performing and their health. By continuously monitoring the instances, you can be ready for or prevent failures like performance overload and reliability issues.",
            "type": "recommendation"
        },
        {
            "waf": "performance",
            "service": "Virtual Machines",
            "text": "Define performance targets. Identify VM metrics to track and measure against performance indicators as response time, CPU utilization, and memory utilization, as well as workload metrics such as transactions per second, concurrent users, and availability and health.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Virtual Machines",
            "text": "Factor in the performance profile of VMs, scale sets, and disk configuration in your capacity planning. Each SKU has a different profile of memory and CPU and behaves differently depending on the type of workload. Conduct pilots and proofs of concept to understand performance behavior under the specific workload.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Virtual Machines",
            "text": "VM performance tuning. Take advantage of performance optimization and enhancing features as required by the workload. For example, use locally attached Non-Volatile Memory Express (NVMe) for high performance use cases and accelerated networking, and use Premium SSD v2 for better performance and scalability.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Virtual Machines",
            "text": "Take the dependent services into account. Workload dependencies, like caching, network traffic, and content delivery networks, that interact with the VMs can affect performance. Also, consider geographical distribution, like zones and regions, which can add latency.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Virtual Machines",
            "text": "Collect performance data. Follow the Operational Excellence best practices for monitoring and deploy the appropriate extensions to view metrics that track against performance indicators.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "performance",
            "service": "Virtual Machines",
            "text": "Proximity placement groups. Use proximity placement groups in workloads where low latency is required to ensure that VMs are physically located close to each other.",
            "description": "",
            "type": "checklist"
        },
        {
            "waf": "Performance",
            "service": "Virtual Machines",
            "text": "(VMs, scale set) Choose SKUs for VMs that align with your capacity planning. Have a good understanding of your workload requirements, including the number of cores, memory, storage, and network bandwidth so that you can filter out unsuitable SKUs.",
            "description": "Rightsizing your VMs is a fundamental decision that significantly affects the performance of your workload. Without the right set of VMs, you might experience performance issues and accrue unnecessary costs.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Virtual Machines",
            "text": "(VMs, scale set) Deploy latency-sensitive workload VMs in proximity placement groups.",
            "description": "Proximity placement groups reduce the physical distance between Azure compute resources, which can improve performance and reduce network latency between stand-alone VMs, VMs in multiple availability sets, or VMs in multiple scale sets.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Virtual Machines",
            "text": "(VMs, scale set)  Set the storage profile by analyzing the disk performance of existing workloads and the VM SKU.  Use Premium SSDs for production VMs. Adjust the performance of disks with Premium SSD v2. Use locally attached NVMe devices.",
            "description": "Premium SSDs deliver high-performance and low-latency disk support VMs with I/O-intensive workloads.  Premium SSD v2 doesn't require disk resizing, which enables high performance without excessive over-provisioning and minimizes the cost of unused capacity.  When available on VM SKUs, locally attached NVMe or similar devices can offer high performance, especially for use cases that require high input/output operations per second (IOPS) and low latency.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Virtual Machines",
            "text": "(VMs) Consider enabling accelerated networking.",
            "description": "It enables single root I/O virtualization (SR-IOV) to a VM, which greatly improves its networking performance.",
            "type": "recommendation"
        },
        {
            "waf": "Performance",
            "service": "Virtual Machines",
            "text": "(VMs, scale set) Set autoscale rules to increase or decrease the number of VM instances in your scale set based on demand.",
            "description": "If your application demand increases, the load on the VM instances in your scale set increases. Autoscale rules ensure that you have enough resources to meet the demand.",
            "type": "recommendation"
        }
    ],
    "categories": [],
    "waf": [
        {
            "name": "cost"
        },
        {
            "name": "Cost"
        },
        {
            "name": "reliability"
        },
        {
            "name": "Security"
        },
        {
            "name": "operations"
        },
        {
            "name": "Operations"
        },
        {
            "name": "Reliability"
        },
        {
            "name": "Performance"
        },
        {
            "name": "performance"
        },
        {
            "name": "security"
        }
    ],
    "yesno": [
        {
            "name": "Yes"
        },
        {
            "name": "No"
        }
    ],
    "status": [
        {
            "name": "Not verified",
            "description": "This check has not been looked at yet"
        },
        {
            "name": "Open",
            "description": "There is an action item associated to this check"
        },
        {
            "name": "Fulfilled",
            "description": "This check has been verified, and there are no further action items associated to it"
        },
        {
            "name": "N/A",
            "description": "Not applicable for current design"
        },
        {
            "name": "Not required",
            "description": "Not required"
        }
    ],
    "metadata": {
        "name": "WAF Service Guides",
        "waf": "all",
        "state": "preview",
        "timestamp": "July 07, 2024"
    }
}