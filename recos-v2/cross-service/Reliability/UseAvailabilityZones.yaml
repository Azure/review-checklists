guid: 578a219a-46be-4b54-9350-24922634292b
name: UseAvailabilityZones
title: Use Availability Zones if they are supported in your Azure region
source:
  type: revcl
  file: ./checklists/aks_checklist.en.json
resourceTypes: []
waf: Reliability
severity: 1
labels:
  area: BC and DR
  subarea: High Availability
  id: 02.02.02
links:
- https://learn.microsoft.com/azure/aks/availability-zones
queries:
  arg: resources | where type=='microsoft.containerservice/managedclusters' | extend
    compliant= isnotnull(properties.agentPoolProfiles[0].availabilityZones) | distinct
    id,compliant
