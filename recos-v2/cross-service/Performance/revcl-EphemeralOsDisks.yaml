guid: 24367b33-6971-45b1-952b-eee0b9b588de
title: Use ephemeral OS disks
source:
  type: revcl
  file: ./checklists/aks_checklist.en.json
services:
- AKS
resourceTypes: []
waf: Performance
severity: 0
labels:
  area: Operations
  subarea: Storage
  id: 07.07.01
links:
- https://learn.microsoft.com/azure/aks/cluster-configuration
queries:
  arg: where type=='microsoft.containerservice/managedclusters' | project id,resourceGroup,name,pools=properties.agentPoolProfiles
    | mvexpand pools | extend compliant = (pools.osDiskType=='Ephemeral') | project
    id,name=strcat(name,'-',pools.name), resourceGroup, compliant
name: revcl-EphemeralOsDisks
