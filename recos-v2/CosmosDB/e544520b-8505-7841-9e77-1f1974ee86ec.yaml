description: 'Cosmos DB''s backup is always on, offering protection against data mishaps.
  Continuous mode allows for self-serve restoration to a pre-mishap point, unlike
  periodic mode which requires contacting Microsoft support, leading to longer restore
  times.

  '
guid: e544520b-8505-7841-9e77-1f1974ee86ec
labels:
  area: Disaster Recovery
  source: azure-resources/DocumentDB/databaseAccounts/recommendations.yaml
  sourceType: aprl
links: []
queries:
- arg: "// Azure Resource Graph Query\n// Query all Azure Cosmos DB accounts that\
    \ do not have continuous backup mode configured\nResources\n| where type =~ 'Microsoft.DocumentDb/databaseAccounts'\n\
    | where\n    properties.backupPolicy.type == 'Periodic' and\n    properties.enableMultipleWriteLocations\
    \ == false and\n    properties.enableAnalyticalStorage == false\n| project recommendationId='e544520b-8505-7841-9e77-1f1974ee86ec',\
    \ name, id, tags\n"
resourceTypes:
- Microsoft.DocumentDB/databaseAccounts
service: CosmosDB
severity: 0
text: Configure continuous backup mode
