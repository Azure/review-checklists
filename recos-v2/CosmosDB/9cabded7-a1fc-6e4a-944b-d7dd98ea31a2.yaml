description: 'Cosmos DB boasts high uptime and resiliency. Even so, issues may arise.
  With Service-Managed failover, if a region is down, Cosmos DB automatically switches
  to the next available region, requiring no user action.

  '
guid: 9cabded7-a1fc-6e4a-944b-d7dd98ea31a2
labels:
  area: Disaster Recovery
  source: azure-resources/DocumentDB/databaseAccounts/recommendations.yaml
  sourceType: aprl
links: []
queries:
- arg: "// Azure Resource Graph Query\n// Query to list all Azure Cosmos DB accounts\
    \ that do not have multiple write locations or automatic failover enabled\nResources\n\
    | where type =~ 'Microsoft.DocumentDb/databaseAccounts'\n| where\n    array_length(properties.locations)\
    \ > 1 and\n    tobool(properties.enableAutomaticFailover) == false and\n    tobool(properties.enableMultipleWriteLocations)\
    \ == false\n| project recommendationId='9cabded7-a1fc-6e4a-944b-d7dd98ea31a2',\
    \ name, id, tags\n"
resourceTypes:
- Microsoft.DocumentDB/databaseAccounts
service: CosmosDB
severity: 0
text: Enable service-managed failover for multi-region accounts with single write
  region
