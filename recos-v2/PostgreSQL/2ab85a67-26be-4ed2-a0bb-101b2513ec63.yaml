description: 'Configure one or more read replicas to ensure that your database meets
  its availability and durability targets even in the face of failures or disasters.

  '
guid: 2ab85a67-26be-4ed2-a0bb-101b2513ec63
labels:
  area: Disaster Recovery
  source: azure-resources/DBforPostgreSQL/flexibleServers/recommendations.yaml
  sourceType: aprl
links: []
queries:
- arg: '// Azure Resource Graph Query

    // Find Database for PostgreSQL instances that are read replicas

    resources

    | where type == "microsoft.dbforpostgresql/flexibleservers"

    | where properties.replicationRole == "AsyncReplica"

    | project recommendationId = "2ab85a67-26be-4ed2-a0bb-101b2513ec63", name, id,
    tags, param1 = strcat("replicationRole:", properties[''replicationRole''])

    '
resourceTypes:
- Microsoft.DBforPostgreSQL/flexibleServers
service: PostgreSQL
severity: 0
text: Configure one or more read replicas
