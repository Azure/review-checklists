description: |-
  Configure GRS to ensure that your database meets its availability and durability targets even in the face of failures or disasters.
guid: 31f4ac4b-29cb-4588-8de2-d8fe6f13ceb3
labels:
  area: Disaster Recovery
links: []
queries:
  arg: |-
    // Azure Resource Graph Query
    // Find Database for PostgreSQL instances that do not have geo redundant backup storage configured
    resources
    | where type == "microsoft.dbforpostgresql/flexibleservers"
    | where properties.backup.geoRedundantBackup != "Enabled"
    | project recommendationId = "31f4ac4b-29cb-4588-8de2-d8fe6f13ceb3", name, id, tags, param1 = strcat("geoRedundantBackup:", properties['backup']['geoRedundantBackup'])
resourceTypes:
- Microsoft.DBforPostgreSQL/flexibleServers
service: PostgreSQL
severity: 0
source:
  file: azure-resources/DBforPostgreSQL/flexibleServers/recommendations.yaml
  type: aprl
title: Configure geo redundant backup storage
