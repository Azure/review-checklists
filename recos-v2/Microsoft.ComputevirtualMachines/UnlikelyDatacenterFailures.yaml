guid: 2bd0be95-a825-6f47-a8c6-3db1fb5eb387
name: UnlikelyDatacenterFailures
title: Deploy VMs across Availability Zones
description: |-
  Azure Availability Zones, within each Azure region, are tolerant to local failures, protecting applications and data against unlikely Datacenter failures by being physically separate.
source:
  type: aprl
  file: azure-resources/Compute/virtualMachines/recommendations.yaml
  timestamp: July 24, 2024
services:
- Microsoft.Compute/virtualMachines
resourceTypes:
- Microsoft.Compute/virtualMachines
severity: 0
labels:
  area: High Availability
links: []
queries:
  arg: |
    // Azure Resource Graph Query
    // Find all VMs that are not assigned to a Zone
    Resources
    | where type =~ 'Microsoft.Compute/virtualMachines'
    | where isnull(zones)
    | project recommendationId="2bd0be95-a825-6f47-a8c6-3db1fb5eb387", name, id, tags, param1="No Zone"
