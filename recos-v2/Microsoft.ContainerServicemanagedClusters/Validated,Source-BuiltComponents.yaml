guid: f46b0d1d-56ef-4795-b98a-f6ee00cb341a
name: Validated,Source-BuiltComponents
title: Use Azure Linux for Linux nodepools
description: |-
  Azure Linux on AKS boosts resiliency with a native image using validated, source-built components. It's lightweight, reducing the attack surface and maintenance. A Microsoft-hardened kernel, optimized for Azure, enhances stability and security for container workloads.
source:
  type: aprl
  file: azure-resources/ContainerService/managedClusters/recommendations.yaml
  timestamp: July 24, 2024
services:
- Microsoft.ContainerService/managedClusters
resourceTypes:
- Microsoft.ContainerService/managedClusters
severity: 0
labels:
  area: High Availability
links: []
queries:
  arg: |-
    // Azure Resource Graph Query
    // Returns each AKS cluster with nodepools that have Linux nodepools not using Azure Linux
    resources
    | where type == "microsoft.containerservice/managedclusters"
    | mv-expand agentPoolProfile = properties.agentPoolProfiles
    | where agentPoolProfile.osType == 'Linux' and agentPoolProfile.osSKU != 'AzureLinux'
    | project recommendationid="f46b0d1d-56ef-4795-b98a-f6ee00cb341a", name, id, param1=strcat("nodePoolName: ", agentPoolProfile.name)
