guid: 3ef86f16-f65b-c645-9901-7830d6dc3a1b
name: AzureContainerRegistry-66
title: Manage registry size
description: 'The storage constraints of Azure Container Registry''s service tiers
  align with usage scenarios: Basic for starters, Standard for production, and Premium
  for high-scale performance and geo-replication.'
source:
  type: aprl
  file: azure-resources/ContainerRegistry/registries/recommendations.yaml
  timestamp: July 24, 2024
services:
- Microsoft.ContainerRegistry/registries
resourceTypes:
- Microsoft.ContainerRegistry/registries
severity: 1
labels:
  area: Scalability
links: []
queries:
  arg: |-
    // Azure Resource Graph Query
    // Find all Container Registries that have their retention policy disabled
    resources
    | where type =~ "microsoft.containerregistry/registries"
    | where properties.policies.retentionPolicy.status == "disabled"
    | project recommendationId = "3ef86f16-f65b-c645-9901-7830d6dc3a1b", name, id, tags, param1='retentionPolicy:disabled'
    | order by id asc
