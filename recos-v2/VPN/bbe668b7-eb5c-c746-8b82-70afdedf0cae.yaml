description: |-
  Azure ExpressRoute gateway offers variable SLAs based on deployment in single or multiple availability zones. To deploy virtual network gateways across zones automatically, use zone-redundant gateways for accessing critical, scalable services with increased resilience.
guid: bbe668b7-eb5c-c746-8b82-70afdedf0cae
labels:
  area: High Availability
links: []
queries:
  arg: |
    // Azure Resource Graph Query
    // For all VNGs of type ExpressRoute, show any that do not have AZ in the SKU tier
    resources
    | where type =~ "Microsoft.Network/virtualNetworkGateways"
    | where properties.gatewayType == "ExpressRoute"
    | where properties.sku.tier !contains 'AZ'
    | project recommendationId = "bbe668b7-eb5c-c746-8b82-70afdedf0cae", name, id, tags, param1= strcat("sku-tier: " , properties.sku.tier), param2=location
    | order by id asc
resourceTypes:
- Microsoft.Network/virtualNetworkGateways
service: VPN
severity: 0
source:
  file: azure-resources/Network/virtualNetworkGateways/recommendations.yaml
  type: aprl
title: Use Zone-redundant ExpressRoute gateway SKUs
