guid: 5c96afc3-7d2e-46ff-a4c7-9c32850c441b
name: GeoRedundantBackupStorage
title: Configure geo redundant backup storage
description: |-
  Configure GRS to ensure that your database meets its availability and durability targets even in the face of failures or disasters.
source:
  type: aprl
  file: azure-resources/DBforMySQL/flexibleServers/recommendations.yaml
  timestamp: July 24, 2024
services:
- Microsoft.DBforMySQL/flexibleServers
resourceTypes:
- Microsoft.DBforMySQL/flexibleServers
severity: 0
labels:
  area: Disaster Recovery
links: []
queries:
  arg: |-
    // Azure Resource Graph Query
    // Find Database for MySQL instances that do not have geo redundant backup storage enabled
    resources
    | where type =~ "microsoft.dbformysql/flexibleservers"
    | where properties.backup.geoRedundantBackup != "Enabled"
    | project recommendationId = "5c96afc3-7d2e-46ff-a4c7-9c32850c441b", name, id, tags, param1 = strcat("geoRedundantBackup:", properties['backup']['geoRedundantBackup'])
