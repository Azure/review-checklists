description: 'App Service should be configured with a minimum of two instances for
  production workloads. If apps have a longer warmup time a minimum of three instances
  should be used.

  '
guid: 9e6682ac-31bc-4635-9959-ab74b52454e6
labels:
  area: Scalability
  source: azure-resources/Web/sites/recommendations.yaml
  sourceType: aprl
links: []
queries:
- arg: "// Azure Resource Graph Query\n// Provides a list of App services that do\
    \ not have minimum instance count of 2\n\nresources\n| where type =~ 'microsoft.web/sites'\n\
    | where properties.kind has 'app'\n| join kind = inner\n    (\n    appserviceresources\n\
    \    | where properties.PreWarmedInstanceCount < 2\n    | project name\n    )\
    \ on name\n| project recommendationId = \"9e6682ac-31bc-4635-9959-ab74b52454e6\"\
    , name, id, tags, param1 = \"PreWarmedInstanceCount is less than 2\"\n"
resourceTypes:
- Microsoft.Web/sites
service: App Service
severity: 1
text: Set minimum instance count to 2 for app service
