guid: 7893f0b3-8622-1d47-beed-4b50a19f7895
name: AzureKeyvaultIntegration
title: Migrate to Application Gateway v2
description: |-
  Use Application Gateway v2 for built-in features like autoscaling, static VIPs, Azure KeyVault integration for better traffic management and performance, unless v1 is necessary.
source:
  type: aprl
  file: azure-resources/Network/applicationGateways/recommendations.yaml
  timestamp: July 24, 2024
services:
- Microsoft.Network/applicationGateways
resourceTypes:
- Microsoft.Network/applicationGateways
severity: 0
labels:
  area: Scalability
links: []
queries:
  arg: |
    // Azure Resource Graph Query
    // Get all Application Gateways, which are using the deprecated V1 SKU
    resources
    | where type =~ 'microsoft.network/applicationgateways'
    | extend tier = properties.sku.tier
    | where tier == 'Standard' or tier == 'WAF'
    | project recommendationId = "7893f0b3-8622-1d47-beed-4b50a19f7895", name, id, tags
