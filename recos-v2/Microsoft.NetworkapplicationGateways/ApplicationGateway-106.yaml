guid: c9c00f2a-3888-714b-a72b-b4c9e8fcffb2
name: ApplicationGateway-106
title: Deploy Application Gateway in a zone-redundant configuration
description: Deploying Application Gateway in a zone-aware configuration ensures continued
  customer access to services even if a specific zone goes down, as services in other
  zones remain available.
source:
  type: aprl
  file: azure-resources/Network/applicationGateways/recommendations.yaml
  timestamp: July 24, 2024
services:
- Microsoft.Network/applicationGateways
resourceTypes:
- Microsoft.Network/applicationGateways
severity: 0
labels:
  area: High Availability
links: []
queries:
  arg: |-
    // Azure Resource Graph Query
    // list Application Gateways that are not configured to use at least 2 Availability Zones
    resources
    | where type =~ "microsoft.network/applicationGateways"
    | where isnull(zones) or array_length(zones) < 2
    | extend zoneValue = iff((isnull(zones)), "null", zones)
    | project recommendationId = "c9c00f2a-3888-714b-a72b-b4c9e8fcffb2", name, id, tags, param1="Zones: No Zone or Zonal", param2=strcat("Zones value: ", zoneValue )
