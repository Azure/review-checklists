guid: e6c7e1cc-2f47-264d-aa50-1da421314472
name: StorageAccounts
title: Ensure that storage accounts are zone or region redundant
description: |-
  Redundancy ensures storage accounts meet availability and durability targets amidst failures, weighing lower costs against higher availability. Locally redundant storage offers the least durability at the lowest cost.
source:
  type: aprl
  file: azure-resources/Storage/storageAccounts/recommendations.yaml
  timestamp: July 24, 2024
services:
- Microsoft.Storage/storageAccounts
resourceTypes:
- Microsoft.Storage/storageAccounts
severity: 0
labels:
  area: High Availability
links: []
queries:
  arg: |
    // Azure Resource Graph Query
    // This query will return all storage accounts that are not using Zone or Region replication
    Resources
    | where type =~ "Microsoft.Storage/storageAccounts"
    | where sku.name in~ ("Standard_LRS", "Premium_LRS")
    | project recommendationId = "e6c7e1cc-2f47-264d-aa50-1da421314472", name, id, tags, param1 = strcat("sku: ", sku.name)
