guid: 943c168a-2ec2-a94c-8015-85732a1b4859
name: Geo-ReplicatedDatabaseManagement
title: Auto Failover Groups can encompass one or multiple databases, usually used
  by the same app.
description: |-
  Failover Groups facilitate disaster recovery by configuring databases on one logical server to replicate to another region's logical server. This streamlines geo-replicated database management, offering a single endpoint for connection routing to replicated databases if the primary server fails.
source:
  type: aprl
  file: azure-resources/Sql/servers/recommendations.yaml
  timestamp: July 24, 2024
services:
- Microsoft.Sql/servers
resourceTypes:
- Microsoft.Sql/servers
severity: 0
labels:
  area: Disaster Recovery
links: []
queries:
  arg: |-
    // Azure Resource Graph Query
    // Provides a list of SQL databases that are not configured to use a failover-group.
    resources
    | where type =~'microsoft.sql/servers/databases'
    | where isnull(properties['failoverGroupId'])
    | project recommendationId = "943c168a-2ec2-a94c-8015-85732a1b4859", name, id, tags, param1= strcat("databaseId=", properties['databaseId'])
