description: 'Enabling soft delete in Azure Container Registry (ACR) allows for the
  management of deleted artifacts with a specified retention period. Users can list,
  filter, and restore these artifacts until automatically purged post-retention.

  '
guid: e7f0fd54-fba0-054e-9ab8-e676f2851f88
labels:
  area: Disaster Recovery
  source: azure-resources/ContainerRegistry/registries/recommendations.yaml
  sourceType: aprl
links: []
queries:
- arg: '// Azure Resource Graph Query

    // Provides a list of Azure Container Registry resources that do not have soft
    delete enabled

    resources

    | where type =~ "microsoft.containerregistry/registries"

    | where properties.policies.softDeletePolicy.status == "disabled"

    | project recommendationId = "e7f0fd54-fba0-054e-9ab8-e676f2851f88", name, id,
    tags

    | order by id asc


    '
resourceTypes:
- Microsoft.ContainerRegistry/registries
service: ACR
severity: 1
text: Enable soft delete policy
