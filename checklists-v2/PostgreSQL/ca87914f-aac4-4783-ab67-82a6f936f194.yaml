description: 'Enable HA with zone redundancy on flexible server instances to deploy
  a standby replica in a different zone, offering automatic failover capability for
  improved reliability and disaster recovery.

  '
guid: ca87914f-aac4-4783-ab67-82a6f936f194
labels:
  area: High Availability
  source: azure-resources/DBforPostgreSQL/flexibleServers/recommendations.yaml
  sourceType: aprl
links: []
queries:
- arg: '// Azure Resource Graph Query

    // Find Database for PostgreSQL instances that are not zone redundant

    resources

    | where type == "microsoft.dbforpostgresql/flexibleservers"

    | where properties.highAvailability.mode != "ZoneRedundant"

    | project recommendationId = "ca87914f-aac4-4783-ab67-82a6f936f194", name, id,
    tags, param1 = "ZoneRedundant: False"

    '
resourceTypes:
- Microsoft.DBforPostgreSQL/flexibleServers
service: PostgreSQL
severity: 0
text: Enable HA with zone redundancy
