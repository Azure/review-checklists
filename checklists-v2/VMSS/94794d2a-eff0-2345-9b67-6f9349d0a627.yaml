description: 'Monitoring application health in Azure Virtual Machine Scale Sets is
  crucial for deployment management. It supports rolling upgrades such as automatic
  OS-image upgrades and VM guest patching, leveraging health monitoring for upgrading.

  '
guid: 94794d2a-eff0-2345-9b67-6f9349d0a627
labels:
  area: Monitoring and Alerting
  source: azure-resources/Compute/virtualMachineScaleSets/recommendations.yaml
  sourceType: aprl
links: []
queries:
- arg: "// Azure Resource Graph Query\n// Find all VMs that do NOT have health monitoring\
    \ enabled\nresources\n| where type == \"microsoft.compute/virtualmachinescalesets\"\
    \n| join kind=leftouter  (\n    resources\n    | where type == \"microsoft.compute/virtualmachinescalesets\"\
    \n    | mv-expand extension=properties.virtualMachineProfile.extensionProfile.extensions\n\
    \    | where extension.properties.type in ( \"ApplicationHealthWindows\", \"ApplicationHealthLinux\"\
    \ )\n    | project id\n) on id\n| where id1 == \"\"\n| project recommendationId\
    \ = \"94794d2a-eff0-2345-9b67-6f9349d0a627\", name, id, tags, param1 = \"extension:\
    \ null\"\n\n"
resourceTypes:
- Microsoft.Compute/virtualMachineScaleSets
service: VMSS
severity: 1
text: Enable Azure Virtual Machine Scale Set Application Health Monitoring
