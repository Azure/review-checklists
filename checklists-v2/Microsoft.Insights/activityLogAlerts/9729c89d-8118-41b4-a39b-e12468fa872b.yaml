description: 'Service health gives a personalized health view of Azure services and
  regions used, offering the best place for notifications on outages, planned maintenance,
  and health advisories by knowing the services used.

  '
guid: 9729c89d-8118-41b4-a39b-e12468fa872b
labels:
  area: Monitoring and Alerting
  source: azure-resources/Insights/activityLogAlerts/recommendations.yaml
  sourceType: aprl
links: []
queries:
- arg: "// Azure Resource Graph Query\n// This resource graph query will return all\
    \ subscriptions without Service Health alerts configured.\n\nresourcecontainers\n\
    | where type == 'microsoft.resources/subscriptions'\n| project subscriptionAlerts=tostring(id),name,tags\n\
    | join kind=leftouter (\n  resources\n  | where type == 'microsoft.insights/activitylogalerts'\
    \ and properties.condition contains \"ServiceHealth\"\n  | extend subscriptions\
    \ = properties.scopes\n  | project subscriptions\n  | mv-expand subscriptions\n\
    \  | project subscriptionAlerts = tostring(subscriptions)\n) on subscriptionAlerts\n\
    | where isempty(subscriptionAlerts1)\n| project-away subscriptionAlerts1\n| project\
    \ recommendationId = \"9729c89d-8118-41b4-a39b-e12468fa872b\",id=subscriptionAlerts,name,tags\n\
    \n"
resourceTypes:
- Microsoft.Insights/activityLogAlerts
service: Microsoft.Insights/activityLogAlerts
severity: 0
text: Configure Service Health Alerts
