guid: f5d846c8-9341-4a57-a77e-ccf4e9818c7f
name: DirectDependencyCall
title: Verify downstream dependencies through health endpoints
description: Suppose each backend has its own dependencies to ensure failures are
  isolated. For example, an application hosted behind Application Gateway might have
  multiple backends, each connected to a different database (replica). When such a
  dependency fails, the application might be working but won't return valid results.
  For that reason, the health endpoint should ideally validate all dependencies. Keep
  in mind that if each call to the health endpoint has a direct dependency call, that
  database would receive 100 queries every 30 seconds instead of 1. To avoid this,
  the health endpoint should cache the state of the dependencies for a short period
  of time.
source:
  type: revcl
  file: ./checklists-ext/wafsg_checklist.en.json
services:
- Azure Application Gateway
resourceTypes:
- microsoft.network/applicationGateways
waf: Reliability
labels: {}
links: []
queries: []
reviewed: August 26, 2024
