guid: 135bf4ac-f9db-461f-b76b-2ee9e30b12c0
name: MinimumAmount
title: Configure autoscaling with a minimum amount of instances of two.
source:
  type: revcl
  file: ./checklists/waf_checklist.en.json
services:
- App Gateway
resourceTypes:
- microsoft.network/applicationGateways
waf: Reliability
severity: 1
labels: {}
links:
- https://learn.microsoft.com/azure/application-gateway/application-gateway-autoscaling-zone-redundant
- https://learn.microsoft.com/learn/paths/secure-application-delivery/
queries:
  arg: resources | where type =~ 'microsoft.network/applicationGateways' | extend
    compliant = (isnotnull(properties.autoscaleConfiguration) and properties.autoscaleConfiguration.minCapacity
    >= 2) | distinct id,compliant
reviewed: August 26, 2024
