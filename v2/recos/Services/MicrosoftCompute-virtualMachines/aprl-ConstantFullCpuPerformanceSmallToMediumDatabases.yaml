name: aprl-ConstantFullCpuPerformanceSmallToMediumDatabases
title: Don't use A or B-Series VMs for production needing constant full CPU performance
description: |-
  A-series VMs are tailored for entry-level workloads like development and testing, including use cases such as development and test servers, low traffic web servers, and small to medium databases.
source:
  type: aprl
  file: azure-resources/Compute/virtualMachines/recommendations.yaml
  timestamp: July 24, 2024
resourceTypes:
- Microsoft.Compute/virtualMachines
severity: 0
labels:
  guid: 3201dba8-d1da-4826-98a4-104066545170
  area: Scalability
links: []
queries:
  arg: |
    // Azure Resource Graph Query
    // Find all VMs using A or B series families
    resources
    | where type == 'microsoft.compute/virtualmachines'
    | where properties.hardwareProfile.vmSize contains "Standard_B" or properties.hardwareProfile.vmSize contains "Standard_A"
    | project recommendationId = "3201dba8-d1da-4826-98a4-104066545170", name, id, tags, param1=strcat("vmSku: " , properties.hardwareProfile.vmSize)
