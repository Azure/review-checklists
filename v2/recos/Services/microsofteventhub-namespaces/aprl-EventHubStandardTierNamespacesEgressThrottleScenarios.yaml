name: aprl-EventHubStandardTierNamespacesEgressThrottleScenarios
title: Enable auto-inflate on Event Hub Standard tier
description: |-
  Enable auto-inflate on Event Hub Standard tier namespaces to automatically scale up TUs, meeting usage needs and preventing data ingress or egress throttle scenarios by adjusting to allowed rates.
source:
  type: aprl
  file: azure-resources/EventHub/namespaces/recommendations.yaml
  timestamp: July 24, 2024
resourceTypes:
- Microsoft.EventHub/namespaces
severity: 0
labels:
  guid: fbfef3df-04a5-41b2-a8fd-b8541eb04956
  area: Scalability
links: []
queries:
  arg: |
    // Azure Resource Graph Query
    // Find Event Hub namespace instances that are Standard tier and do not have Auto Inflate enabled
    resources
    | where type == "microsoft.eventhub/namespaces"
    | where sku.tier == "Standard"
    | where properties.isAutoInflateEnabled == "false"
    | project recommendationId = "fbfef3df-04a5-41b2-a8fd-b8541eb04956", name, id, tags, param1 = "AutoInflateEnabled: False"
