{
    "categories": [
        {
            "name": "安全"
        },
        {
            "name": "ネットワーク トポロジと接続性"
        },
        {
            "name": "BC と DR"
        },
        {
            "name": "ガバナンスとセキュリティ"
        },
        {
            "name": "コストガバナンス"
        },
        {
            "name": "オペレーションズ"
        },
        {
            "name": "アプリケーションのデプロイメント"
        }
    ],
    "items": [
        {
            "category": "BC と DR",
            "cost": 1,
            "description": "ゾーン冗長性を活用して、ゾーン レベルの障害が発生した場合の高可用性を確保します。Premium V2/V3 または Isolated v2 レベルを使用すると、ゾーン冗長デプロイがサポートされ、災害時のダウンタイムが最小限に抑えられます。",
            "guid": "b32e1aa1-4813-4602-88fe-27ca2891f421",
            "id": "01.01.01",
            "link": "https://learn.microsoft.com/azure/architecture/reference-architectures/app-service-web-app/zone-redundant?source=recommendations",
            "service": "App Services",
            "severity": "低い",
            "subcategory": "高可用性",
            "text": "ベースラインの高可用性ゾーン冗長 Web アプリケーション アーキテクチャを実装します。ゾーン冗長サポートのために、Azure App Service が Premium V2/V3 または Isolated v2 レベルにあることを確認します。",
            "waf": "確実"
        },
        {
            "category": "BC と DR",
            "cost": 1,
            "description": "ステージングスロットを活用して、ダウンタイムなしのデプロイと自動バックアップを実現し、ディザスタリカバリを確保します。スロットの数とディザスター リカバリーの要件に基づいて、適切なレベル (Standard または Premium) を選択します。",
            "graph": "resources | where type =~ 'microsoft.web/serverfarms' | extend compliant = (sku.tier == 'Premium' or sku.tier == 'Standard') | distinct id,compliant",
            "guid": "e4b31c6a-2e3f-4df1-8e8b-9c3aa5a27820",
            "id": "01.01.02",
            "link": "https://learn.microsoft.com/azure/app-service/overview-hosting-plans",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "高可用性",
            "text": "Premium レベルと Standard レベルは、ステージング スロットと自動バックアップに使用します。バックアップの保持期間をディザスタリカバリのニーズに合わせて調整します。",
            "waf": "確実"
        },
        {
            "category": "BC と DR",
            "cost": 1,
            "description": "Availability Zones は、リージョン内のデータセンター間で物理的に分離し、停止中のダウンタイムを削減します。リージョンが Availability Zones をサポートしていることを確認し、ゾーン冗長デプロイに Premium V2/V3 レベルを使用します。",
            "guid": "a7e2e6c2-491f-4fa4-a82b-521d0bc3b202",
            "id": "01.01.03",
            "link": "https://learn.microsoft.com/azure/reliability/migrate-app-service",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "高可用性",
            "text": "地域的に適用可能な場合は、Availability Zones を活用します (Premium V2/V3 レベルが必要です)。Availability Zones のリージョンサポートを確認します。",
            "waf": "確実"
        },
        {
            "category": "オペレーションズ",
            "cost": 1,
            "description": "ヘルスチェックを有効にして、異常なインスタンスをリアルタイムで検出し、それらを自動的に置き換えて、高可用性とアプリケーションの信頼性を維持します。",
            "graph": "appserviceresources  | where type =~ 'microsoft.web/sites/config' | extend compliant = (properties.HealthCheckPath != '') | distinct id,compliant",
            "guid": "1275e4a9-7b6a-43c3-a9cd-5ee18d8995ad",
            "id": "01.01.04",
            "link": "https://learn.microsoft.com/azure/app-service/monitor-instances-health-check",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "モニタリング",
            "text": "正常性チェックを実装して、App Service インスタンスの問題を監視および検出します。ヘルスチェックにより、障害発生時の自動インスタンス置換が可能になります。",
            "waf": "確実"
        },
        {
            "category": "オペレーションズ",
            "cost": 1,
            "description": "Azure App Service と ASE でバックアップと復元を構成するためのベスト プラクティスに従って、データの可用性を保証し、障害シナリオ時の復旧を確保します。",
            "guid": "35a91c5d-4ad6-4d9b-8e0f-c47db9e6d1e7",
            "id": "01.01.05",
            "link": "https://learn.microsoft.com/azure/app-service/manage-backup",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "マルチテナントサービス",
            "text": "Azure App Service と App Service Environment (ASE) のバックアップと復元のベスト プラクティスを参照して、データの可用性と復旧を確保します。",
            "waf": "確実"
        },
        {
            "category": "BC と DR",
            "cost": 1,
            "description": "スケーリング、フォールト トレランス、監視、ゾーン冗長性を App Service アーキテクチャに組み込むことで、高可用性を確保します。ヘルスチェックとアベイラビリティーゾーンを活用して、稼働時間を維持します。",
            "guid": "e68cd0ec-afc6-4bd8-a27f-7860ad9a0db2",
            "id": "01.01.06",
            "link": "https://learn.microsoft.com/azure/architecture/framework/services/compute/azure-app-service/reliability",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "高可用性",
            "text": "Azure App Service の信頼性に関するベスト プラクティス (自動スケーリング、フォールト トレランス、正常性チェック、ゾーン冗長性など) を実装します。",
            "waf": "確実"
        },
        {
            "category": "BC と DR",
            "cost": 1,
            "description": "リージョンのフェイルオーバー戦略を実装して、ディザスタリカバリに備えます。アクティブ/アクティブおよびアクティブ/パッシブ構成、自動フェイルオーバー、Infrastructure as Code(IaC)を活用して、停止時のシームレスなフェイルオーバーを実現します。",
            "guid": "bd2a865c-0835-4418-bb58-4df91a5a9b3f",
            "id": "01.01.07",
            "link": "https://learn.microsoft.com/azure/app-service/manage-disaster-recovery#recover-app-content-only",
            "service": "App Services",
            "severity": "低い",
            "subcategory": "高可用性",
            "text": "App Service リージョンのフェールオーバー (アクティブ/アクティブ構成とアクティブ/パッシブ構成、自動フェールオーバー、IaC デプロイなど) について理解します。",
            "waf": "確実"
        },
        {
            "category": "BC と DR",
            "cost": 1,
            "description": "Azure App Service には、スケーリング、フォールト トレランス、サービス レベル アグリーメント (SLA) など、信頼性機能が組み込まれています。これらの機能を活用して、停止時に一貫したパフォーマンスを維持します。",
            "guid": "f3d2f1e4-e6d4-4b7a-a5a5-e2a9b2c6f293",
            "id": "01.02.02",
            "link": "https://learn.microsoft.com/azure/reliability/reliability-app-service",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "高可用性",
            "text": "Azure App Service での信頼性サポート (スケーリング オプション、SLA、自動復旧メカニズムなど) について理解します。",
            "waf": "確実"
        },
        {
            "category": "BC と DR",
            "cost": 1,
            "description": "Function Appsの「Always On」を有効にすると、アプリがアイドル状態になることがなくなり、常に可用性と応答性が維持されます。",
            "guid": "c7b5f3d1-0569-4fd2-9f32-c0b64e9c0c5e",
            "id": "01.02.03",
            "link": "https://learn.microsoft.com/azure/azure-functions/dedicated-plan#always-on",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "高可用性",
            "text": "App Service プランで実行されている関数アプリで \"Always On\" が有効になっていることを確認して、アイドリングを防ぎ、継続的な可用性を確保します。",
            "waf": "確実"
        },
        {
            "category": "オペレーションズ",
            "cost": 1,
            "description": "正常性チェックでは、App Service インスタンスの正常性が監視され、問題のあるインスタンスを自動的に置き換えて高可用性を維持できます。",
            "guid": "a3b4d5f6-758c-4f9d-9e1a-d7c6b7e8f9ab",
            "id": "01.02.04",
            "link": "https://learn.microsoft.com/azure/app-service/monitor-instances-health-check",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "モニタリング",
            "text": "正常性チェックを使用して App Service インスタンスを監視し、異常なインスタンスを検出し、自動的に置き換えます。",
            "waf": "確実"
        },
        {
            "category": "オペレーションズ",
            "description": "Azure App Service の自動修復を活用して、インスタンスを自動的に再起動したり、メモリのしきい値、HTTP エラー、特定のイベント ログなどの事前定義された障害条件に基づいてカスタム アクションをトリガーしたりできます。",
            "guid": "60b3a935-33e5-45c9-87c7-53882e395b46",
            "id": "01.02.05",
            "link": "https://learn.microsoft.com/azure/app-service/overview-diagnostics",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "高可用性",
            "text": "カスタム ルールと共に自動修復を使用して、エラー発生時に App Service インスタンスを自動的に再起動します。",
            "waf": "確実"
        },
        {
            "category": "オペレーションズ",
            "cost": 1,
            "guid": "c7d3e5f9-a19c-4833-8ca6-1dcb0128e129",
            "id": "01.03.01",
            "link": "https://learn.microsoft.com/azure/azure-monitor/app/availability-overview",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "モニタリング",
            "text": "Application Insights の可用性テストを使用して Web アプリまたは Web サイトの可用性と応答性を監視し、パフォーマンスの問題とダウンタイムをプロアクティブに検出します。",
            "waf": "確実"
        },
        {
            "category": "オペレーションズ",
            "cost": 1,
            "guid": "b4e3f2d5-a5c6-4d7e-8b2f-c5d9e7a8f0ea",
            "id": "01.03.01.01",
            "link": "https://learn.microsoft.com/azure/azure-monitor/app/availability-standard-tests",
            "service": "App Services",
            "severity": "低い",
            "subcategory": "モニタリング",
            "text": "Application Insights Standard テストを使用して、Web アプリまたは Web サイトの可用性と応答性を監視する",
            "waf": "確実"
        },
        {
            "category": "オペレーションズ",
            "cost": 1,
            "description": "Azure Monitor アラートは、応答時間、エラー率、全体的な可用性に関する Application Insights メトリックに基づいて構成します。アラートは、問題を事前に検出し、平均復旧時間 (MTTR) を短縮するのに役立ちます。",
            "guid": "e52e4514-02a7-4e81-a98e-88ce1b18e557",
            "id": "01.03.02",
            "link": "https://learn.microsoft.com/azure/azure-monitor/app/alerts",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "モニタリング",
            "text": "応答時間やエラー率などの重要な Application Insights メトリックのアラートを設定します。",
            "waf": "確実"
        },
        {
            "category": "安全",
            "description": "Azure Key Vault は、シークレットが暗号化され、安全に格納され、承認されたアプリケーションのみがアクセスできるようにします。監査ログとシークレット バージョニングをサポートし、機密情報が誤って公開されるリスクを軽減します。",
            "guid": "834ac932-223e-4ce8-8b12-3071a5416415",
            "id": "A01.01",
            "link": "https://learn.microsoft.com/azure/app-service/app-service-key-vault-references",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "データ保護",
            "text": "Azure Key Vault を使用して、アプリケーションに必要なシークレットを格納します。Key Vault は、シークレットを格納するためのセキュリティで保護された管理された監査済みの環境を提供し、App Service Key Vault 参照を介して App Service とシームレスに統合してセキュリティを強化します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "マネージド ID を使用すると、App Service が Azure Key Vault に対して安全に認証できるため、ハードコーディングされた資格情報が不要になります。これにより、資格情報の公開リスクが軽減され、シークレット管理が簡素化されてセキュリティが強化されます。",
            "guid": "833ea3ad-2c2d-4e73-8165-c3acbef4abe1",
            "id": "A01.02",
            "link": "https://learn.microsoft.com/azure/app-service/app-service-key-vault-references",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "データ保護",
            "text": "マネージド ID を使用して、App Service Key Vault 参照を通じてシークレットにアクセスするための Azure Key Vault に安全に接続します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "TLS 証明書を Azure Key Vault に格納すると、証明書の一元化された安全な管理と自動更新が提供され、セキュリティが強化されます。これにより、手作業によるエラーや証明書の期限切れのリスクが軽減されます。",
            "guid": "f8d39fda-4776-4831-9c11-5775c2ea55b4",
            "id": "A01.03",
            "link": "https://learn.microsoft.com/azure/app-service/configure-ssl-certificate",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "データ保護",
            "text": "Azure Key Vault を使用して、App Service の TLS 証明書を安全に格納および管理します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "露出を最小限に抑え、セキュリティを向上させるには、機密データを処理するシステムを分離します。分離のために個別の App Service プランまたは App Service Environment を活用し、異なるサブスクリプションまたは管理グループを使用して、より厳格な境界とガバナンスを適用します。",
            "guid": "6ad48408-ee72-4734-a475-ba18fdbf590c",
            "id": "A01.04",
            "link": "https://learn.microsoft.com/azure/app-service/overview-hosting-plans",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "データ保護",
            "text": "個別の App Service プラン、App Service Environment (ASE) を使用して機密情報を処理するシステムを分離し、セキュリティを強化するために異なるサブスクリプションまたは管理グループを検討します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "App Service 上のローカル ディスクは暗号化されていないため、機密データをそれらに格納しないでください。 (例: D:\\\\Local と %TMP%)。",
            "guid": "e65de8e0-3f9b-4cbd-9682-66abca264f9a",
            "id": "A01.05",
            "link": "https://learn.microsoft.com/azure/app-service/operating-system-functionality#file-access",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "データ保護",
            "text": "機密データをローカルディスクに保存しないでください",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "Microsoft Entra ID または B2C を使用して、アプリケーション間での安全なユーザー認証とシングル サインオン (SSO) を実現します。組み込みの App Service 認証/承認機能を使用して統合し、セキュリティを効率化し、OpenID Connect などの最新の認証プロトコルに準拠します。",
            "guid": "919ca0b2-c121-459e-814b-933df574eccc",
            "id": "A02.01",
            "link": "https://learn.microsoft.com/azure/app-service/overview-authentication-authorization",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "ID とアクセス制御",
            "text": "Microsoft Entra ID または B2C を使用して、安全な認証とシングル サインオン (SSO) を実現します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "App Service へのすべてのコード デプロイが、適切に管理された DevOps パイプラインなど、制御されたセキュリティで保護された環境から行われるようにします。このプラクティスにより、バージョン管理、コード検証、および安全なホスティングを実施することで、承認されていないコードや悪意のあるコードをデプロイするリスクが軽減されます。",
            "guid": "3f9bcbd4-6826-46ab-aa26-4f9a19aed9c5",
            "id": "A02.02",
            "link": "https://learn.microsoft.com/azure/app-service/deploy-best-practices",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "ID とアクセス制御",
            "text": "信頼できる安全な環境から App Service にコードをデプロイします。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "FTP/FTPS と WebDeploy/SCM の基本認証を無効にして、デプロイに Microsoft Entra ID で保護されたエンドポイントを適用することでセキュリティを強化します。これにより、Microsoft Entra ID 資格情報を使用して認証されたユーザーのみが、SCM サイトを含むデプロイ サービスにアクセスできるようになります。",
            "guid": "5d04c2c3-919c-4a0b-8c12-159e114b933d",
            "id": "A02.03",
            "link": "https://learn.microsoft.com/azure/app-service/deploy-configure-credentials#disable-basic-authentication",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "ID とアクセス制御",
            "text": "FTP/FTPS および WebDeploy/SCM の基本認証を無効にします。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "可能な限り、マネージド ID を使用して、資格情報を格納せずに Microsoft Entra ID で保護されたリソースに安全に接続します。これが不可能な場合は、シークレットを Azure Key Vault に格納し、マネージド ID を使用してアクセスすることで、セキュリティを維持し、資格情報の公開リスクを軽減します。",
            "guid": "f574eccc-d9bd-43ba-bcda-3b54eb2eb03d",
            "id": "A02.04",
            "link": "https://learn.microsoft.com/azure/app-service/overview-managed-identity?tabs=portal%2Chttp",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "ID とアクセス制御",
            "text": "マネージド ID を使用して、Microsoft Entra ID で保護されたリソースに接続します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "Azure Container Registryに格納されているイメージを使用する場合は、マネージド ID を使用してこれらのイメージをプルし、資格情報の保存を回避します。これにより、コンテナイメージへの安全なアクセスが確保され、資格情報が公開されるリスクが軽減されます。",
            "guid": "d9a25827-18d2-4ddb-8072-5769ee6691a4",
            "id": "A02.05",
            "link": "https://learn.microsoft.com/azure/app-service/configure-custom-container#use-managed-identity-to-pull-image-from-azure-container-registry",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "ID とアクセス制御",
            "text": "マネージド ID を使用して、Azure Container Registry からコンテナー イメージをプルします。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "テレメトリとセキュリティ ログ (HTTP、プラットフォーム、監査ログを含む) を Log Analytics に送信するように診断設定を構成します。一元化されたロギングにより、監視、脅威検出、コンプライアンスレポートが強化されます。",
            "guid": "47768314-c115-4775-a2ea-55b46ad48408",
            "id": "A03.01",
            "link": "https://learn.microsoft.com/azure/app-service/troubleshoot-diagnostic-logs",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "ロギングとモニタリング",
            "text": "App Service のランタイム ログとセキュリティ ログを Log Analytics に送信して、一元的な監視とアラートを行います。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "アクティビティ ログをログ記録と監視の中心的な宛先として Log Analytics に送信するように診断設定を設定します。これにより、App Service リソース自体のコントロール プレーン アクティビティを監視できます。",
            "guid": "ee72734b-475b-4a18-bdbf-590ce65de8e0",
            "id": "A03.02",
            "link": "https://learn.microsoft.com/azure/azure-monitor/essentials/activity-log",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "ロギングとモニタリング",
            "text": "App Service アクティビティ ログを Log Analytics に送信する",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "リージョン VNet 統合、ネットワーク セキュリティ グループ (NSG)、ユーザー定義ルート (UDR) を使用して、送信ネットワーク アクセスを制御します。Azure Firewall などのネットワーク仮想アプライアンス (NVA) を介してトラフィックをルーティングし、ファイアウォール ログを監視して、トラフィックが適切に制御され、セキュリティで保護されていることを確認します。",
            "guid": "c12159e1-14b9-433d-b574-ecccd9bd3baf",
            "id": "A04.01",
            "link": "https://learn.microsoft.com/azure/app-service/overview-vnet-integration",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "ネットワークセキュリティ",
            "text": "VNet 統合、NSG、UDR、ファイアウォールを使用して、App Service の送信ネットワーク アクセスを制御します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "NAT ゲートウェイまたは Azure Firewall などのネットワーク仮想アプライアンス (NVA) との VNet 統合を使用して、安定した送信 IP を提供します。これにより、受信側は必要に応じて IP に基づいて許可リストに登録できます。Azure サービスとの通信では、サービス エンドポイントやプライベート エンドポイントなどのメカニズムを使用して、静的 IP に依存しないようにし、安全で効率的な接続を確保します。",
            "guid": "cda3b54e-b2eb-403d-b9a2-582718d2ddb1",
            "id": "A04.02",
            "link": "https://learn.microsoft.com/azure/app-service/networking/nat-gateway-integration",
            "service": "App Services",
            "severity": "低い",
            "subcategory": "ネットワークセキュリティ",
            "text": "VNet NAT ゲートウェイまたは Azure Firewall を使用して、送信通信用の安定した IP を確保します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "App Service のアクセス制限、サービス エンドポイント、またはプライベート エンドポイントを構成することで、受信ネットワーク アクセスを制御します。Web アプリと SCM (デプロイ) サイトの両方に適切な制限が設定されていることを確認して、不正アクセスを制限し、セキュリティを強化します。",
            "guid": "0725769e-e669-41a4-a34a-c932223ece80",
            "id": "A04.03",
            "link": "https://learn.microsoft.com/azure/app-service/networking-features#access-restrictions",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "ネットワークセキュリティ",
            "text": "アクセス制限、サービスエンドポイント、またはプライベートエンドポイントを使用して、インバウンドネットワークアクセスを制御します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "Azure Application Gateway または Azure Front Door を使用して Web アプリケーション ファイアウォール (WAF) をデプロイすることで、悪意のある受信トラフィックから App Service を保護します。WAFログが定期的に監視され、セキュリティの脅威を検出して対応していることを確認します。",
            "guid": "b123071a-5416-4415-a33e-a3ad2c2de732",
            "id": "A04.04",
            "link": "https://learn.microsoft.com/azure/app-service/networking/app-gateway-with-service-endpoints",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "ネットワークセキュリティ",
            "text": "App Service の前で Web アプリケーション ファイアウォール (WAF) を使用します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "Web アプリケーション ファイアウォール (WAF) がバイパスされないようにするには、アクセス制限、サービス エンドポイント、およびプライベート エンドポイントを使用して App Service へのアクセスをロックダウンします。これにより、すべてのトラフィックがWAF経由でルーティングされ、安全なフロントレイヤーの保護が提供されます。",
            "guid": "165c3acb-ef4a-4be1-b8d3-9fda47768314",
            "id": "A04.05",
            "link": "https://learn.microsoft.com/azure/app-service/networking-features#access-restrictions",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "ネットワークセキュリティ",
            "text": "App Service へのアクセスをセキュリティで保護することで、WAF がバイパスされないようにします。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "最小 TLS ポリシーが 1.2 以上に設定されていることを確認し、TLS 1.3 を優先して、より強力な暗号化プロトコルを通じてセキュリティを強化します。TLS 1.3 では、セキュリティがさらに強化され、ハンドシェイク時間が短縮され、古いバージョンに関連する脆弱性が軽減されます。",
            "graph": "appserviceresources | where type =~ 'microsoft.web/sites/config' | extend compliant = (properties.MinTlsVersion>=1.2) | distinct id,compliant",
            "guid": "c115775c-2ea5-45b4-9ad4-8408ee72734b",
            "id": "A04.06",
            "link": "https://learn.microsoft.com/azure/app-service/configure-ssl-bindings#enforce-tls-versions",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "ネットワークセキュリティ",
            "text": "App Service 構成で、最小 TLS ポリシーを 1.2 以上 (できれば 1.3) に設定します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "HTTPS のみを適用するように App Service を構成し、すべての HTTP トラフィックを HTTPS に自動的にリダイレクトします。さらに、コードにHSTS(HTTP Strict Transport Security)を実装するか、WAF(Web Application Firewall)を介して実装し、ブラウザがHTTPS経由でのみサイトにアクセスするようにし、ダウングレード攻撃を防ぐことでセキュリティを強化します。",
            "graph": "where (type=='microsoft.web/sites' and (kind == 'app' or kind == 'app,linux' )) | extend compliant = (properties.httpsOnly==true) | distinct id,compliant",
            "guid": "475ba18f-dbf5-490c-b65d-e8e03f9bcbd4",
            "id": "A04.07",
            "link": "https://learn.microsoft.com/azure/app-service/configure-ssl-bindings#enforce-https",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "ネットワークセキュリティ",
            "text": "HTTPS のみを使用し、HTTP Strict Transport Security (HSTS) を有効にすることを検討してください。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "CORS 設定でワイルドカード (*) を使用すると、任意のオリジンからの無制限のアクセスが許可され、セキュリティが損なわれるため、使用しないでください。代わりに、サービスへのアクセスが許可されている信頼できるオリジンを明示的に指定し、アクセスが制御されるようにします。",
            "guid": "68266abc-a264-4f9a-89ae-d9c55d04c2c3",
            "id": "A04.08",
            "link": "https://learn.microsoft.com/azure/app-service/app-service-web-tutorial-rest-api",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "ネットワークセキュリティ",
            "text": "CORS にワイルドカードを使用することは避けてください。許可されたオリジンを明示的に指定します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "リモートデバッグは、追加のポートを開き、攻撃対象領域を増やすため、本番環境では有効にしないでください。App Service では 48 時間後にリモート デバッグが自動的にオフになりますが、運用環境では、セキュリティで保護された環境を維持するために手動で無効にすることをお勧めします。",
            "graph": "appserviceresources | where type =~ 'microsoft.web/sites/config' | extend compliant = (properties.RemoteDebuggingEnabled == false) | distinct id,compliant",
            "guid": "d9bd3baf-cda3-4b54-bb2e-b03dd9a25827",
            "id": "A04.09",
            "link": "https://learn.microsoft.com/azure/app-service/configure-common#configure-general-settings",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "ネットワークセキュリティ",
            "text": "運用環境でのリモート デバッグをオフにします。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "Defender for App Service を有効にします。 これは(他の脅威の中でも特に)既知の悪意のあるIPアドレスへの通信を検出します。 操作の一環として、Defender for App Service からの推奨事項を確認します。",
            "guid": "18d2ddb1-0725-4769-be66-91a4834ac932",
            "id": "A04.10",
            "link": "https://learn.microsoft.com/azure/defender-for-cloud/defender-for-app-service-introduction",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "ネットワークセキュリティ",
            "text": "Defender for Cloud を有効にする - Defender for App Service",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "Azure は、ネットワーク上で DDoS Basic 保護を提供し、通常のトラフィック パターンを学習し、異常な動作を検出できるインテリジェントな DDoS Standard 機能で改善できます。DDoS Standard は仮想ネットワークに適用されるため、Application Gateway や NVA など、アプリの前にあるネットワーク リソース用に構成する必要があります。",
            "guid": "223ece80-b123-4071-a541-6415833ea3ad",
            "id": "A04.11",
            "link": "https://learn.microsoft.com/azure/ddos-protection/ddos-protection-overview",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "ネットワークセキュリティ",
            "text": "WAF VNet で DDOS Protection Standard を有効にする",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "Azure Container Registry に格納されているイメージを使用する場合は、プライベート エンドポイントを使用し、アプリ設定 'WEBSITE_PULL_IMAGE_OVER_VNET' を構成することで、仮想ネットワーク経由でプルされていることを確認します。これにより、App Service とレジストリ間の通信がセキュリティで保護され、パブリック インターネットへの露出が防止されます。",
            "guid": "2c2de732-165c-43ac-aef4-abe1f8d39fda",
            "id": "A04.12",
            "link": "https://learn.microsoft.com/azure/app-service/configure-custom-container#use-an-image-from-a-network-protected-registry",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "ネットワークセキュリティ",
            "text": "Azure Container Registry から Virtual Network 経由でコンテナー イメージをプルします。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "Azure の侵入テストの実施ルールに従って、Web アプリケーションで侵入テストを実行します。これにより、悪用される前に対処できる脆弱性やセキュリティの弱点を特定することができます。",
            "guid": "eb2eb03d-d9a2-4582-918d-2ddb10725769",
            "id": "A05.01",
            "link": "https://learn.microsoft.com/azure/security/fundamentals/pen-testing",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "ペネトレーションテスト",
            "text": "Web アプリケーションで侵入テストを実施します。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "脆弱性が検証およびスキャンされた信頼できるコードのみが、DevSecOps プラクティスに従って本番環境にデプロイされるようにします。これにより、アプリケーション環境にセキュリティの脆弱性が持ち込まれるリスクが最小限に抑えられます。",
            "guid": "19aed9c5-5d04-4c2c-9919-ca0b2c12159e",
            "id": "A06.01",
            "link": "https://learn.microsoft.com/azure/architecture/solution-ideas/articles/devsecops-in-azure",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "脆弱性管理",
            "text": "検証済みで脆弱性がスキャンされたコードをデプロイします。",
            "waf": "安全"
        },
        {
            "category": "安全",
            "description": "サポートされているプラットフォーム、プログラミング言語、プロトコル、およびフレームワークの最新バージョンが使用されていることを確認します。定期的な更新により、セキュリティの脆弱性のリスクが軽減され、セキュリティパッチとの互換性が確保されます。",
            "guid": "114b933d-f574-4ecc-ad9b-d3bafcda3b54",
            "id": "A06.02",
            "link": "https://learn.microsoft.com/azure/app-service/overview-patch-os-runtime",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "脆弱性管理",
            "text": "最新のプラットフォーム、言語、プロトコル、フレームワークを使用",
            "waf": "安全"
        },
        {
            "category": "コストガバナンス",
            "cost": 1,
            "description": "Azure Cost Management を活用して、App Service の経費を追跡および予測します。予算のしきい値のアラートを設定して、支出超過を回避し、リソース使用率の傾向に基づいてコストを最適化します。",
            "guid": "42eb48f0-28ff-497c-b2c0-a8fa1f989832",
            "id": "C01.01",
            "link": "https://learn.microsoft.com/azure/cost-management-billing/",
            "service": "App Services",
            "severity": "低い",
            "subcategory": "コスト監視",
            "text": "Azure Cost Management を使用して App Service のコストを監視し、コスト アラートを作成します。",
            "waf": "費用"
        },
        {
            "category": "コストガバナンス",
            "cost": 3,
            "description": "App Service を予測可能で安定して使用している場合は、リザーブド インスタンスを購入することで、長期的なコストを大幅に削減できます。1年または3年契約すると、従量課金制に比べて低価格になります。",
            "guid": "e489221b-487e-48a3-aaab-48e3d205ca12",
            "id": "C01.02",
            "link": "https://learn.microsoft.com/azure/cost-management-billing/reservations/",
            "service": "App Services",
            "severity": "中程度",
            "subcategory": "コストの最適化",
            "text": "App Service プランの予約インスタンスを購入して、長期的なコストを最適化します。",
            "waf": "費用"
        },
        {
            "category": "ガバナンスとセキュリティ",
            "cost": 2,
            "description": "Azure Policy を使用して、App Service のセキュリティ、コンプライアンス、ガバナンスの構成を適用します。ポリシーを使用すると、TLS バージョン、バックアップ構成、ネットワーク制限などの重要な設定が、すべての App Service インスタンスに適用されるようにすることができます。",
            "guid": "361e886f-ca40-4ead-a8e9-1379c642ae9c",
            "id": "G01.01",
            "link": "https://learn.microsoft.com/azure/governance/policy/overview",
            "service": "App Services",
            "severity": "高い",
            "subcategory": "コンプライアンス",
            "text": "Azure Policy を適用して、App Service 構成全体にコンプライアンスを適用します。",
            "waf": "統治"
        }
    ],
    "metadata": {
        "name": "Azure App Service Review",
        "state": "Preview",
        "timestamp": "October 01, 2024",
        "waf": "all"
    },
    "severities": [
        {
            "name": "高い"
        },
        {
            "name": "中程度"
        },
        {
            "name": "低い"
        }
    ],
    "status": [
        {
            "description": "このチェックはまだ見ていません",
            "name": "未確認"
        },
        {
            "description": "このチェックにはアクションアイテムが関連付けられています",
            "name": "開ける"
        },
        {
            "description": "このチェックは検証済みであり、これ以上のアクション アイテムは関連付けられていません",
            "name": "達成"
        },
        {
            "description": "現在のデザインには適用されません",
            "name": "該当なし"
        },
        {
            "description": "必須ではありません",
            "name": "必須ではありません"
        }
    ],
    "waf": [
        {
            "name": "確実"
        },
        {
            "name": "安全"
        },
        {
            "name": "費用"
        },
        {
            "name": "オペレーションズ"
        },
        {
            "name": "パフォーマンス"
        }
    ],
    "yesno": [
        {
            "name": "はい"
        },
        {
            "name": "いいえ"
        }
    ]
}