{
    "categories": [
        {
            "name": "身份和訪問管理"
        },
        {
            "name": "網路拓撲和連接"
        },
        {
            "name": "BC 和DR"
        },
        {
            "name": "安全"
        },
        {
            "name": "管理"
        },
        {
            "name": "統轄"
        },
        {
            "name": "操作"
        }
    ],
    "items": [
        {
            "category": "統轄",
            "cost": 1,
            "guid": "6d37a33b-531c-4a91-871a-b69d8044f04e",
            "id": "01.01",
            "link": "https://learn.microsoft.com/azure/key-vault/general/best-practices",
            "service": "Key Vault",
            "severity": "高",
            "subcategory": "部署最佳實踐",
            "text": "熟悉 Key Vault 的最佳實踐，例如隔離建議、訪問控制、數據保護、備份和日誌記錄。",
            "waf": "可靠性"
        },
        {
            "category": "BC 和DR",
            "cost": 1,
            "guid": "7ba4d380-7b9e-4a8b-a0c3-2d8e49c11872",
            "id": "02.01",
            "link": "https://learn.microsoft.com/azure/key-vault/general/disaster-recovery-guidance",
            "service": "Key Vault",
            "severity": "中等",
            "subcategory": "高可用性",
            "text": "Key Vault 是一項託管服務，Microsoft 將處理區域內和區域之間的故障轉移。熟悉 Key Vault 的可用性和冗餘。",
            "waf": "可靠性"
        },
        {
            "category": "BC 和DR",
            "cost": 1,
            "guid": "17fb86a2-eb45-42a4-9c34-52b92a2a1842",
            "id": "02.02",
            "link": "https://learn.microsoft.com/azure/key-vault/general/disaster-recovery-guidance#data-replication",
            "service": "Key Vault",
            "severity": "中等",
            "subcategory": "高可用性",
            "text": "密鑰保管庫的內容將在區域內複製到至少 150 英里外的次要區域，但要在同一地理位置內，以保持金鑰和機密的高持久性。熟悉 Key Vault 的數據複製。",
            "waf": "可靠性"
        },
        {
            "category": "BC 和DR",
            "cost": 1,
            "guid": "614682ca-6e0c-4f34-9f03-c6d3f2b99a32",
            "id": "02.03",
            "link": "https://learn.microsoft.com/azure/key-vault/general/disaster-recovery-guidance#failover-across-regions",
            "service": "Key Vault",
            "severity": "中等",
            "subcategory": "高可用性",
            "text": "在故障轉移期間，無法訪問策略或防火牆配置和設置。在故障轉移期間，金鑰保管庫將處於只讀模式。熟悉 Key Vault 的故障轉移指南。",
            "waf": "可靠性"
        },
        {
            "category": "管理",
            "cost": 1,
            "guid": "9ef2b0d2-3206-4c94-b47a-4f07e6a1c509",
            "id": "03.01",
            "link": "https://learn.microsoft.com/azure/key-vault/general/backup?tabs=azure-cli#design-considerations",
            "service": "Key Vault",
            "severity": "中等",
            "subcategory": "業務連續性和災難恢復",
            "text": "備份金鑰保管庫物件（例如機密、金鑰或證書）時，備份操作會將該物件下載為加密的 blob。無法在 Azure 外部解密此 blob。若要從此 blob 獲取可用數據，必須將 blob 還原到同一 Azure 訂閱和 Azure 地理位置中的金鑰保管庫中。熟悉 Key Vault 的備份和還原指南。",
            "waf": "可靠性"
        },
        {
            "category": "管理",
            "cost": 1,
            "guid": "2df045b1-c0f6-47d3-9a9b-99cf6999684e",
            "id": "03.02",
            "link": "https://learn.microsoft.com/azure/key-vault/general/soft-delete-overview",
            "service": "Key Vault",
            "severity": "高",
            "subcategory": "業務連續性和災難恢復",
            "text": "如果要防止意外或惡意刪除機密，請在密鑰保管庫上配置軟刪除和清除保護功能。",
            "waf": "可靠性"
        },
        {
            "category": "管理",
            "cost": 1,
            "guid": "cbfa96b0-5249-4e6f-947c-d0e79509708c",
            "id": "03.03",
            "link": "https://learn.microsoft.com/azure/key-vault/general/soft-delete-overview",
            "service": "Key Vault",
            "severity": "低",
            "subcategory": "業務連續性和災難恢復",
            "text": "Key Vault 的軟刪除資源將保留 90 個日曆日的固定期限。熟悉 Key Vault 的軟刪除指南。",
            "waf": "可靠性"
        },
        {
            "category": "管理",
            "cost": 1,
            "guid": "e8659d11-7e02-4db0-848c-c6541dbab68c",
            "id": "03.04",
            "link": "https://learn.microsoft.com/azure/key-vault/general/backup?tabs=azure-cli#limitations",
            "service": "Key Vault",
            "severity": "低",
            "subcategory": "業務連續性和災難恢復",
            "text": "瞭解 Key Vault 的備份限制。Key Vault 不支援備份超過 500 個金鑰、機密或證書對象的過去版本。嘗試備份金鑰、金鑰或證書物件可能會導致錯誤。無法刪除金鑰、金鑰或證書的早期版本。",
            "waf": "可靠性"
        },
        {
            "category": "管理",
            "cost": 1,
            "guid": "45c25e29-d0ef-4f07-aa04-0f8c64cbcc04",
            "id": "03.05",
            "link": "https://learn.microsoft.com/azure/key-vault/general/backup?tabs=azure-cli#limitations",
            "service": "Key Vault",
            "severity": "低",
            "subcategory": "業務連續性和災難恢復",
            "text": "Key Vault 目前不提供在單個操作中備份整個 Key Vault 的方法，並且必須單獨備份密鑰、機密和證書。熟悉 Key Vault 的備份和還原指南。",
            "waf": "可靠性"
        },
        {
            "category": "管理",
            "cost": 1,
            "guid": "0f15640b-31e5-4de6-85a7-d2c652fa09d3",
            "id": "04.01",
            "link": "https://learn.microsoft.com/azure/key-vault/general/soft-delete-overview#purge-protection",
            "service": "Key Vault",
            "severity": "中等",
            "subcategory": "業務連續性和災難恢復",
            "text": "使用金鑰進行加密時，建議使用清除保護，以防止數據丟失。清除保護是一種可選的 Key Vault 行為，預設情況下未啟用。只有在啟用軟刪除後，才能啟用清除保護。可以通過 CLI、PowerShell 或 Portal 打開它。",
            "waf": "可靠性"
        },
        {
            "category": "安全",
            "cost": 1,
            "graph": "resources| where type =~ 'microsoft.keyvault/vaults' | extend compliant = (properties.enableRbacAuthorization == true) | distinct id, compliant",
            "guid": "d0642c1c-312b-4116-94ab-439e1c836819",
            "id": "05.01",
            "link": "https://learn.microsoft.com/azure/key-vault/general/rbac-guide?tabs=azure-cli",
            "service": "Key Vault",
            "severity": "中等",
            "subcategory": "身份和訪問管理",
            "text": "建議使用 RBAC 來控制對 Key Vault 的訪問。熟悉 Key Vault 的訪問控制指南。",
            "waf": "安全"
        }
    ],
    "metadata": {
        "name": "Azure Key Vault",
        "state": "Preview",
        "timestamp": "September 23, 2024",
        "waf": "reliability"
    },
    "severities": [
        {
            "name": "高"
        },
        {
            "name": "中等"
        },
        {
            "name": "低"
        }
    ],
    "status": [
        {
            "description": "尚未查看此檢查",
            "name": "未驗證"
        },
        {
            "description": "存在與此檢查關聯的操作項",
            "name": "打開"
        },
        {
            "description": "此檢查已經過驗證，沒有與之關聯的其他操作項",
            "name": "實現"
        },
        {
            "description": "建議已理解，但當前要求不需要",
            "name": "不需要"
        },
        {
            "description": "不適用於當前設計",
            "name": "不適用"
        }
    ],
    "waf": [
        {
            "name": "可靠性"
        },
        {
            "name": "安全"
        },
        {
            "name": "成本"
        },
        {
            "name": "操作"
        },
        {
            "name": "性能"
        }
    ],
    "yesno": [
        {
            "name": "是的"
        },
        {
            "name": "不"
        }
    ]
}