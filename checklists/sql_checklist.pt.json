{
    "categories": [
        {
            "name": "SQL Server na VM do Azure"
        },
        {
            "name": "Instância gerenciada do SQL"
        }
    ],
    "items": [
        {
            "category": "SQL Server na VM do Azure",
            "description": "Ao criar um SQL Server na VM do Azure, considere cuidadosamente o tipo de carga de trabalho necessária. Se você estiver migrando um ambiente existente, colete uma linha de base de desempenho para determinar seus requisitos de VM do SQL Server no Azure. Se esta for uma nova VM, crie sua nova VM do SQL Server com base nos requisitos do fornecedor.",
            "guid": "1fc3fc14-eea6-4e69-b8d9-a3eec218e687",
            "id": "A01.01",
            "link": "https://learn.microsoft.com/sql/dma/dma-sku-recommend-sql-db?view=sql-server-ver16",
            "severity": "Alto",
            "subcategory": "Tamanho da VM",
            "text": "Colete as características de desempenho da carga de trabalho de destino e use-as para determinar o tamanho apropriado da VM para sua empresa.",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Os tamanhos de máquina virtual otimizados para memória são um destino primário para VMs do SQL Server e a escolha recomendada pela Microsoft. As máquinas virtuais otimizadas para memória oferecem taxas de memória para CPU mais fortes e opções de cache de médio a grande. Considere a série Ebdsv5 primeiro para a maioria das cargas de trabalho do SQL Server.",
            "guid": "e04abe1f-8d39-4fda-9776-8424c116775c",
            "id": "A01.02",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-vm-size?view=azuresql#memory-optimized",
            "severity": "Média",
            "subcategory": "Tamanho da VM",
            "text": "Use tamanhos de máquina virtual otimizados para memória para obter o melhor desempenho das cargas de trabalho do SQL Server.",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Para encontrar a configuração mais eficaz para cargas de trabalho do SQL Server em uma VM do Azure, comece medindo o desempenho de armazenamento do seu aplicativo de negócios. Depois que os requisitos de armazenamento forem conhecidos, selecione uma máquina virtual que ofereça suporte às IOPS e à taxa de transferência necessárias com a proporção apropriada de memória para vCore.",
            "guid": "2ea55b56-ad48-4408-be72-734b476ba18f",
            "id": "A02.01",
            "link": "https://learn.microsoft.com/azure/virtual-machines/premium-storage-performance#counters-to-measure-application-performance-requirements",
            "severity": "Média",
            "subcategory": "Armazenamento",
            "text": "Determine os requisitos de largura de banda de armazenamento e latência para dados, log e arquivos tempdb do SQL Server antes de escolher o tipo de disco.",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Isso fornece IOPS de disco mais dedicadas e taxa de transferência no nível do disco e também permite que você defina a configuração de cache de host de disco do Azure para cada disco para a configuração ideal para esse tipo de dados.",
            "guid": "dbf590ce-65de-48e0-9f9c-cbd468266abc",
            "id": "A02.02",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "Alto",
            "subcategory": "Armazenamento",
            "text": "Coloque dados, log e arquivos tempdb em unidades separadas",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "O SSD Premium é sempre recomendado como mínimo para o SQL Server, a fim de obter melhor desempenho e menor latência. P30 e P40 são recomendados porque o cache de disco não é suportado para discos de 4 TiB ou maiores (P50 e acima) e eles fornecem a relação preço/desempenho ideal",
            "guid": "e6a84de5-df43-4d19-a248-1718d5d1e5f6",
            "id": "A02.03",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "Alto",
            "subcategory": "Armazenamento",
            "text": "Para a unidade de dados, use discos premium P30 e P40 ou menores para garantir a disponibilidade do suporte a cache",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Os arquivos de log têm principalmente operações pesadas de gravação. Portanto, eles não se beneficiam do cache ReadOnly. Portanto, avalie seu preço vs desempenho vs capacidade e escolha o disco de armazenamento certo.",
            "guid": "25659d35-58fd-4772-99c9-31112d027fe4",
            "id": "A02.04",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "Alto",
            "subcategory": "Armazenamento",
            "text": "Para o plano de unidade de log para capacidade e teste de desempenho versus custo ao avaliar os discos P30 - P80 premium",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Colocar o TempDB na unidade D pode ajudar no desempenho. Considere o tamanho necessário e sempre teste o desempenho.",
            "guid": "12f70983-f630-4472-8ee6-9d6b5c2622f5",
            "id": "A02.05",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "Média",
            "subcategory": "Armazenamento",
            "text": "Coloque tempdb na unidade SSD efêmera local (padrão D:\\) para a maioria das cargas de trabalho do SQL Server que não fazem parte da FCI (Instância de Cluster de Failover) depois de escolher o tamanho ideal da VM.",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "A distribuição de dados e o disco de log podem aumentar a largura de banda. Verifique se o tamanho da VM também corresponde à saída esperada",
            "guid": "4b69bad3-4aad-45e8-a78e-1d76667313c4",
            "id": "A02.06",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "Alto",
            "subcategory": "Armazenamento",
            "text": "Distribua vários discos de dados do Azure usando Espaços de Armazenamento para aumentar a largura de banda de E/S",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Sua política de cache de armazenamento varia dependendo do tipo de arquivos de dados do SQL Server hospedados na unidade. Habilite o cache somente leitura para os discos que hospedam arquivos de dados do SQL Server. As leituras do cache serão mais rápidas do que as leituras não armazenadas em cache do disco de dados. Defina a política de cache como Nenhum para discos que hospedam o log de transações. Não há nenhum benefício de desempenho em habilitar o cache para o disco de log de transações.",
            "guid": "05674b5e-985b-4859-a773-e7e261623b77",
            "id": "A02.07",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "Alto",
            "subcategory": "Armazenamento",
            "text": "Defina o cache do host como somente leitura para discos de arquivo de dados e nenhum para discos de arquivo de log.",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Verifique se o armazenamento está na mesma região que sua VM. Para exaplme, se sua VM estiver em EAST US 2, verifique se seu armazenamento está em East US 2.",
            "guid": "5a917e1f-348e-4f35-9c27-d42e8bbac868",
            "id": "A02.08",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "Alto",
            "subcategory": "Armazenamento",
            "text": "Provisionar a conta de armazenamento na mesma região que a VM do SQL Server",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "O SQL Server usa extensões para armazenar dados. Estes são 64KB de tamanho. Portanto, em um computador do SQL Server, o tamanho da unidade de alocação NTFS para hospedar arquivos de banco de dados SQL deve ser de 64 KB.",
            "guid": "155abb91-63e9-4908-ae28-c84c33b6b780",
            "id": "A02.09",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "Alto",
            "subcategory": "Armazenamento",
            "text": "Formate o disco de dados para usar o tamanho do bloco de 64 KB (tamanho da unidade de alocação) para todos os arquivos de dados colocados em uma unidade diferente da unidade temporária D:\\",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "É recomendável determinar as necessidades e os requisitos de BCDR, garantindo que você seja capaz de atender aos SLAs do ambiente.",
            "guid": "8b9fe5c4-2049-4d41-9a92-3c3474d11028",
            "id": "A03.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/business-continuity-high-availability-disaster-recovery-hadr-overview?view=azuresql#azure-only-disaster-recovery-solutions",
            "severity": "Média",
            "subcategory": "HADR",
            "text": "Determine os requisitos de HA/DR para cada VM a ser migrada.",
            "waf": "Fiabilidade"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Ao definir Alta Disponibilidade, você precisa usar conjuntos de disponibilidade ou zonas de disponibilidade para evitar interrupções inesperadas.",
            "guid": "ac6aae01-e6a8-44de-9df4-3d1992481718",
            "id": "A03.02",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/business-continuity-high-availability-disaster-recovery-hadr-overview?view=azuresql#high-availability-nodes-in-an-availability-set",
            "severity": "Alto",
            "subcategory": "HADR",
            "text": "Coloque suas VMs em um conjunto de disponibilidade ou zonas de disponibilidade diferentes.",
            "waf": "Fiabilidade"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Opção preferencial ao implantar um Grupo de Disponibilidade. A solução recomendada é usar várias sub-redes ao implantar grupos de disponibilidade Always on.",
            "guid": "d5d1e5f6-2565-49d3-958f-d77249c93111",
            "id": "A03.03",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/availability-group-azure-portal-configure?view=azuresql&tabs=azure-cli",
            "severity": "Média",
            "subcategory": "HADR",
            "text": "Implante suas VMs do SQL Server em várias sub-redes sempre que possível para evitar a dependência de um Balanceador de Carga do Azure ou de um DNN (nome de rede distribuído) para rotear o tráfego para sua solução HADR. ( Se alguém está implementando FCI ou AG)",
            "waf": "Fiabilidade"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Os recursos HADR (Alta disponibilidade e recuperação de desastres), como o grupo de disponibilidade Always On e a instância de cluster de failover, dependem da tecnologia subjacente do Cluster de Failover do Windows Server. Analise as práticas recomendadas para modificar suas configurações HADR para oferecer melhor suporte ao ambiente de nuvem.",
            "guid": "2d027fe4-12f7-4098-9f63-04722ee69d6b",
            "id": "A03.04",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql-vm#hadr-configuration",
            "severity": "Alto",
            "subcategory": "HADR",
            "text": "Altere o cluster para parâmetros menos agressivos para evitar interrupções inesperadas de falhas de rede transitórias ou manutenção da plataforma Azure. ( Se alguém está implementando FCI ou AG)",
            "waf": "Fiabilidade"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Certifique-se de que o quorum esteja definido corretamente para o número de instâncias implantadas.",
            "guid": "5c2622f5-4b69-4bad-94aa-d5e8c78e1d76",
            "id": "A03.05",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/hadr-cluster-best-practices?view=azuresql-vm&tabs=windows2012#quorum-voting",
            "severity": "Alto",
            "subcategory": "HADR",
            "text": "Configure a votação de quórum de cluster para usar 3 ou mais números ímpares de votos. Não atribua votos a regiões de DR. ( Se alguém está implementando FCI ou AG)",
            "waf": "Fiabilidade"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Nas máquinas virtuais do Azure, os clusters usam um balanceador de carga para manter um endereço IP que precisa estar em um nó de cluster por vez. Nesta solução, o balanceador de carga mantém o endereço IP do ouvinte de nome de rede virtual (VNN) para o grupo de disponibilidade Always On quando as VMs do SQL Server estão em uma única sub-rede.",
            "guid": "667313c4-0567-44b5-b985-b859c773e7e2",
            "id": "A03.06",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/availability-group-vnn-azure-load-balancer-configure?view=azuresql-vm&tabs=ilb",
            "severity": "Alto",
            "subcategory": "HADR",
            "text": "Ao usar o nome da rede virtual (VNN) e o Balanceador de Carga do Azure para se conectar à sua solução HADR, especifique MultiSubnetFailover = true na cadeia de conexão, mesmo que o cluster abranja apenas uma sub-rede. ( Se alguém está implementando FCI ou AG)",
            "waf": "Fiabilidade"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "O SQL Server, o Banco de Dados SQL do Azure e a Instância Gerenciada SQL do Azure oferecem suporte à compactação de linha e página para tabelas e índices de armazenamento de linhas e oferecem suporte à compactação de arquivamento columnstore e columnstore para tabelas e índices columnstore.",
            "guid": "61623b77-5a91-47e1-b348-ef354c27d42e",
            "id": "A04.01",
            "link": "https://learn.microsoft.com/sql/relational-databases/data-compression/data-compression?view=sql-server-ver16",
            "severity": "Baixo",
            "subcategory": "SQL Server",
            "text": "Habilite a compactação de página do banco de dados quando apropriado.",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Por padrão, os arquivos de dados e de log são inicializados para substituir quaisquer dados existentes deixados no disco de arquivos excluídos anteriormente. Os arquivos de dados e de log são inicializados primeiro zerando os arquivos (preenchendo com zeros). No SQL Server, somente para arquivos de dados, a inicialização instantânea de arquivos (IFI) permite a execução mais rápida das operações de arquivo mencionadas anteriormente, uma vez que recupera o espaço em disco usado sem preencher esse espaço com zeros. Em vez disso, o conteúdo do disco é substituído à medida que novos dados são gravados nos arquivos.",
            "guid": "8bbac868-155a-4bb9-863e-9908ae28c84c",
            "id": "A04.02",
            "link": "https://learn.microsoft.com/sql/relational-databases/databases/database-instant-file-initialization?view=sql-server-ver16",
            "severity": "Alto",
            "subcategory": "SQL Server",
            "text": "Habilite a inicialização instantânea de arquivos para arquivos de dados.",
            "waf": "Operações"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Recomendado para melhor desempenho e disponibilidade Migrar todos os bancos de dados para discos de dados e de log",
            "guid": "33b6b780-8b9f-4e5c-9204-9d413a923c34",
            "id": "A04.03",
            "link": "https://learn.microsoft.com/sql/relational-databases/databases/move-database-files?view=sql-server-ver16",
            "severity": "Média",
            "subcategory": "SQL Server",
            "text": "Mova todos os bancos de dados para discos de dados, incluindo bancos de dados do sistema.",
            "waf": "Operações"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Parte da lista de verificação de recursos do SQL Server no link que é recomendado quando a Instância do SQL Server está em uma VM do Azure.",
            "guid": "b824546c-e1ae-4e34-93ae-c8239248725d",
            "id": "A04.04",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql-vm#sql-server-features",
            "severity": "Baixo",
            "subcategory": "SQL Server",
            "text": "Mova o log de erros do SQL Server e os diretórios de arquivos de rastreamento para discos de dados.",
            "waf": "Operações"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Parte da lista de verificação de recursos do SQL Server no link que é recomendado quando a Instância do SQL Server está em uma VM do Azure.",
            "guid": "d68c5b5c-2925-4394-a69a-9d2799c42bb6",
            "id": "A04.05",
            "link": "https://learn.microsoft.com/sql/database-engine/configure-windows/server-memory-server-configuration-options#use-",
            "severity": "Alto",
            "subcategory": "SQL Server",
            "text": "Defina o limite máximo de memória do SQL Server para deixar memória suficiente para o sistema operacional.",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Parte da lista de verificação de recursos do SQL Server no link que é recomendado quando a Instância do SQL Server está em uma VM do Azure.",
            "guid": "8d1d7555-6246-4b43-a563-b4dc74a748b6",
            "id": "A04.06",
            "link": "https://learn.microsoft.com/sql/database-engine/configure-windows/enable-the-lock-pages-in-memory-option-windows",
            "severity": "Alto",
            "subcategory": "SQL Server",
            "text": "Habilite páginas de bloqueio na memória.",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Parte da lista de verificação de recursos do SQL Server no link que é recomendado quando a Instância do SQL Server está em uma VM do Azure.",
            "guid": "633ad2a0-916a-4664-a8fa-d0e278ee293c",
            "id": "A04.07",
            "link": "https://learn.microsoft.com/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store",
            "severity": "Baixo",
            "subcategory": "SQL Server",
            "text": "Habilite o Repositório de Consultas em todos os bancos de dados de produção do SQL Server seguindo as práticas recomendadas.",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Parte da lista de verificação de recursos do SQL Server no link que é recomendado quando a Instância do SQL Server está em uma VM do Azure.",
            "guid": "1bc352ba-aab7-4571-a49a-b8093dc9ec9d",
            "id": "A04.08",
            "link": "https://learn.microsoft.com/sql/relational-databases/databases/tempdb-database#optimizing-tempdb-performance-in-sql-server",
            "severity": "Alto",
            "subcategory": "SQL Server",
            "text": "Certifique-se de que todas as práticas recomendadas do tempdb sejam seguidas.",
            "waf": "Desempenho"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Parte da lista de verificação de recursos do SQL Server no link que é recomendado quando a Instância do SQL Server está em uma VM do Azure.",
            "guid": "1bb73b36-a5a6-47fb-a9ed-5b35478c3479",
            "id": "A04.09",
            "link": "https://docs.microsoft.com/azure/governance/management-groups/how-to/protect-resource-hierarchy#setting---require-authorization",
            "severity": "Alto",
            "subcategory": "SQL Server",
            "text": "Agende trabalhos do SQL Server Agent para executar trabalhos DBCC CHECKDB, reorganizar índice, recriar índice e atualizar trabalhos de estatísticas.",
            "waf": "Operações"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "Parte da lista de verificação de recursos do SQL Server no link que é recomendado quando a Instância do SQL Server está em uma VM do Azure.",
            "guid": "816b2863-cffe-41ca-a599-ef0d5a73dd4c",
            "id": "A04.10",
            "link": "https://docs.microsoft.com/azure/governance/management-groups/how-to/protect-resource-hierarchy#setting---require-authorization",
            "severity": "Média",
            "subcategory": "SQL Server",
            "text": "Limitar o crescimento automático do banco de dados e Desabilitar a redução automática",
            "waf": "Operações"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "As máquinas virtuais (VMs) vCPU restritas são um tipo de VM em que a contagem de vCPU pode ser restrita a metade ou um quarto do tamanho original da VM. Isso permite que os clientes reduzam o custo do licenciamento de software e, ao mesmo tempo, mantenham a mesma memória, armazenamento e largura de banda de E/S",
            "guid": "e36c1c81-770a-4fbc-9c0d-43918648d285",
            "id": "A05.01",
            "link": "https://learn.microsoft.com/azure/virtual-machines/constrained-vcpu",
            "severity": "Baixo",
            "subcategory": "Otimização de Custos",
            "text": "Otimize o custo da licença do SQL Server com VMs vCPU restritas",
            "training": "https://learn.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview",
            "waf": "Custar"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "O Benefício Híbrido do Azure permite que você troque suas licenças existentes por taxas com desconto no Banco de Dados SQL do Azure e na Instância Gerenciada SQL do Azure. Y",
            "guid": "7ed67178-b824-4546-ae1a-ee3453aec823",
            "id": "A05.02",
            "link": "https://azure.microsoft.com/en-ca/pricing/hybrid-benefit/",
            "severity": "Baixo",
            "subcategory": "Otimização de Custos",
            "text": "Aproveite o benefício do Azure Hybrid para maximizar o valor de suas licenças locais na nuvem",
            "waf": "Custar"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "A extensão do SQL Server IaaS Agent (SqlIaasExtension) é executada no SQL Server em VMs (Máquinas Virtuais) do Windows do Azure para automatizar tarefas de gerenciamento e administração.",
            "guid": "9248725d-d68c-45b5-a292-5394a69a9d27",
            "id": "A06.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/sql-agent-extension-automatic-registration-all-vms?view=azuresql-vm&tabs=azure-cli",
            "severity": "Média",
            "subcategory": "Azul",
            "text": "Registre-se com a Extensão do Agente IaaS do SQL para desbloquear uma série de benefícios de recursos.",
            "training": "https://learn.microsoft.com/learn/modules/azure-ad-privileged-identity-management/",
            "waf": "Operações"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "A Rede Acelerada fornece latência de rede ultrabaixa consistente por meio do hardware e das tecnologias programáveis internos do Azure",
            "guid": "99c42bb6-8d1d-4755-9624-6b438563b4dc",
            "id": "A06.02",
            "link": "https://learn.microsoft.com/azure/virtual-network/accelerated-networking-overview?tabs=redhat",
            "severity": "Alto",
            "subcategory": "Azul",
            "text": "Verifique se a Rede Acelerada está habilitada na máquina virtual.",
            "waf": "Operações"
        },
        {
            "category": "SQL Server na VM do Azure",
            "description": "O Microsoft Defender detecta atividades anômalas que indicam tentativas incomuns e potencialmente prejudiciais de acessar ou explorar bancos de dados no SQL Server.",
            "guid": "74a748b6-633a-4d2a-8916-a66498fad0e2",
            "id": "A06.03",
            "link": "https://learn.microsoft.com/azure/defender-for-cloud/secure-score-security-controls",
            "severity": "Alto",
            "subcategory": "Azul",
            "text": "Aproveite o Microsoft Defender for Cloud para melhorar a postura geral de segurança da implantação da máquina virtual.",
            "training": "https://learn.microsoft.com/learn/paths/implement-resource-mgmt-security/",
            "waf": "Segurança"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Há algumas limitações de PaaS que são introduzidas na Instância Gerenciada do SQL e algumas alterações de comportamento em comparação com o SQL Server. É importante rever e entender essas diferenças.",
            "guid": "78ee293c-1bc3-452b-aaab-7571849ab809",
            "id": "B01.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/transact-sql-tsql-differences-sql-server?view=azuresql",
            "severity": "Alto",
            "subcategory": "Pré-migração",
            "text": "Analise as principais diferenças entre o SQL Server e a instância gerenciada",
            "training": "https://learn.microsoft.com/learn/modules/plan-implement-administer-conditional-access/",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "A Instância Gerenciada do SQL tem características e limites de recursos que dependem da infraestrutura e da arquitetura subjacentes. É importante rever esses limites.",
            "guid": "3dc9ec9d-1bb7-43b3-9a5a-67fba9ed5b35",
            "id": "B01.02",
            "link": "https://docs.microsoft.com/azure/azure-sql/managed-instance/resource-limits",
            "severity": "Alto",
            "subcategory": "Pré-migração",
            "text": "Revisar os limites de capacidade do SQL MI",
            "training": "https://learn.microsoft.com/learn/modules/secure-aad-users-with-mfa/",
            "waf": "Desempenho"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "As configurações de instância entre a instância gerenciada e o SQL Server de origem podem ser diferentes. É importante rever as diferenças que podem afetar o desempenho.",
            "guid": "8bc178bd-c5a0-46ca-9144-351e19dd3442",
            "id": "B01.03",
            "link": "https://medium.com/azure-sqldb-managed-instance/compare-environment-settings-on-sql-server-and-azure-sql-that-may-impact-performance-e90c21fa9b08",
            "severity": "Alto",
            "subcategory": "Pré-migração",
            "text": "Comparar configurações de instância no SQL Server e no Azure SQL MI que podem afetar o desempenho",
            "training": "https://learn.microsoft.com/learn/paths/azure-administrator-manage-identities-governance/",
            "waf": "Desempenho"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Avalie a(s) instância(s) local(is) do SQL Server migrando para a Instância Gerenciada SQL do Azure. O fluxo de trabalho de avaliação ajuda a detectar problemas que bloqueiam a migração em si e também recursos parcialmente suportados e sem suporte",
            "guid": "9eb72281-37a1-451c-9bb4-e4f1814287d5",
            "id": "B01.04",
            "link": "https://docs.microsoft.com/azure/dms/ads-sku-recommend",
            "severity": "Alto",
            "subcategory": "Pré-migração",
            "text": "Execute o Assistente de Migração de Dados ou a Extensão de Migração do Azure Data Studio para detectar problemas de compatibilidade que podem afetar a funcionalidade do banco de dados na Instância Gerenciada",
            "training": "https://learn.microsoft.com/learn/modules/azure-ad-privileged-identity-management/",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "O recurso de recomendação de SKU pode avaliar o desempenho e as características de utilização do SQL Server de origem para recomendar uma Instância Gerenciada SQL do Azure de tamanho correto para ajudar em sua jornada de migração.",
            "guid": "ca8c26c9-b32a-4b5b-afc6-898a135e3378",
            "id": "B01.05",
            "link": "https://learn.microsoft.com/azure/dms/ads-sku-recommend",
            "severity": "Alto",
            "subcategory": "Pré-migração",
            "text": "Selecione os recursos de computação certos para sua carga de trabalho aproveitando as ferramentas de recomendação de SKU.",
            "training": "https://learn.microsoft.com/learn/modules/explore-basic-services-identity-types/",
            "waf": "Desempenho"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Revise recursos sem suporte, bloqueadores de migração e alterações de quebra para cada banco de dados da avaliação",
            "guid": "97e31c67-d68c-4b69-82ac-19f906d697c8",
            "id": "B01.06",
            "link": "https://learn.microsoft.com/azure/dms/ads-sku-recommend",
            "severity": "Alto",
            "subcategory": "Pré-migração",
            "text": "Revise e resolva os problemas destacados no DMA/Azure Data Studio",
            "training": "https://learn.microsoft.com/learn/paths/manage-identity-and-access/",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "A zona DNS padrão .database.windows.net da Instância Gerenciada SQL pode ser alterada com a sua. No entanto, a parte do nome do host da instância gerenciada de seu FQDN deve permanecer a mesma.",
            "guid": "eaded26b-dd18-46f0-ac25-1b999a68af87",
            "id": "B01.07",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/frequently-asked-questions-faq?view=azuresql-mi#can-a-managed-instance-have-the-same-name-as-a-sql-server-on-premises-instance",
            "severity": "Alto",
            "subcategory": "Pré-migração",
            "text": "Planejar alterações na cadeia de conexão, pois não há suporte para a alteração de um nome de instância gerenciada",
            "training": "https://learn.microsoft.com/learn/modules/create-custom-azure-roles-with-rbac/",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Há requisitos adicionais na configuração de uma vnet e sub-rede que hospeda a instância gerenciada.",
            "guid": "c9a7f821-b8eb-48c0-aa77-e25e4d5aeaa8",
            "id": "B01.08",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/vnet-existing-add-subnet?view=azuresql-mi",
            "severity": "Média",
            "subcategory": "Pré-migração",
            "text": "Revisar os requisitos de rede virtual de instância gerenciada",
            "training": "https://learn.microsoft.com/learn/paths/secure-your-cloud-data/",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Embora seja possível implantar instâncias gerenciadas em uma sub-rede com um número de endereços IP menor do que a saída da fórmula de sub-rede, sempre considere o uso de sub-redes maiores. O uso de uma sub-rede maior pode ajudar a evitar problemas futuros decorrentes da falta de endereços IP, como a incapacidade de criar instâncias adicionais dentro da sub-rede ou dimensionar instâncias existentes.",
            "guid": "dc4e2436-bb33-46d7-85f1-7960eee0b9b5",
            "id": "B02.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/vnet-subnet-determine-size?view=azuresql-mi",
            "severity": "Alto",
            "subcategory": "Implantação",
            "text": "Verifique se a sub-rede da instância gerenciada tem endereços IP suficientes disponíveis",
            "training": "https://learn.microsoft.com/learn/modules/azure-active-directory/",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "A Instância Gerenciada do SQL tem características e limites de recursos que dependem da infraestrutura e da arquitetura subjacentes. A Instância Gerenciada do SQL pode ser implantada em várias configurações de hardware.",
            "guid": "c8defc4d-721d-431d-850f-b707ae9eab40",
            "id": "B03.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/resource-limits?view=azuresql-mi#service-tier-characteristics",
            "severity": "Alto",
            "subcategory": "Pré-migração",
            "text": "Planejar entre os níveis de Uso Geral e Crítico de Negócios de MI",
            "training": "https://learn.microsoft.com/learn/modules/implement-hybrid-identity-windows-server/",
            "waf": "Desempenho"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "O recurso de grupos de failover automático permite gerenciar a replicação e o failover de bancos de dados de usuários em uma instância gerenciada para uma instância gerenciada em outra região do Azure. Os grupos de failover automático são projetados para simplificar a implantação e o gerenciamento de bancos de dados replicados geograficamente em escala.",
            "guid": "ed329079-8bc1-478b-bc5a-06ca7144351e",
            "id": "B03.02",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/auto-failover-group-sql-mi?view=azuresql-mi&tabs=azure-powershell",
            "severity": "Alto",
            "subcategory": "Pré-migração",
            "text": "Com base em seus RPO/RTOs, determine se o Grupo de failover automático precisa ser implementado. Em caso afirmativo, planeje os atributos de implantação da segunda instância.",
            "training": "https://learn.microsoft.com/learn/paths/implement-windows-server-iaas-virtual-machine-identity/",
            "waf": "Fiabilidade"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Há várias maneiras de conectar seu aplicativo à instância gerenciada. Analise e entenda os prós e contras e decida sobre a melhor abordagem para sua aplicação.",
            "guid": "5d226886-d30b-466c-97be-595190f83845",
            "id": "B03.03",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/connect-application-instance?view=azuresql-mi",
            "severity": "Baixo",
            "subcategory": "Pré-migração",
            "text": "Revise o Design de Conectividade entre Banco de Dados e Aplicativo, teste e valide-o",
            "training": "https://learn.microsoft.com/learn/paths/implement-applications-external-access-azure-ad/",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Compare as opções de migração para escolher o caminho adequado às suas necessidades de negócios.",
            "guid": "c586cb29-1ec1-46a1-b076-ef9f141acdce",
            "id": "B03.04",
            "link": "https://learn.microsoft.com/azure/azure-sql/migration-guides/managed-instance/sql-server-to-managed-instance-overview?view=azuresql-mi#migration-tools",
            "severity": "Média",
            "subcategory": "Pré-migração",
            "text": "Planejar o método de migração. Dependendo da janela Tamanho do banco de dados e Tempo de inatividade do aplicativo, selecione o Método de migração preferido.",
            "training": "https://learn.microsoft.com/learn/modules/design-identity-security-strategy/",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Depois de verificar se os dados são os mesmos na origem e no destino, você pode cortar da origem para o ambiente de destino. É importante planejar o processo de substituição com as equipes de negócios/aplicativos para garantir que a interrupção mínima durante a transição não afete a continuidade dos negócios.",
            "guid": "579377bc-db37-451a-a2ac-1fad66e15d4d",
            "id": "B03.05",
            "link": "https://learn.microsoft.com/azure/dms/tutorial-sql-server-managed-instance-online#performing-migration-cutover",
            "severity": "Média",
            "subcategory": "Pré-migração",
            "text": "Planeje o processo de transição com as equipes de negócios/aplicativos para garantir o mínimo de interrupção durante a transição e não afetar a continuidade dos negócios.",
            "training": "https://learn.microsoft.com/azure/architecture/example-scenario/identity/adds-extend-domain",
            "waf": "Fiabilidade"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Um fuso horário de uma instância gerenciada pode ser definido somente durante a criação da instância. O fuso horário padrão é UTC",
            "guid": "4a2adb1c-3d23-426a-b225-ca44e1695fdd",
            "id": "B04.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/timezones-overview?view=azuresql#set-a-time-zone",
            "severity": "Alto",
            "subcategory": "Implantação",
            "text": "Certifique-se de personalizar sua configuração de fuso horário no momento da criação da instância. Não se pode mudar depois.",
            "training": "https://learn.microsoft.com/azure/role-based-access-control/overview",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "O agrupamento no nível do servidor na Instância Gerenciada SQL do Azure pode ser especificado quando a instância é criada e não pode ser alterado posteriormente. O agrupamento padrão no nível do servidor é SQL_Latin1_General_CP1_CI_AS.",
            "guid": "deace4cb-1deb-44c6-90c3-fc14eebb3693",
            "id": "B04.02",
            "link": "https://learn.microsoft.com/sql/relational-databases/collations/set-or-change-the-server-collation?view=sql-server-ver16",
            "severity": "Alto",
            "subcategory": "Implantação",
            "text": "Certifique-se de selecionar a configuração de agrupamento correta no momento da criação da instância. Não se pode mudá-lo mais tarde",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Quando você está migrando um banco de dados protegido por TDE (Criptografia de Dados Transparente) para a Instância Gerenciada SQL do Azure usando a opção de restauração nativa, o certificado correspondente da instância do SQL Server precisa ser migrado antes da restauração do banco de dados.",
            "guid": "829e3eec-2183-4687-a007-7a2b5945bda4",
            "id": "B04.03",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/tde-certificate-migrate?view=azuresql-mi&tabs=azure-powershell",
            "severity": "Média",
            "subcategory": "Implantação",
            "text": "Para o Banco de Dados Habilitado para TDE, o certificado correspondente do SQL Server local ou da VM do Azure precisa ser migrado antes da restauração do banco de dados",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Os bancos de dados do sistema podem ser restaurados somente a partir de backups criados na versão do SQL Server que a instância do servidor está executando no momento. Esse não é o caso quando você está migrando para a Instância Gerenciada do SQL.As bibliotecas do PowerShell do Azure PowerShell e do DBATools permitem que você crie scripts e automatize e personalize facilmente todas as partes do processo de migração.",
            "guid": "3334fdf9-1c23-4418-8b65-275269440b4b",
            "id": "B05.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/migration-guides/managed-instance/sql-server-to-managed-instance-guide?view=azuresql-mi#backup-and-restore",
            "severity": "Baixo",
            "subcategory": "Migração",
            "text": "Não há suporte para a restauração de bancos de dados do sistema. Para migrar objetos em nível de instância (armazenados em bancos de dados master ou msdb), recomendamos criá-los e executar scripts T-SQL na instância de destino.",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Ao usar opções de migração que replicam/sincronizam continuamente as alterações de dados da origem para o destino, os dados de origem e o esquema podem ser alterados e desviados do destino. Durante a sincronização de dados, certifique-se de que todas as alterações na origem sejam capturadas e aplicadas ao destino durante o processo de migração.",
            "guid": "e3d3e084-3276-4d4b-bc01-5bcf219e4a1e",
            "id": "B05.02",
            "severity": "Alto",
            "subcategory": "Migração",
            "text": "Certifique-se de que todas as alterações na origem sejam capturadas e aplicadas ao destino durante o processo de migração.",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Certifique-se de que o aplicativo seja capaz de se conectar com sucesso à instância gerenciada após a migração dos bancos de dados.",
            "guid": "b5887952-5d22-4688-9d30-b66c57be5951",
            "id": "B05.03",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/connect-application-instance?view=azuresql-mi",
            "severity": "Média",
            "subcategory": "Migração",
            "text": "Testar a conectividade do aplicativo com MI e bancos de dados",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "A alta disponibilidade é uma parte fundamental da plataforma de Instância Gerenciada SQL que funciona de forma transparente para seus aplicativos de banco de dados. Failovers de nós primários para secundários em caso de degradação de nó ou detecção de falhas, ou durante atualizações de software mensais regulares são uma ocorrência esperada para todos os aplicativos que usam a Instância Gerenciada SQL no Azure.",
            "guid": "90f83845-c586-4cb2-a1ec-16a1d076ef9f",
            "id": "B06.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/user-initiated-failover?view=azuresql",
            "severity": "Alto",
            "subcategory": "Pós-migração",
            "text": "Considere a execução de um failover manual na Instância Gerenciada do SQL para testar a resiliência de falha e failover.",
            "training": "https://learn.microsoft.com/azure/azure-monitor/logs/design-logs-deployment",
            "waf": "Fiabilidade"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Garantir que seus aplicativos sejam resilientes a failover antes da implantação em produção ajudará a reduzir o risco de falhas de aplicativos na produção e contribuirá para a disponibilidade de aplicativos para seus clientes.",
            "guid": "141acdce-5793-477b-adb3-751ab2ac1fad",
            "id": "B06.02",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/auto-failover-group-configure-sql-mi?view=azuresql&tabs=azure-portal#test-failover",
            "severity": "Alto",
            "subcategory": "Pós-migração",
            "text": "Se os grupos de failover tiverem sido implementados, teste o failover manual e o failback e teste o comportamento da conectividade do aplicativo durante o failover/failback",
            "waf": "Fiabilidade"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Isso fornece IOPS de disco e taxa de transferência mais dedicadas",
            "guid": "aa359272-8e6e-4205-8726-76ae46691e88",
            "id": "B06.03",
            "link": "https://techcommunity.microsoft.com/t5/azure-sql-blog/storage-performance-best-practices-and-considerations-for-azure/ba-p/305525",
            "severity": "Alto",
            "subcategory": "Pós-migração",
            "text": "Otimize o desempenho do armazenamento para instância gerenciada de uso geral",
            "training": "https://learn.microsoft.com/learn/paths/architect-infrastructure-operations/",
            "waf": "Desempenho"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Muitas organizações têm políticas que exigem que certificados ou chaves de criptografia sejam criados e gerenciados internamente. Se sua organização tiver uma política semelhante, essa arquitetura poderá se aplicar a você. Se seus clientes precisarem de gerenciamento interno desses itens, a arquitetura também poderá se aplicar a você.",
            "guid": "35ad9422-23e1-4381-8523-081a94174158",
            "id": "B06.04",
            "link": "https://learn.microsoft.com/azure/architecture/example-scenario/data/sql-managed-instance-cmk",
            "severity": "Baixo",
            "subcategory": "Pós-migração",
            "text": "Habilite o TDE gerenciado pelo cliente para fazer sua própria cópia somente com backups completos",
            "training": "https://learn.microsoft.com/learn/paths/architect-infrastructure-operations/",
            "waf": "Segurança"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "O recurso de janela de manutenção fornece a capacidade de integrar o recurso SQL do Azure a blocos de tempo pré-agendados fora do horário comercial.",
            "guid": "33ef7ad7-c6d3-4733-865c-7acbe44bbe60",
            "id": "B06.05",
            "link": "https://learn.microsoft.com/azure/azure-sql/database/planned-maintenance?view=azuresql",
            "severity": "Média",
            "subcategory": "Pós-migração",
            "text": "Planejar eventos de manutenção do Azure",
            "training": "https://learn.microsoft.com/learn/paths/implement-resource-mgmt-security/",
            "waf": "Operações"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Usando o recurso de retenção de longo prazo (LTR), você pode armazenar backups completos especificados do Banco de Dados SQL e da Instância Gerenciada SQL no armazenamento de Blobs do Azure com redundância configurada por até 10 anos.",
            "guid": "9d89f2e8-7778-4424-b516-785c6fa96b96",
            "id": "B06.06",
            "link": "https://learn.microsoft.com/azure/azure-sql/database/long-term-retention-overview?view=azuresql-mi",
            "severity": "Baixo",
            "subcategory": "Pós-migração",
            "text": "Configurar a retenção de backup de longo prazo, exibir backups e restaurar backups de backups",
            "training": "https://learn.microsoft.com/learn/paths/azure-administrator-manage-compute-resources/",
            "waf": "Fiabilidade"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Usando o Benefício Híbrido do Azure, você pode obter economia de custos, modernizar e manter um ambiente híbrido flexível enquanto otimiza aplicativos de negócios.",
            "guid": "ad88408f-3727-434c-a76b-a28021459014",
            "id": "B06.07",
            "link": "https://azure.microsoft.com/en-gb/pricing/hybrid-benefit/#overview",
            "severity": "Baixo",
            "subcategory": "Pós-migração",
            "text": "Aproveite o Benefício Híbrido do Azure e as Reservas do Azure, quando aplicável.",
            "training": "https://learn.microsoft.com/learn/modules/configure-network-watcher/",
            "waf": "Custar"
        },
        {
            "category": "Instância gerenciada do SQL",
            "description": "Se você não tiver proteção contra ameaças, a Proteção Avançada contra Ameaças faz parte da oferta Microsoft Defender for SQL, que é um pacote unificado para recursos avançados de segurança SQL.",
            "guid": "65d38e53-f9cc-4bd8-9926-6acca274faa1",
            "id": "B06.08",
            "link": "https://learn.microsoft.com/azure/azure-sql/database/threat-detection-overview?view=azuresql",
            "severity": "Média",
            "subcategory": "Pós-migração",
            "text": "Aproveite o Microsoft Defender for Cloud para melhorar a postura geral de segurança",
            "training": "https://learn.microsoft.com/learn/paths/implement-resource-mgmt-security/",
            "waf": "Segurança"
        }
    ],
    "metadata": {
        "name": "SQL Migration Review",
        "state": "Preview",
        "timestamp": "December 13, 2023"
    },
    "severities": [
        {
            "name": "Alto"
        },
        {
            "name": "Média"
        },
        {
            "name": "Baixo"
        }
    ],
    "status": [
        {
            "description": "Esta verificação ainda não foi analisada",
            "name": "Não verificado"
        },
        {
            "description": "Há um item de ação associado a essa verificação",
            "name": "Abrir"
        },
        {
            "description": "Essa verificação foi verificada e não há outros itens de ação associados a ela",
            "name": "Cumprido"
        },
        {
            "description": "Recomendação compreendida, mas não necessária pelos requisitos atuais",
            "name": "Não é necessário"
        },
        {
            "description": "Não aplicável ao projeto atual",
            "name": "N/A"
        }
    ],
    "waf": [
        {
            "name": "Fiabilidade"
        },
        {
            "name": "Segurança"
        },
        {
            "name": "Custar"
        },
        {
            "name": "Operações"
        },
        {
            "name": "Desempenho"
        }
    ],
    "yesno": [
        {
            "name": "Sim"
        },
        {
            "name": "Não"
        }
    ]
}