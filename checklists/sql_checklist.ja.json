{
    "categories": [
        {
            "name": "Azure VM 上の SQL Server"
        },
        {
            "name": "SQL Managed Instance"
        }
    ],
    "items": [
        {
            "category": "Azure VM 上の SQL Server",
            "description": "Azure VM 上に SQL Server を作成する場合は、必要なワークロードの種類を慎重に検討してください。既存の環境を移行する場合は、パフォーマンス ベースラインを収集して、Azure VM 上の SQL Server の要件を決定します。これが新しい VM の場合は、ベンダーの要件に基づいて新しい SQL Server VM を作成します。",
            "guid": "1fc3fc14-eea6-4e69-b8d9-a3eec218e687",
            "id": "A01.01",
            "link": "https://learn.microsoft.com/sql/dma/dma-sku-recommend-sql-db?view=sql-server-ver16",
            "severity": "高い",
            "subcategory": "VM サイズ",
            "text": "ターゲット ワークロードのパフォーマンス特性を収集し、それらを使用してビジネスに適した VM サイズを決定します。",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "メモリ最適化仮想マシンのサイズは、SQL Server VM の主要なターゲットであり、Microsoft が推奨する選択肢です。メモリ最適化仮想マシンは、より強力なメモリと CPU の比率と、中規模から大規模のキャッシュ オプションを提供します。ほとんどの SQL Server ワークロードでは、最初に Ebdsv5 シリーズ シリーズを検討してください。",
            "guid": "e04abe1f-8d39-4fda-9776-8424c116775c",
            "id": "A01.02",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-vm-size?view=azuresql#memory-optimized",
            "severity": "中程度",
            "subcategory": "VM サイズ",
            "text": "メモリ最適化された仮想マシン サイズを使用して、SQL Server ワークロードのパフォーマンスを最大にします。",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "Azure VM 上の SQL Server ワークロードの最も効果的な構成を見つけるには、まず、ビジネス アプリケーションのストレージ パフォーマンスを測定します。ストレージ要件がわかったら、適切なメモリと仮想コアの比率で必要な IOPS とスループットをサポートする仮想マシンを選択します。",
            "guid": "2ea55b56-ad48-4408-be72-734b476ba18f",
            "id": "A02.01",
            "link": "https://learn.microsoft.com/azure/virtual-machines/premium-storage-performance#counters-to-measure-application-performance-requirements",
            "severity": "中程度",
            "subcategory": "貯蔵",
            "text": "ディスクの種類を選択する前に、SQL Server のデータ ファイル、ログ ファイル、および tempdb ファイルのストレージ帯域幅と待機時間の要件を決定します。",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "これにより、ディスク レベルでより専用のディスク IOPS とスループットが提供され、各ディスクの Azure ディスク ホスト キャッシュ設定をそのデータ型に最適な設定に構成することもできます。",
            "guid": "dbf590ce-65de-48e0-9f9c-cbd468266abc",
            "id": "A02.02",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "高い",
            "subcategory": "貯蔵",
            "text": "データ、ログ、および tempdb ファイルを別々のドライブに配置する",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "Premium SSD は、パフォーマンスの向上と待機時間の短縮を実現するために、SQL Server の最小要件として常に推奨されます。P30 と P40 は、ディスク 4 TiB 以上 (P50 以上) のディスク キャッシュではサポートされておらず、最適な価格対性能比を提供するためです",
            "guid": "e6a84de5-df43-4d19-a248-1718d5d1e5f6",
            "id": "A02.03",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "高い",
            "subcategory": "貯蔵",
            "text": "データ ドライブの場合は、Premium P30 および P40 以下のディスクを使用して、キャッシュ サポートの可用性を確保します",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "ログ ファイルには、主に書き込み負荷の高い操作があります。そのため、ReadOnly キャッシュの恩恵を受けません。したがって、価格、パフォーマンス、容量を評価し、適切なストレージディスクを選択してください。",
            "guid": "25659d35-58fd-4772-99c9-31112d027fe4",
            "id": "A02.04",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "高い",
            "subcategory": "貯蔵",
            "text": "Premium P30 - P80 ディスクを評価する際の容量とテストのパフォーマンスとコストのログ ドライブ計画の場合",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "TempDB を D ドライブに配置すると、パフォーマンスが向上します。必要なサイズを検討し、常にパフォーマンスをテストしてください。",
            "guid": "12f70983-f630-4472-8ee6-9d6b5c2622f5",
            "id": "A02.05",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "中程度",
            "subcategory": "貯蔵",
            "text": "最適な VM サイズを選択した後、フェールオーバー クラスター インスタンス (FCI) の一部ではないほとんどの SQL Server ワークロードでは、ローカルのエフェメラル SSD (既定値は D:\\) ドライブに tempdb を配置します。",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "データディスクとログディスクをストライピングすると、帯域幅を増やすことができます。VM のサイズも予想される出力と一致していることを確認します",
            "guid": "4b69bad3-4aad-45e8-a78e-1d76667313c4",
            "id": "A02.06",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "高い",
            "subcategory": "貯蔵",
            "text": "記憶域スペースを使用して複数の Azure データ ディスクをストライピングし、I/O 帯域幅を増やす",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "記憶域キャッシュ ポリシーは、ドライブでホストされている SQL Server データ ファイルの種類によって異なります。SQL Server データ ファイルをホストしているディスクの読み取り専用キャッシュを有効にします。キャッシュからの読み取りは、データ ディスクからのキャッシュされていない読み取りよりも高速になります。トランザクション ログをホストしているディスクのキャッシュ ポリシーを [なし] に設定します。トランザクション ログ ディスクのキャッシュを有効にしても、パフォーマンス上の利点はありません。",
            "guid": "05674b5e-985b-4859-a773-e7e261623b77",
            "id": "A02.07",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "高い",
            "subcategory": "貯蔵",
            "text": "ホスト・キャッシュを、データ・ファイル・ディスクの場合は読み取り専用に設定し、ログ・ファイル・ディスクの場合はなしに設定します。",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "ストレージが VM と同じリージョンにあることを確認します。たとえば、VM が米国東部 2 にある場合は、ストレージが米国東部 2 にあることを確認します。",
            "guid": "5a917e1f-348e-4f35-9c27-d42e8bbac868",
            "id": "A02.08",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "高い",
            "subcategory": "貯蔵",
            "text": "SQL Server VM と同じリージョンにストレージ アカウントをプロビジョニングするProvision the storage account in the same region as the SQL Server VM",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "SQL Server は、エクステントを使用してデータを格納します。これらのサイズは 64 KB です。したがって、SQL Server マシンでは、SQL データベース ファイルをホストするための NTFS アロケーション ユニット サイズは 64 KB である必要があります。",
            "guid": "155abb91-63e9-4908-ae28-c84c33b6b780",
            "id": "A02.09",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql#storage",
            "severity": "高い",
            "subcategory": "貯蔵",
            "text": "一時 D:\\ ドライブ以外のドライブに配置されたすべてのデータ ファイルに対して 64 KB のブロック サイズ (アロケーション ユニット サイズ) を使用するようにデータ ディスクをフォーマットします",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "BCDR のニーズと要件を決定し、環境の SLA を満たすことができるようにすることをお勧めします。",
            "guid": "8b9fe5c4-2049-4d41-9a92-3c3474d11028",
            "id": "A03.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/business-continuity-high-availability-disaster-recovery-hadr-overview?view=azuresql#azure-only-disaster-recovery-solutions",
            "severity": "中程度",
            "subcategory": "ハドル",
            "text": "移行する各 VM の HA/DR 要件を決定します。",
            "waf": "確実"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "高可用性を無効にする場合は、予期しない停止を回避するために、可用性セットまたは可用性ゾーンを使用する必要があります。",
            "guid": "ac6aae01-e6a8-44de-9df4-3d1992481718",
            "id": "A03.02",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/business-continuity-high-availability-disaster-recovery-hadr-overview?view=azuresql#high-availability-nodes-in-an-availability-set",
            "severity": "高い",
            "subcategory": "ハドル",
            "text": "VM を可用性セットまたは異なる可用性ゾーンに配置します。",
            "waf": "確実"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "可用性グループをデプロイするときに推奨されるオプション。推奨される解決策は、Always on 可用性グループをデプロイするときにマルチサブネットを使用することです。",
            "guid": "d5d1e5f6-2565-49d3-958f-d77249c93111",
            "id": "A03.03",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/availability-group-azure-portal-configure?view=azuresql&tabs=azure-cli",
            "severity": "中程度",
            "subcategory": "ハドル",
            "text": "可能な限り SQL Server VM を複数のサブネットにデプロイして、トラフィックを HADR ソリューションにルーティングするための Azure Load Balancer または分散ネットワーク名 (DNN) への依存を回避します。(FCIまたはAGを実装している場合)",
            "waf": "確実"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "高可用性とディザスター リカバリー (HADR) 機能 (Always On 可用性グループやフェールオーバー クラスター インスタンスなど) は、基になる Windows Server フェールオーバー クラスター テクノロジに依存しています。クラウド環境をより適切にサポートするために HADR 設定を変更するためのベスト・プラクティスを確認します。",
            "guid": "2d027fe4-12f7-4098-9f63-04722ee69d6b",
            "id": "A03.04",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql-vm#hadr-configuration",
            "severity": "高い",
            "subcategory": "ハドル",
            "text": "クラスターをアグレッシブでないパラメーターに変更して、一時的なネットワーク障害や Azure プラットフォームのメンテナンスによる予期しない停止を回避します。(FCIまたはAGを実装している場合)",
            "waf": "確実"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "クォーラムがデプロイされたインスタンスの数に対して正しく設定されていることを確認します。",
            "guid": "5c2622f5-4b69-4bad-94aa-d5e8c78e1d76",
            "id": "A03.05",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/hadr-cluster-best-practices?view=azuresql-vm&tabs=windows2012#quorum-voting",
            "severity": "高い",
            "subcategory": "ハドル",
            "text": "クラスター クォーラム投票を構成して、3 つ以上の奇数票を使用します。DR リージョンに投票を割り当てないでください。(FCIまたはAGを実装している場合)",
            "waf": "確実"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "Azure 仮想マシンでは、クラスターはロード バランサーを使用して、一度に 1 つのクラスター ノード上に存在する必要がある IP アドレスを保持します。このソリューションでは、SQL Server VM が 1 つのサブネット内にある場合、ロード バランサーは Always On 可用性グループの仮想ネットワーク名 (VNN) リスナーの IP アドレスを保持します。",
            "guid": "667313c4-0567-44b5-b985-b859c773e7e2",
            "id": "A03.06",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/availability-group-vnn-azure-load-balancer-configure?view=azuresql-vm&tabs=ilb",
            "severity": "高い",
            "subcategory": "ハドル",
            "text": "仮想ネットワーク名 (VNN) と Azure Load Balancer を使用して HADR ソリューションに接続する場合は、クラスターが 1 つのサブネットにしかまたがっていない場合でも、接続文字列で MultiSubnetFailover = true を指定します。(FCIまたはAGを実装している場合)",
            "waf": "確実"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "SQL Server、Azure SQL Database、Azure SQL Managed Instance では、行ストア テーブルとインデックスの行とページの圧縮がサポートされており、列ストア テーブルとインデックスの列ストアと列ストアのアーカイブ圧縮がサポートされています。",
            "guid": "61623b77-5a91-47e1-b348-ef354c27d42e",
            "id": "A04.01",
            "link": "https://learn.microsoft.com/sql/relational-databases/data-compression/data-compression?view=sql-server-ver16",
            "severity": "低い",
            "subcategory": "SQL Serverの",
            "text": "必要に応じて、データベース・ページ圧縮を有効にします。",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "既定では、データ ファイルとログ ファイルは、以前に削除されたファイルからディスクに残っている既存のデータを上書きするように初期化されます。データ ファイルとログ ファイルは、最初にファイルをゼロにする (ゼロで埋める) ことによって初期化されます。SQL Server では、データ ファイルの場合のみ、ファイルの瞬時初期化 (IFI) を使用すると、使用済みのディスク領域をゼロで埋めることなく再利用されるため、前述のファイル操作をより高速に実行できます。代わりに、新しいデータがファイルに書き込まれると、ディスクの内容が上書きされます。",
            "guid": "8bbac868-155a-4bb9-863e-9908ae28c84c",
            "id": "A04.02",
            "link": "https://learn.microsoft.com/sql/relational-databases/databases/database-instant-file-initialization?view=sql-server-ver16",
            "severity": "高い",
            "subcategory": "SQL Serverの",
            "text": "データファイルの瞬時ファイル初期化を有効にします。",
            "waf": "オペレーションズ"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "最適なパフォーマンスと可用性を実現するために推奨 すべてのデータベースをデータ ディスクとログ ディスクに移行する",
            "guid": "33b6b780-8b9f-4e5c-9204-9d413a923c34",
            "id": "A04.03",
            "link": "https://learn.microsoft.com/sql/relational-databases/databases/move-database-files?view=sql-server-ver16",
            "severity": "中程度",
            "subcategory": "SQL Serverの",
            "text": "システム データベースを含むすべてのデータベースをデータ ディスクに移動します。",
            "waf": "オペレーションズ"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "SQL Server インスタンスが Azure VM 内にある場合に推奨されるリンクの SQL Server 機能チェックリストの一部。",
            "guid": "b824546c-e1ae-4e34-93ae-c8239248725d",
            "id": "A04.04",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/performance-guidelines-best-practices-checklist?view=azuresql-vm#sql-server-features",
            "severity": "低い",
            "subcategory": "SQL Serverの",
            "text": "SQL Server のエラー ログとトレース ファイルのディレクトリをデータ ディスクに移動します。",
            "waf": "オペレーションズ"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "SQL Server インスタンスが Azure VM 内にある場合に推奨されるリンクの SQL Server 機能チェックリストの一部。",
            "guid": "d68c5b5c-2925-4394-a69a-9d2799c42bb6",
            "id": "A04.05",
            "link": "https://learn.microsoft.com/sql/database-engine/configure-windows/server-memory-server-configuration-options#use-",
            "severity": "高い",
            "subcategory": "SQL Serverの",
            "text": "SQL Server の最大メモリ制限を設定して、オペレーティング システムに十分なメモリを残します。",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "SQL Server インスタンスが Azure VM 内にある場合に推奨されるリンクの SQL Server 機能チェックリストの一部。",
            "guid": "8d1d7555-6246-4b43-a563-b4dc74a748b6",
            "id": "A04.06",
            "link": "https://learn.microsoft.com/sql/database-engine/configure-windows/enable-the-lock-pages-in-memory-option-windows",
            "severity": "高い",
            "subcategory": "SQL Serverの",
            "text": "メモリ内のロック ページを有効にします。",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "SQL Server インスタンスが Azure VM 内にある場合に推奨されるリンクの SQL Server 機能チェックリストの一部。",
            "guid": "633ad2a0-916a-4664-a8fa-d0e278ee293c",
            "id": "A04.07",
            "link": "https://learn.microsoft.com/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store",
            "severity": "低い",
            "subcategory": "SQL Serverの",
            "text": "ベスト プラクティスに従って、すべての運用 SQL Server データベースでクエリ ストアを有効にします。",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "SQL Server インスタンスが Azure VM 内にある場合に推奨されるリンクの SQL Server 機能チェックリストの一部。",
            "guid": "1bc352ba-aab7-4571-a49a-b8093dc9ec9d",
            "id": "A04.08",
            "link": "https://learn.microsoft.com/sql/relational-databases/databases/tempdb-database#optimizing-tempdb-performance-in-sql-server",
            "severity": "高い",
            "subcategory": "SQL Serverの",
            "text": "tempdb のすべてのベスト プラクティスに従っていることを確認します。",
            "waf": "パフォーマンス"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "SQL Server インスタンスが Azure VM 内にある場合に推奨されるリンクの SQL Server 機能チェックリストの一部。",
            "guid": "1bb73b36-a5a6-47fb-a9ed-5b35478c3479",
            "id": "A04.09",
            "link": "https://docs.microsoft.com/azure/governance/management-groups/how-to/protect-resource-hierarchy#setting---require-authorization",
            "severity": "高い",
            "subcategory": "SQL Serverの",
            "text": "SQL Server エージェント ジョブをスケジュールして、DBCC CHECKDB、インデックスの再編成、インデックスの再構築、および統計の更新ジョブを実行します。",
            "waf": "オペレーションズ"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "SQL Server インスタンスが Azure VM 内にある場合に推奨されるリンクの SQL Server 機能チェックリストの一部。",
            "guid": "816b2863-cffe-41ca-a599-ef0d5a73dd4c",
            "id": "A04.10",
            "link": "https://docs.microsoft.com/azure/governance/management-groups/how-to/protect-resource-hierarchy#setting---require-authorization",
            "severity": "中程度",
            "subcategory": "SQL Serverの",
            "text": "データベースの自動拡張を制限し、自動圧縮を無効にする",
            "waf": "オペレーションズ"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "制約付き vCPU 仮想マシン (VM) は、vCPU 数を元の VM サイズの半分または 4 分の 1 に制限できる VM の一種です。これにより、お客様は同じメモリ、ストレージ、およびI/O帯域幅を維持しながら、ソフトウェアライセンスのコストを削減できます",
            "guid": "e36c1c81-770a-4fbc-9c0d-43918648d285",
            "id": "A05.01",
            "link": "https://learn.microsoft.com/azure/virtual-machines/constrained-vcpu",
            "severity": "低い",
            "subcategory": "コストの最適化",
            "text": "制約付き vCPU VM による SQL Server ライセンス コストの最適化",
            "training": "https://learn.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview",
            "waf": "費用"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "Azure ハイブリッド特典を使用すると、既存のライセンスを Azure SQL Database と Azure SQL Managed Instance の割引料金に交換できます。Y",
            "guid": "7ed67178-b824-4546-ae1a-ee3453aec823",
            "id": "A05.02",
            "link": "https://azure.microsoft.com/en-ca/pricing/hybrid-benefit/",
            "severity": "低い",
            "subcategory": "コストの最適化",
            "text": "Azure ハイブリッド特典を活用して、クラウドのオンプレミス ライセンスの価値を最大化します",
            "waf": "費用"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "SQL Server IaaS Agent 拡張機能 (SqlIaasExtension) は、Azure Windows 仮想マシン (VM) 上の SQL Server 上で実行され、管理タスクを自動化します。",
            "guid": "9248725d-d68c-45b5-a292-5394a69a9d27",
            "id": "A06.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/virtual-machines/windows/sql-agent-extension-automatic-registration-all-vms?view=azuresql-vm&tabs=azure-cli",
            "severity": "中程度",
            "subcategory": "紺碧",
            "text": "SQL IaaS Agent 拡張機能に登録すると、さまざまな機能の利点を享受できます。",
            "training": "https://learn.microsoft.com/learn/modules/azure-ad-privileged-identity-management/",
            "waf": "オペレーションズ"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "高速ネットワークは、Azure の社内でプログラム可能なハードウェアとテクノロジを介して、一貫した超低ネットワーク待機時間を提供します",
            "guid": "99c42bb6-8d1d-4755-9624-6b438563b4dc",
            "id": "A06.02",
            "link": "https://learn.microsoft.com/azure/virtual-network/accelerated-networking-overview?tabs=redhat",
            "severity": "高い",
            "subcategory": "紺碧",
            "text": "仮想マシンで高速ネットワークが有効になっていることを確認します。",
            "waf": "オペレーションズ"
        },
        {
            "category": "Azure VM 上の SQL Server",
            "description": "Microsoft Defender は、SQL Server 上のデータベースにアクセスしたり、データベースを悪用したりしようとする、通常とは異なる、害を及ぼす可能性のある試みを示す異常なアクティビティを検出します。",
            "guid": "74a748b6-633a-4d2a-8916-a66498fad0e2",
            "id": "A06.03",
            "link": "https://learn.microsoft.com/azure/defender-for-cloud/secure-score-security-controls",
            "severity": "高い",
            "subcategory": "紺碧",
            "text": "Microsoft Defender for Cloud を活用して、仮想マシンのデプロイの全体的なセキュリティ体制を改善します。",
            "training": "https://learn.microsoft.com/learn/paths/implement-resource-mgmt-security/",
            "waf": "安全"
        },
        {
            "category": "SQL Managed Instance",
            "description": "SQL Managed Instance には、いくつかの PaaS の制限と、SQL Server と比較していくつかの動作の変更があります。これらの違いを確認して理解することが重要です。",
            "guid": "78ee293c-1bc3-452b-aaab-7571849ab809",
            "id": "B01.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/transact-sql-tsql-differences-sql-server?view=azuresql",
            "severity": "高い",
            "subcategory": "移行前",
            "text": "SQL Server と Managed Instance の主な違いを確認する",
            "training": "https://learn.microsoft.com/learn/modules/plan-implement-administer-conditional-access/",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "SQL Managed Instance には、基になるインフラストラクチャとアーキテクチャに依存する特性とリソース制限があります。これらの制限を確認することが重要です。",
            "guid": "3dc9ec9d-1bb7-43b3-9a5a-67fba9ed5b35",
            "id": "B01.02",
            "link": "https://docs.microsoft.com/azure/azure-sql/managed-instance/resource-limits",
            "severity": "高い",
            "subcategory": "移行前",
            "text": "SQL MI の容量制限を確認する",
            "training": "https://learn.microsoft.com/learn/modules/secure-aad-users-with-mfa/",
            "waf": "パフォーマンス"
        },
        {
            "category": "SQL Managed Instance",
            "description": "マネージド インスタンスとソース SQL Server のインスタンス設定は異なる場合があります。パフォーマンスに影響を与える可能性のある違いを確認することが重要です。",
            "guid": "8bc178bd-c5a0-46ca-9144-351e19dd3442",
            "id": "B01.03",
            "link": "https://medium.com/azure-sqldb-managed-instance/compare-environment-settings-on-sql-server-and-azure-sql-that-may-impact-performance-e90c21fa9b08",
            "severity": "高い",
            "subcategory": "移行前",
            "text": "パフォーマンスに影響を与える可能性のある SQL Server と Azure SQL MI のインスタンス設定を比較する",
            "training": "https://learn.microsoft.com/learn/paths/azure-administrator-manage-identities-governance/",
            "waf": "パフォーマンス"
        },
        {
            "category": "SQL Managed Instance",
            "description": "Azure SQL Managed Instance に移行するオンプレミスの SQL Server インスタンスを評価します。評価ワークフローは、移行自体をブロックする問題や、部分的にサポートされている機能とサポートされていない機能を検出するのに役立ちます",
            "guid": "9eb72281-37a1-451c-9bb4-e4f1814287d5",
            "id": "B01.04",
            "link": "https://docs.microsoft.com/azure/dms/ads-sku-recommend",
            "severity": "高い",
            "subcategory": "移行前",
            "text": "Data Migration Assistant または Azure Data Studio Migration Extension を実行して、Managed Instance のデータベース機能に影響を与える可能性のある互換性の問題を検出します",
            "training": "https://learn.microsoft.com/learn/modules/azure-ad-privileged-identity-management/",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "SKU レコメンデーション機能では、ソース SQL Server のパフォーマンスと使用率の特性を評価して、移行プロセスを支援する適切なサイズの Azure SQL Managed Instance を推奨できます。",
            "guid": "ca8c26c9-b32a-4b5b-afc6-898a135e3378",
            "id": "B01.05",
            "link": "https://learn.microsoft.com/azure/dms/ads-sku-recommend",
            "severity": "高い",
            "subcategory": "移行前",
            "text": "ワークロードに適したコンピューティング リソースを選択するには、SKU レコメンデーション ツールを活用します。",
            "training": "https://learn.microsoft.com/learn/modules/explore-basic-services-identity-types/",
            "waf": "パフォーマンス"
        },
        {
            "category": "SQL Managed Instance",
            "description": "評価から各データベースのサポートされていない機能、移行の阻害要因、破壊的変更を確認する",
            "guid": "97e31c67-d68c-4b69-82ac-19f906d697c8",
            "id": "B01.06",
            "link": "https://learn.microsoft.com/azure/dms/ads-sku-recommend",
            "severity": "高い",
            "subcategory": "移行前",
            "text": "DMA/Azure Data Studio で強調表示されている問題を確認して対処する",
            "training": "https://learn.microsoft.com/learn/paths/manage-identity-and-access/",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "SQL Managed Instance の既定の DNS ゾーン .database.windows.net は、独自のゾーンで変更できます。ただし、FQDN のマネージド インスタンスのホスト名の部分は同じままにする必要があります。",
            "guid": "eaded26b-dd18-46f0-ac25-1b999a68af87",
            "id": "B01.07",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/frequently-asked-questions-faq?view=azuresql-mi#can-a-managed-instance-have-the-same-name-as-a-sql-server-on-premises-instance",
            "severity": "高い",
            "subcategory": "移行前",
            "text": "マネージド インスタンス名の変更がサポートされていないため、接続文字列の変更を計画する",
            "training": "https://learn.microsoft.com/learn/modules/create-custom-azure-roles-with-rbac/",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "マネージド インスタンスをホストする vnet とサブネットの構成には、追加の要件があります。",
            "guid": "c9a7f821-b8eb-48c0-aa77-e25e4d5aeaa8",
            "id": "B01.08",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/vnet-existing-add-subnet?view=azuresql-mi",
            "severity": "中程度",
            "subcategory": "移行前",
            "text": "マネージド インスタンスの VNet 要件を確認する",
            "training": "https://learn.microsoft.com/learn/paths/secure-your-cloud-data/",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "サブネット式の出力よりも少ない数の IP アドレスを持つサブネットにマネージド インスタンスをデプロイすることは可能ですが、代わりにより大きなサブネットを使用することを常に検討してください。より大きなサブネットを使用すると、サブネット内に追加のインスタンスを作成できない、既存のインスタンスをスケーリングできないなど、IP アドレスの不足に起因する将来の問題を回避できます。",
            "guid": "dc4e2436-bb33-46d7-85f1-7960eee0b9b5",
            "id": "B02.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/vnet-subnet-determine-size?view=azuresql-mi",
            "severity": "高い",
            "subcategory": "配備",
            "text": "マネージド インスタンス サブネットに十分な IP アドレスがあることを確認する",
            "training": "https://learn.microsoft.com/learn/modules/azure-active-directory/",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "SQL Managed Instance には、基になるインフラストラクチャとアーキテクチャに依存する特性とリソース制限があります。SQL Managed Instance は、複数のハードウェア構成にデプロイできます。",
            "guid": "c8defc4d-721d-431d-850f-b707ae9eab40",
            "id": "B03.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/resource-limits?view=azuresql-mi#service-tier-characteristics",
            "severity": "高い",
            "subcategory": "移行前",
            "text": "MI の General Purpose レベルと Business Critical レベルの間の計画",
            "training": "https://learn.microsoft.com/learn/modules/implement-hybrid-identity-windows-server/",
            "waf": "パフォーマンス"
        },
        {
            "category": "SQL Managed Instance",
            "description": "自動フェールオーバー グループ機能を使用すると、マネージド インスタンス内のユーザー データベースから別の Azure リージョンのマネージド インスタンスへのレプリケーションとフェールオーバーを管理できます。自動フェールオーバー グループは、geo レプリケートされたデータベースの大規模なデプロイと管理を簡略化するように設計されています。",
            "guid": "ed329079-8bc1-478b-bc5a-06ca7144351e",
            "id": "B03.02",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/auto-failover-group-sql-mi?view=azuresql-mi&tabs=azure-powershell",
            "severity": "高い",
            "subcategory": "移行前",
            "text": "RPO/RTO に基づいて、自動フェールオーバー グループを実装する必要があるかどうかを判断します。その場合は、2 番目のインスタンスのデプロイ属性を計画します。",
            "training": "https://learn.microsoft.com/learn/paths/implement-windows-server-iaas-virtual-machine-identity/",
            "waf": "確実"
        },
        {
            "category": "SQL Managed Instance",
            "description": "アプリケーションをマネージド インスタンスに接続する方法は複数あります。長所と短所を確認して理解し、アプリケーションに最適なアプローチを決定します。",
            "guid": "5d226886-d30b-466c-97be-595190f83845",
            "id": "B03.03",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/connect-application-instance?view=azuresql-mi",
            "severity": "低い",
            "subcategory": "移行前",
            "text": "データベースとアプリケーション間の接続設計をレビューし、テストと検証を行う",
            "training": "https://learn.microsoft.com/learn/paths/implement-applications-external-access-azure-ad/",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "移行オプションを比較して、ビジネス ニーズに適したパスを選択します。",
            "guid": "c586cb29-1ec1-46a1-b076-ef9f141acdce",
            "id": "B03.04",
            "link": "https://learn.microsoft.com/azure/azure-sql/migration-guides/managed-instance/sql-server-to-managed-instance-overview?view=azuresql-mi#migration-tools",
            "severity": "中程度",
            "subcategory": "移行前",
            "text": "移行方法を計画します。[DB サイズ] と [アプリケーションのダウンタイム] ウィンドウに応じて、優先する移行方法を選択します。",
            "training": "https://learn.microsoft.com/learn/modules/design-identity-security-strategy/",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "ソースとターゲットの両方でデータが同じであることを確認したら、ソースからターゲット環境にカットオーバーできます。ビジネス/アプリケーション チームとカットオーバー プロセスを計画して、カットオーバー中の中断がビジネス継続性に影響を与えないようにすることが重要です。",
            "guid": "579377bc-db37-451a-a2ac-1fad66e15d4d",
            "id": "B03.05",
            "link": "https://learn.microsoft.com/azure/dms/tutorial-sql-server-managed-instance-online#performing-migration-cutover",
            "severity": "中程度",
            "subcategory": "移行前",
            "text": "ビジネス/アプリケーションチームと切替プロセスを計画して、切替中の中断を最小限に抑え、ビジネス継続性に影響を与えないようにします。",
            "training": "https://learn.microsoft.com/azure/architecture/example-scenario/identity/adds-extend-domain",
            "waf": "確実"
        },
        {
            "category": "SQL Managed Instance",
            "description": "マネージド インスタンスのタイム ゾーンは、インスタンスの作成時にのみ設定できます。デフォルトのタイムゾーンはUTCです",
            "guid": "4a2adb1c-3d23-426a-b225-ca44e1695fdd",
            "id": "B04.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/timezones-overview?view=azuresql#set-a-time-zone",
            "severity": "高い",
            "subcategory": "配備",
            "text": "インスタンスの作成時にタイムゾーン設定をカスタマイズしてください。後で変更することはできません。",
            "training": "https://learn.microsoft.com/azure/role-based-access-control/overview",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "Azure SQL Managed Instance のサーバー レベルの照合順序は、インスタンスの作成時に指定でき、後で変更することはできません。既定のサーバー レベルの照合順序は SQL_Latin1_General_CP1_CI_AS です。",
            "guid": "deace4cb-1deb-44c6-90c3-fc14eebb3693",
            "id": "B04.02",
            "link": "https://learn.microsoft.com/sql/relational-databases/collations/set-or-change-the-server-collation?view=sql-server-ver16",
            "severity": "高い",
            "subcategory": "配備",
            "text": "インスタンスの作成時に適切な照合順序設定を選択してください。後で変更することはできません",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "ネイティブ復元オプションを使用して、Transparent Data Encryption (TDE) によって保護されているデータベースを Azure SQL Managed Instance に移行する場合は、データベースの復元前に、SQL Server インスタンスから対応する証明書を移行する必要があります。",
            "guid": "829e3eec-2183-4687-a007-7a2b5945bda4",
            "id": "B04.03",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/tde-certificate-migrate?view=azuresql-mi&tabs=azure-powershell",
            "severity": "中程度",
            "subcategory": "配備",
            "text": "TDE 対応データベースの場合、データベースを復元する前に、オンプレミスまたは Azure VM SQL Server の対応する証明書を移行する必要があります",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "システム データベースは、サーバー インスタンスが現在実行している SQL Server のバージョンで作成されたバックアップからのみ復元できます。これは、SQL Managed Instance に移行する場合には当てはまりません。Azure PowerShell と DBATools の PowerShell ライブラリを使用すると、移行プロセスのすべての部分を簡単にスクリプト化、自動化、カスタマイズできます。",
            "guid": "3334fdf9-1c23-4418-8b65-275269440b4b",
            "id": "B05.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/migration-guides/managed-instance/sql-server-to-managed-instance-guide?view=azuresql-mi#backup-and-restore",
            "severity": "低い",
            "subcategory": "移動",
            "text": "システム データベースの復元はサポートされていません。インスタンス レベルのオブジェクト (master または msdb データベースに格納されている) を移行するには、それらをスクリプト化し、移行先インスタンスで T-SQL スクリプトを実行することをお勧めします。",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "ソースからターゲットにデータの変更を継続的にレプリケート/同期する移行オプションを使用する場合、ソース データとスキーマが変更され、ターゲットからドリフトする可能性があります。データ同期中に、移行プロセス中にソース上のすべての変更がキャプチャされ、ターゲットに適用されていることを確認します。",
            "guid": "e3d3e084-3276-4d4b-bc01-5bcf219e4a1e",
            "id": "B05.02",
            "severity": "高い",
            "subcategory": "移動",
            "text": "移行プロセス中に、ソース上のすべての変更がキャプチャされ、ターゲットに適用されていることを確認します。",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "データベースの移行後に、アプリケーションがマネージド インスタンスに正常に接続できることを確認します。",
            "guid": "b5887952-5d22-4688-9d30-b66c57be5951",
            "id": "B05.03",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/connect-application-instance?view=azuresql-mi",
            "severity": "中程度",
            "subcategory": "移動",
            "text": "MIおよびデータベースへのアプリケーション接続のテスト",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "高可用性は、データベース アプリケーションに対して透過的に動作する SQL Managed Instance プラットフォームの基本的な部分です。ノードの機能低下や障害検出の場合、または毎月の定期的なソフトウェア更新中に、プライマリ ノードからセカンダリ ノードへのフェールオーバーは、Azure で SQL Managed Instance を使用するすべてのアプリケーションで予期されることです。",
            "guid": "90f83845-c586-4cb2-a1ec-16a1d076ef9f",
            "id": "B06.01",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/user-initiated-failover?view=azuresql",
            "severity": "高い",
            "subcategory": "移行後",
            "text": "SQL Managed Instance で手動フェールオーバーを実行して、障害とフェールオーバーの回復性をテストすることを検討してください。",
            "training": "https://learn.microsoft.com/azure/azure-monitor/logs/design-logs-deployment",
            "waf": "確実"
        },
        {
            "category": "SQL Managed Instance",
            "description": "運用環境にデプロイする前に、アプリケーションがフェールオーバーの回復性を備えていることを確認すると、運用環境でのアプリケーション障害のリスクを軽減し、顧客のアプリケーションの可用性に貢献します。",
            "guid": "141acdce-5793-477b-adb3-751ab2ac1fad",
            "id": "B06.02",
            "link": "https://learn.microsoft.com/azure/azure-sql/managed-instance/auto-failover-group-configure-sql-mi?view=azuresql&tabs=azure-portal#test-failover",
            "severity": "高い",
            "subcategory": "移行後",
            "text": "フェールオーバー グループが実装されている場合は、手動フェールオーバーとフェールバックをテストし、フェールオーバー/フェールバック中のアプリケーションの接続動作をテストします",
            "waf": "確実"
        },
        {
            "category": "SQL Managed Instance",
            "description": "これにより、専用ディスクの IOPS とスループットが向上します",
            "guid": "aa359272-8e6e-4205-8726-76ae46691e88",
            "id": "B06.03",
            "link": "https://techcommunity.microsoft.com/t5/azure-sql-blog/storage-performance-best-practices-and-considerations-for-azure/ba-p/305525",
            "severity": "高い",
            "subcategory": "移行後",
            "text": "汎用マネージド インスタンスのストレージ パフォーマンスを最適化する",
            "training": "https://learn.microsoft.com/learn/paths/architect-infrastructure-operations/",
            "waf": "パフォーマンス"
        },
        {
            "category": "SQL Managed Instance",
            "description": "多くの組織には、証明書または暗号化キーを内部で作成および管理することを要求するポリシーがあります。組織に同様のポリシーがある場合は、このアーキテクチャが適用される可能性があります。顧客がこれらの項目の内部管理を必要とする場合は、アーキテクチャも適用される可能性があります。",
            "guid": "35ad9422-23e1-4381-8523-081a94174158",
            "id": "B06.04",
            "link": "https://learn.microsoft.com/azure/architecture/example-scenario/data/sql-managed-instance-cmk",
            "severity": "低い",
            "subcategory": "移行後",
            "text": "顧客管理の TDE を有効にして、独自のコピーのみの完全バックアップを作成",
            "training": "https://learn.microsoft.com/learn/paths/architect-infrastructure-operations/",
            "waf": "安全"
        },
        {
            "category": "SQL Managed Instance",
            "description": "メンテナンス期間機能を使用すると、営業時間外に事前にスケジュールされたタイム ブロックに Azure SQL リソースをオンボードできます。",
            "guid": "33ef7ad7-c6d3-4733-865c-7acbe44bbe60",
            "id": "B06.05",
            "link": "https://learn.microsoft.com/azure/azure-sql/database/planned-maintenance?view=azuresql",
            "severity": "中程度",
            "subcategory": "移行後",
            "text": "Azure メンテナンス イベントを計画する",
            "training": "https://learn.microsoft.com/learn/paths/implement-resource-mgmt-security/",
            "waf": "オペレーションズ"
        },
        {
            "category": "SQL Managed Instance",
            "description": "長期保有 (LTR) 機能を使用すると、指定した SQL Database と SQL Managed Instance の完全バックアップを、最大 10 年間、冗長性が構成された状態で Azure Blob Storage に格納できます。",
            "guid": "9d89f2e8-7778-4424-b516-785c6fa96b96",
            "id": "B06.06",
            "link": "https://learn.microsoft.com/azure/azure-sql/database/long-term-retention-overview?view=azuresql-mi",
            "severity": "低い",
            "subcategory": "移行後",
            "text": "長期バックアップ保持の構成、バックアップの表示、バックアップからの復元",
            "training": "https://learn.microsoft.com/learn/paths/azure-administrator-manage-compute-resources/",
            "waf": "確実"
        },
        {
            "category": "SQL Managed Instance",
            "description": "Azure ハイブリッド特典を使用すると、ビジネス アプリケーションを最適化しながら、コスト削減を実現し、柔軟なハイブリッド環境を最新化して維持できます。",
            "guid": "ad88408f-3727-434c-a76b-a28021459014",
            "id": "B06.07",
            "link": "https://azure.microsoft.com/en-gb/pricing/hybrid-benefit/#overview",
            "severity": "低い",
            "subcategory": "移行後",
            "text": "該当する場合は、Azure ハイブリッド特典と Azure 予約をご利用ください。",
            "training": "https://learn.microsoft.com/learn/modules/configure-network-watcher/",
            "waf": "費用"
        },
        {
            "category": "SQL Managed Instance",
            "description": "脅威の防止がない場合、Advanced Threat Protection は、高度な SQL セキュリティ機能の統合パッケージである Microsoft Defender for SQL オファリングの一部です。",
            "guid": "65d38e53-f9cc-4bd8-9926-6acca274faa1",
            "id": "B06.08",
            "link": "https://learn.microsoft.com/azure/azure-sql/database/threat-detection-overview?view=azuresql",
            "severity": "中程度",
            "subcategory": "移行後",
            "text": "Microsoft Defender for Cloud を活用して全体的なセキュリティ体制を改善する",
            "training": "https://learn.microsoft.com/learn/paths/implement-resource-mgmt-security/",
            "waf": "安全"
        }
    ],
    "metadata": {
        "name": "SQL Migration Review",
        "state": "Preview",
        "timestamp": "December 13, 2023"
    },
    "severities": [
        {
            "name": "高い"
        },
        {
            "name": "中程度"
        },
        {
            "name": "低い"
        }
    ],
    "status": [
        {
            "description": "このチェックはまだ検討されていません",
            "name": "未確認"
        },
        {
            "description": "このチェックにはアクションアイテムが関連付けられています",
            "name": "開ける"
        },
        {
            "description": "このチェックは検証済みで、これ以上のアクションアイテムは関連付けられていません",
            "name": "達成"
        },
        {
            "description": "推奨事項は理解されているが、現在の要件では不要",
            "name": "必要なし"
        },
        {
            "description": "現在のデザインには適用されません",
            "name": "該当なし"
        }
    ],
    "waf": [
        {
            "name": "確実"
        },
        {
            "name": "安全"
        },
        {
            "name": "費用"
        },
        {
            "name": "オペレーションズ"
        },
        {
            "name": "パフォーマンス"
        }
    ],
    "yesno": [
        {
            "name": "はい"
        },
        {
            "name": "いいえ"
        }
    ]
}